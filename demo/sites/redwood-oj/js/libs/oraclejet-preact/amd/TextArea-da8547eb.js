define(['exports', 'preact/jsx-runtime', 'preact/compat', './FormContext-6b0879a0', './useFormContext-b8cbbb21', './FormFieldContext-a024b891', 'preact/hooks', './useFocusableTextField-8b755b15', './Label-46fd3625', './keyboardUtils-fb6219eb', './TextFieldInput-eb40adaa', 'css!./ObfuscatedTextFieldInputStyles.styles.css', './ReadonlyTextFieldInput-e5723c48', './StyledTextField-5e554e5b', './TextField-51b63f5f', './MaxLengthLiveRegion-1f30f975', './UNSAFE_TextField/themes/TextFieldStyles.css', 'css!./SkeletonStyles.styles.css', 'css!./TextFieldLoadingStyles.styles.css', 'css!./TextFieldStyles.styles.css', 'module', './UNSAFE_TextField/themes/redwood/TextFieldVariants.css', './useTextField-3ab0a23b', './logger-0f873e29', './TabbableModeContext-a9c97640', './useId-c9578d26', './useTranslationBundle-27bf6340', 'css!./UserAssistanceStyles.styles.css', 'module', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceVariants.css', './InlineUserAssistance-b485c235', './CompactUserAssistance-e2f42bce', './mergeProps-bcfa6a92', './LayerHost-7d4aa6d3', 'css!./TooltipContentStyles.styles.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', './tooltipUtils-3c8a0253', 'preact', 'css!./IconStyle.styles.css', './Popup-062b66ff', 'css!./LabelStyles.styles.css', 'module', './UNSAFE_Label/themes/redwood/LabelVariants.css', './InputGroupContext-372087af', './HiddenAccessible-037ef42d', 'module', './UNSAFE_Popup/themes/redwood/PopupVariants.css', './useLengthFilter-c05fd679', './MaxLengthCounter-cadff1c7', './useCurrentValueReducer-faded381', './useSelectableTextField-900d2860', './formControlUtils-de035f75'], (function(e,s,t,a,n,i,l,o,r,d,c,u,x,m,b,p,h,F,f,y,T,g,A,L,S,v,C,R,U,I,E,w,j,_,P,V,k,N,B,D,M,H,q,z,W,$,G,O,X,J,K,Q,Y){"use strict";const Z=t.forwardRef((({"aria-describedby":e,assistiveText:a,autoComplete:l="off",autoFocus:d=!1,columnSpan:u,helpSourceLink:h,helpSourceText:F,isDisabled:f,isReadonly:y,isRequired:T=!1,isRequiredShown:g,label:L,labelEdge:S,labelStartWidth:R,maxLength:U,maxLengthCounter:I="remaining",maxLengthUnit:_,messages:P,placeholder:V,resize:k,role:N,rows:B,textAlign:D,userAssistanceDensity:M,value:H,variant:q="default",onInput:z,onCommit:W,testId:G},O)=>{const Z=C.useTranslationBundle("@oracle/oraclejet-preact"),ee=U?Z.formControl_limitReached({CHARACTER_LIMIT:U}):"",{currentCommitValue:se,dispatch:te}=K.useCurrentValueReducer({value:H}),ae=t.useCallback((e=>{te({type:"input",payload:e.value}),z?.(e)}),[z,te]),ne=t.useCallback((e=>{te({type:"commit",payload:e.value}),W?.(e)}),[W,te]),{isDisabled:ie,isReadonly:le,labelEdge:oe,labelStartWidth:re,textAlign:de,userAssistanceDensity:ce}=n.useFormContext(),ue=f??ie,xe=y??le,me=S??oe,be=R??re,pe=D??de??Y.defaultTextAlignForVariant(q),he=M??ce,Fe=t.useRef(v.useId()),fe=e?`${e} ${Fe.current}`:Fe.current,ye=t.useRef(null),Te=t.useRef(null),{focusProps:ge,isFocused:Ae,methods:Le}=o.useFocusableTextField({isDisabled:ue,isReadonly:xe,enabledElementRef:ye,readonlyElementRef:Te}),{methods:Se}=Q.useSelectableTextField(ye);t.useImperativeHandle(O,(()=>j.mergeProps(Le,Se)),[Le,Se]);const{isMaxLengthExceeded:ve,isMaxLengthReached:Ce,valueLength:Re,onFilteredInput:Ue}=X.useLengthFilter({maxLength:U,maxLengthUnit:_,value:H,onInput:ae,onCommit:ne}),Ie=[...P??[],...Ce?[{detail:ee,severity:"info"}]:[]],{formFieldContext:Ee,inputProps:we,labelProps:je,textFieldProps:_e,userAssistanceProps:Pe}=A.useTextField({ariaDescribedBy:xe||ue?e:fe,contentVariant:"textarea",helpSourceLink:h,helpSourceText:F,isDisabled:ue,isFocused:Ae,isReadonly:xe,isRequiredShown:g,labelEdge:me,messages:Ie,styleVariant:q,userAssistanceDensity:he,value:H}),Ve=t.useCallback((()=>{const e=ye.current,s=e?e.value.length:null;ye.current?.setSelectionRange(s,s),ye.current?.focus()}),[ye]),ke="none"!==me?s.jsx(r.Label,{...je,children:L}):void 0,Ne={label:"none"!==me?ke:void 0,labelEdge:"none"!==me?me:void 0,labelStartWidth:"none"!==me?be:void 0,labelText:"inside"!==me||ue?void 0:L},Be="none"===me?L:void 0,De="efficient"===he||"reflow"===he?ue?"efficient"!==he?void 0:s.jsx(E.InlineUserAssistance,{userAssistanceDensity:he,...Pe}):xe?s.jsx(E.InlineUserAssistance,{fieldLabel:L,messages:P,userAssistanceDensity:he,...Pe}):s.jsx(E.InlineUserAssistance,{assistiveText:a,fieldLabel:L,helpSourceLink:h,helpSourceText:F,messages:Ie,isRequiredShown:g,userAssistanceDensity:he,...Pe}):void 0,Me=t.useRef(null),He="compact"===he?s.jsx(w.CompactUserAssistance,{anchorRef:Me,messages:Ie,assistiveText:a,...Pe}):void 0;if(xe){const e=s.jsx(x.ReadonlyTextFieldInput,{"aria-describedby":we["aria-describedby"],"aria-label":Be,"aria-labelledby":je.id,as:"textarea",elementRef:Te,formVariant:q,rows:B,autoFocus:d,textAlign:pe,value:H,variant:"textarea",hasEmptyLabel:""===L&&"none"===me,hasInsideLabel:void 0!==L&&"inside"===me,onBlur:we.onBlur,onFocus:we.onFocus});return s.jsx(i.FormFieldContext.Provider,{value:Ee,children:s.jsx(m.ReadonlyTextField,{role:"presentation",columnSpan:u,compactUserAssistance:He,inlineUserAssistance:De,ref:Me,testId:G,variant:"textarea",mainContent:e,resize:k,...Ne})})}const qe=void 0!==U,ze=s.jsxs(s.Fragment,{children:[s.jsx(c.TextFieldInput,{as:"textarea","aria-label":Be,autoComplete:l,autoFocus:d,currentCommitValue:se,hasEmptyLabel:""===L&&"none"===me,hasInsideLabel:void 0!==ke&&"inside"===me,isRequired:T,inputRef:ye,onCommit:ne,onInput:Ue,placeholder:V,role:N,rows:B,textAlign:pe,value:H,...we}),"remaining"===I&&qe&&s.jsx(J.MaxLengthCounter,{maxLength:U,valueLength:Re,onClick:Ve}),qe&&s.jsx($.HiddenAccessible,{id:Fe.current,isHidden:!0,children:Z.formControl_maxLength({MAX_LENGTH:`${U}`})}),qe&&Ae&&s.jsx(p.MaxLengthLiveRegion,{isMaxLengthExceeded:ve,maxLength:U,valueLength:Re,testId:G?G+"_maxLength":void 0})]});return s.jsx(i.FormFieldContext.Provider,{value:Ee,children:s.jsx(b.TextField,{mainContent:ze,columnSpan:u,compactUserAssistance:He,inlineUserAssistance:De,onBlur:ge?.onFocusOut,onFocus:ge?.onFocusIn,mainFieldRef:Me,resize:k,testId:G,..._e,...Ne})})}));e.TextArea=Z}));
//# sourceMappingURL=TextArea-da8547eb.js.map
