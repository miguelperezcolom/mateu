{"version":3,"file":"SelectMenuItem-ea915aed.js","sources":["../../src/UNSAFE_Menu/SelectMenuItem.tsx","../../src/UNSAFE_Menu/useSelectMenuGroupContext.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { ComponentChildren } from 'preact';\nimport { useMemo } from 'preact/hooks';\nimport { useId } from '../hooks/UNSAFE_useId';\n\nimport { CheckIcon } from '../PRIVATE_ThemedIcons/CheckIcon';\n\nimport { BaseMenuItem } from './MenuItem';\nimport { useSelectMenuGroupContext } from './useSelectMenuGroupContext';\nimport { styles } from './themes/MenuItemStyles.css';\n\ntype SelectMenuItemProps = {\n  value: string;\n  label: string;\n  isDisabled?: boolean;\n  endIcon?: ComponentChildren;\n};\n\nexport function SelectMenuItem({ value, label, isDisabled, endIcon }: SelectMenuItemProps) {\n  const { isMultiple, value: selectedValue, onCommit, groupKey } = useSelectMenuGroupContext();\n  const uniqueID = useId();\n  const id = useMemo(() => `oj-menu-item-${uniqueID}`, [uniqueID]);\n\n  const { isSelected, memoizedOnCommit } = useMemo(() => {\n    if (!isMultiple) {\n      return {\n        isSelected: selectedValue === value,\n        memoizedOnCommit: () => {\n          onCommit?.({ value, previousValue: selectedValue });\n        }\n      };\n    }\n    return {\n      isSelected: !!selectedValue?.includes(value),\n      memoizedOnCommit: () => {\n        const proposedValue = isSelected\n          ? selectedValue?.filter((val) => val !== value) || []\n          : [...(selectedValue || []), value];\n        onCommit?.({ value: proposedValue, previousValue: selectedValue });\n      }\n    };\n  }, [selectedValue, value, onCommit, isMultiple]);\n\n  return (\n    <BaseMenuItem\n      id={id}\n      type=\"select\"\n      role={isMultiple ? 'menuitemcheckbox' : 'menuitemradio'}\n      isChecked={isSelected}\n      isDisabled={isDisabled}\n      startIcon={isSelected ? <CheckIcon /> : <span class={styles.noSelectedIcon}></span>}\n      label={label}\n      onAction={memoizedOnCommit}\n      endIcon={endIcon}\n      itemKey={`${groupKey}-${value}`}\n    />\n  );\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * Licensed under The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { useContext } from 'preact/hooks';\nimport { SelectMenuGroupContext } from './SelectMenuGroupContext';\n\n/**\n * Utility hook for consuming the MenuContext\n *\n * @returns The value of MenuContext provider\n */\nfunction useSelectMenuGroupContext() {\n  return useContext(SelectMenuGroupContext);\n}\n\nexport { useSelectMenuGroupContext };\n"],"names":["value","label","isDisabled","endIcon","isMultiple","selectedValue","onCommit","groupKey","useContext","SelectMenuGroupContext","uniqueID","useId","id","useMemo","isSelected","memoizedOnCommit","includes","proposedValue","filter","val","previousValue","_jsx","jsx","BaseMenuItem","type","role","isChecked","startIcon","CheckIcon","class","styles","noSelectedIcon","onAction","itemKey"],"mappings":"0PAyBM,UAAyBA,MAAEA,EAAKC,MAAEA,EAAKC,WAAEA,EAAUC,QAAEA,IACzD,MAAMC,WAAEA,EAAYJ,MAAOK,EAAaC,SAAEA,EAAQC,SAAEA,GCT7CC,EAAAA,WAAWC,EAAAA,wBDUZC,EAAWC,EAAAA,QACXC,EAAKC,EAAOA,SAAC,IAAM,gBAAgBH,KAAY,CAACA,KAEhDI,WAAEA,EAAUC,iBAAEA,GAAqBF,EAAOA,SAAC,IAC1CT,EAQE,CACLU,aAAcT,GAAeW,SAAShB,GACtCe,iBAAkB,KAChB,MAAME,EAAgBH,EAClBT,GAAea,QAAQC,GAAQA,IAAQnB,KAAU,GACjD,IAAKK,GAAiB,GAAKL,GAC/BM,IAAW,CAAEN,MAAOiB,EAAeG,cAAef,GAAgB,GAb7D,CACLS,WAAYT,IAAkBL,EAC9Be,iBAAkB,KAChBT,IAAW,CAAEN,QAAOoB,cAAef,GAAgB,IAaxD,CAACA,EAAeL,EAAOM,EAAUF,IAEpC,OACEiB,EAAAC,IAACC,EAAYA,aAAA,CACXX,GAAIA,EACJY,KAAK,SACLC,KAAMrB,EAAa,mBAAqB,gBACxCsB,UAAWZ,EACXZ,WAAYA,EACZyB,UAAWb,EAAaO,EAACC,IAAAM,WAAY,CAAA,GAAGP,MAAA,OAAA,CAAMQ,MAAOC,EAAAA,OAAOC,iBAC5D9B,MAAOA,EACP+B,SAAUjB,EACVZ,QAASA,EACT8B,QAAS,GAAG1B,KAAYP,KAG9B"}