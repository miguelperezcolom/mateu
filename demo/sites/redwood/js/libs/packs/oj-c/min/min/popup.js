define("oj-c/popup/popup",["require","exports","preact/jsx-runtime","@oracle/oraclejet-preact/translationBundle","ojs/ojvcomponent","preact/hooks","@oracle/oraclejet-preact/UNSAFE_Popup","@oracle/oraclejet-preact/UNSAFE_Layer","ojs/ojcontext","css!oj-c/popup/popup-styles.css"],(function(require,e,t,o,n,r,s,i,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Popup=void 0;const c=Symbol.for("__oj_c_layer_content");e.Popup=(0,n.registerCustomElement)("oj-c-popup",(({id:e,opened:o=!1,children:l,anchor:u,launcher:p,placement:d,collision:m="fit",modality:f="modeless",offset:y,initialFocus:b="auto",autoDismiss:x="focusLoss",tail:h="none",variant:g="standard",onOpenedChanged:j,onOjOpen:A,onOjBeforeClose:O,onOjClose:_,onOjFocus:v,width:C,minWidth:P,maxWidth:w="calc(100vw - 3rem)",height:E,minHeight:R,maxHeight:L="calc(100vh - 3rem)",...k})=>{const S=(0,r.useRef)(null);let F=d;const W=(0,r.useRef)(null),B=(0,r.useRef)(null),H=(0,r.useRef)(),V=(0,r.useRef)(!1),D=(0,r.useCallback)((t=>S.current?a.getContext(S.current).getBusyContext().addBusyState({description:`oj-c-popup id='${e}' is ${t}`}):()=>{}),[e]),N=(0,r.useCallback)((e=>{if(S.current)if(e){e[i.LOGICAL_PARENT]=S.current,S.current[c]=e}else if(S.current[c]){delete S.current[c][i.LOGICAL_PARENT],delete S.current[c]}}),[]);let T;if((0,r.useEffect)((()=>()=>{H.current&&H.current()}),[]),(0,r.useEffect)((()=>{V.current?(H.current&&H.current(),H.current=D("animating")):V.current=!0}),[o,D]),"string"==typeof p){const e=document.querySelector(p);e&&(T=e)}else p instanceof HTMLElement?document.body.contains(p)&&(T=p):T=document.activeElement;let q;if(u)if(u instanceof Window||"window"===u)q="window";else if("string"==typeof u){q=document.querySelector(u)||T}else u instanceof Element?q=document.body.contains(u)?u:T:"object"!=typeof(G=u)||Array.isArray(G)||null===G||(q="number"==typeof u.x&&"number"==typeof u.y?u:T);else q=T;var G;d||(F="window"===q?"center":"bottom-start");const I={mainAxis:!0,crossAxis:!0},M={mainAxis:!1,crossAxis:!1};switch(m){case"none":I.mainAxis=!1,I.crossAxis=!1;break;case"fit":I.mainAxis=!1,I.crossAxis=!1,M.mainAxis=!0,M.crossAxis=!0;break;case"flipcenter":case"flipfit":M.mainAxis=!0,M.crossAxis=!0}const K=!d||(e=>["top","bottom"].indexOf(e.split("-")[0])>-1)(d),U={};y&&(K?(y.y&&(U.mainAxis=y.y),y.x&&(U.crossAxis=y.x)):(y.x&&(U.mainAxis=y.x),y.y&&(U.crossAxis=y.y)));const $=async e=>{try{await(O?.(e)),j?.(!1)}catch(e){}};return W.current=q,B.current=T,(0,t.jsx)(n.Root,{ref:S,id:e,children:(0,t.jsx)(s.Popup,{ref:N,isOpen:o,anchorRef:"window"===W.current?void 0:W,launcherRef:B,placement:d??F,offset:y?U:void 0,flipOptions:I,shiftOptions:M,modality:f,initialFocus:b,tail:h,variant:g,onClose:async e=>{if("escapeKey"===e.reason)return $(e);"closeSkipLink"===e.reason&&j?.(!1)},onClickOutside:async()=>{if("focusLoss"===x)return $({reason:"outsideClick"})},onTransitionEnd:async e=>{H.current&&(H.current(),H.current=void 0),e?A?.():_?.()},onFocusSet:()=>{v?.()},width:C,minWidth:P,maxWidth:w,height:E,minHeight:R,maxHeight:L,role:k.role,backgroundColor:k.backgroundColor,"aria-describedby":k["aria-describedby"],"aria-label":k["aria-label"],"aria-labelledby":k["aria-labelledby"],children:l})})}),"Popup",{slots:{"":{}},properties:{opened:{type:"boolean",writeback:!0},launcher:{type:"string|Element"},anchor:{type:"string|Element|object"},placement:{type:"string",enumValues:["center","end","start","top","bottom","top-start","top-end","top-start-corner","top-end-corner","start-top","start-bottom","start-top-corner","start-bottom-corner","bottom-start","bottom-end","bottom-start-corner","bottom-end-corner","end-top","end-bottom","end-top-corner","end-bottom-corner"]},modality:{type:"string",enumValues:["modal","modeless"]},autoDismiss:{type:"string",enumValues:["none","focusLoss"]},tail:{type:"string",enumValues:["none","simple"]},variant:{type:"string",enumValues:["standard","unstyled"]},initialFocus:{type:"string",enumValues:["auto","none","popup","firstFocusable"]},offset:{type:"object",properties:{x:{type:"number"},y:{type:"number"}}},collision:{type:"string",enumValues:["none","flip","fit","flipfit","flipcenter"]},width:{type:"number|string"},minWidth:{type:"number|string"},maxWidth:{type:"number|string"},height:{type:"number|string"},minHeight:{type:"number|string"},maxHeight:{type:"number|string"},backgroundColor:{type:"string"}},events:{ojOpen:{},ojBeforeClose:{cancelable:!0},ojClose:{},ojFocus:{}},extension:{_WRITEBACK_PROPS:["opened"],_READ_ONLY_PROPS:[],_OBSERVED_GLOBAL_PROPS:["aria-describedby","aria-label","aria-labelledby","id","role"]}},{opened:!1,collision:"fit",modality:"modeless",initialFocus:"auto",autoDismiss:"focusLoss",tail:"none",variant:"standard",maxWidth:"calc(100vw - 3rem)",maxHeight:"calc(100vh - 3rem)"},{"@oracle/oraclejet-preact":o.default})})),define("oj-c/popup",["require","exports","oj-c/popup/popup"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Popup=void 0,Object.defineProperty(e,"Popup",{enumerable:!0,get:function(){return t.Popup}})}));
//# sourceMappingURL=popup.js.map