define(['exports', 'preact/jsx-runtime', 'preact/compat', 'preact/hooks', './Label-46fd3625', './keyboardUtils-fb6219eb', './TextFieldInput-eb40adaa', 'css!./ObfuscatedTextFieldInputStyles.styles.css', './ReadonlyTextFieldInput-e5723c48', './StyledTextField-5e554e5b', './TextField-51b63f5f', './LayerHost-7d4aa6d3', 'css!./LiveRegionStyles.styles.css', './UNSAFE_TextField/themes/TextFieldStyles.css', 'css!./SkeletonStyles.styles.css', 'css!./TextFieldLoadingStyles.styles.css', 'css!./TextFieldStyles.styles.css', 'module', './UNSAFE_TextField/themes/redwood/TextFieldVariants.css', './logger-0f873e29', './TabbableModeContext-a9c97640', 'css!./UserAssistanceStyles.styles.css', 'module', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceVariants.css', './InlineUserAssistance-b485c235', './CompactUserAssistance-e2f42bce', 'css!./TooltipContentStyles.styles.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', './tooltipUtils-3c8a0253', 'preact', 'css!./IconStyle.styles.css', './Popup-062b66ff', 'css!./LabelStyles.styles.css', 'module', './UNSAFE_Label/themes/redwood/LabelVariants.css', './InputGroupContext-372087af', 'css!./HiddenAccessibleStyles.styles.css', 'module', './UNSAFE_Popup/themes/redwood/PopupVariants.css', './useFocusableTextField-8b755b15', './FormContext-6b0879a0', './useFormContext-b8cbbb21', './FormFieldContext-a024b891', './useTextField-3ab0a23b', './useUser-988f7da2', './timeUtils-3cb03b2f', './stringUtils-4ffd9d59', './Flex-4bc3a394', './HiddenAccessible-037ef42d', './LiveRegion-4b9317e5', './UNSAFE_TextField/themes/redwood/TextFieldInputTheme', './useComponentTheme-5aa41a8f', './useFormFieldContext-9260f081', './useTranslationBundle-27bf6340', './formControlUtils-de035f75', './classNames-08d99695', './UNSAFE_InputTimeMask/themes/SegmentStyles.css', './getFormatParse-7ea0c25b', './maskUtils-8e7a7701', './clientHints-6d361eaa', './useDoubleTap-b6bf5458', './useTabbableMode-df433329', 'css!./MessageBannerStyles.styles.css', 'module', './UNSAFE_MessageBanner/themes/redwood/MessageBannerVariants.css', 'css!./MessageBannerVariants.styles.css', './vanilla-extract-recipes-createRuntimeFn.esm-d881c69a', './useTooltip-e14d62f1', './useTooltipControlled-f7e07ed4', './useId-c9578d26', './useHover-8b8a1496', './useToggle-a29f97af', './useFocus-4194fc59', './useTouch-37489bb5', './mergeProps-bcfa6a92', './useAnimation-5a74955f', './useTestId-a2e433c2', './useThemeInterpolations-1dff2f9d', './useColorScheme-f2a81610', './useScale-5d246769', './theme-a8f3d819', './Theme-d945adae', './mergeInterpolations-9ede4cf7', './mergeDeepWithKey-aaab9019', './_curry3-83878f86', './_curry1-df649359', './_curry2-86c52b86', './_isObject-42bafc94', './useDensity-bee3cef4', './unsafeDomAccess-602c5dde', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentTheme', './hooks/UNSAFE_useTooltip/themes/TooltipContentStyles.css', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentBaseTheme.css', 'css!./TooltipContentVariants.styles.css', './IconButton-b4b83d00', './BaseButton-d2266b25', './useActive-bb5dc069', './dimensions-f24f9a2b', './size-0127b66b', './utils-ad4761c9', './themeContract.css-2e4b066d', './colorUtils-b9dc1bd1', './UNSAFE_BaseButton/themes/redwood/BaseButtonTheme', './UNSAFE_BaseButton/themes/BaseButtonStyles.css', 'css!./BaseButtonStyles.styles.css', './UNSAFE_BaseButton/themes/redwood/BaseButtonVariants.css', 'module', './BareButton-6152c7c2', './useBareButton-98f047f8', './usePress-949a0d03', './usePressClick-b7b38da2', './buttonUtils-cbbb0130', './id-c70ab33c', './ButtonLabelLayout-9cc087dc', './Text-9e32c423', './UNSAFE_Text/themes/TextStyles.css', 'css!./TextStyles.styles.css', './useButtonLabelLayoutTheme-3237026f', './UNSAFE_ButtonLabelLayout/themes/redwood/ButtonLabelLayoutTheme', './UNSAFE_ButtonLabelLayout/themes/ButtonLabelLayoutStyles.css', 'css!./ButtonLabelLayoutStyles.styles.css', './UNSAFE_ButtonLabelLayout/themes/redwood/ButtonLabelLayoutBaseTheme.css', 'module', './UNSAFE_ButtonLabelLayout/themes/redwood/ButtonLabelLayoutVariants.css', 'css!./ButtonLabelLayoutVariants.styles.css', 'css!./MessageStyles.styles.css', './MessageFormattingUtils-ea0be23e', './getLocale-ae79e654', './TransitionGroup-3b9d81b6', './MessagesContext-602a69a2', 'css!./ComponentMessageStyles.styles.css', 'module', './UNSAFE_ComponentMessage/themes/redwood/ComponentMessageVariants.css', './UNSAFE_Separator/themes/SeparatorStyles.css', 'css!./SeparatorStyles.styles.css', './CompactLabelAssistance-7ec99e08', './CompactHelpSource-103a8263', './Help-99314e05', './Icon-865b3c78', './UNSAFE_Icon/themes/IconStyle.css', './useFocusWithin-5a504fca', './UNSAFE_UserAssistance/themes/UserAssistanceStyles.css', './UNSAFE_Label/themes/redwood/LabelTheme', './UNSAFE_Label/themes/LabelStyles.css', './UNSAFE_Label/themes/redwood/LabelBaseTheme.css', './truncationUtils-84dea8ba', './UNSAFE_TextField/themes/redwood/TextFieldTheme', './UNSAFE_TextField/themes/redwood/TextFieldBaseTheme.css', 'css!./TextFieldVariants.styles.css', './useAccessibleContext-23e8a333', './useTextFieldInputHandlers-d401bba6', './textAlign-ef924afd', 'css!./text.styles.css', './vanilla-extract-sprinkles-createRuntimeSprinkles.esm-84d30764', './TextFieldUtils-f3868e96', './UNSAFE_TextField/themes/FormControlUtilsStyles.css', 'css!./FormControlUtilsStyles.styles.css', './UNSAFE_TextField/themes/redwood/ReadonlyTextFieldInputTheme', './UNSAFE_TextField/themes/ReadonlyTextFieldInputStyles.css', 'css!./ReadonlyTextFieldInputStyles.styles.css', './UNSAFE_TextField/themes/redwood/ReadonlyTextFieldInputVariants.css', './LabelValueLayout-39dc1be3', './StyledLabelValueLayout-5a476d38', 'css!./LabelValueLayoutStyles.styles.css', './UNSAFE_TextField/themes/redwood/FormLayoutTheme', './UNSAFE_TextField/themes/FormLayoutStyles.css', './UNSAFE_TextField/themes/redwood/FormLayoutBaseTheme.css', 'module', './formControlUtils-a737ac5e', './LayoutStyles.css-e2543ca1', 'css!./LayoutStyles.styles.css', './UNSAFE_Skeleton/themes/redwood/SkeletonTheme', './UNSAFE_Skeleton/themes/SkeletonStyles.css', './UNSAFE_Skeleton/themes/redwood/SkeletonBaseTheme.css', 'module', './UNSAFE_Skeleton/themes/redwood/SkeletonVariants.css', './useInputGroupContext-e6e19f4f', './UNSAFE_TextField/themes/redwood/ReadonlyTextFieldTheme', './UNSAFE_TextField/themes/ReadonlyTextFieldStyles.css', 'css!./ReadonlyTextFieldStyles.styles.css', './UNSAFE_TextField/themes/redwood/ReadonlyTextFieldVariants.css', 'css!./ReadonlyTextFieldVariants.styles.css', './index-f7ad24df', './UNSAFE_Layer/themes/LayerHostStyles.css', 'css!./LayerHostStyles.styles.css', './ComponentMessageContainer-4d5cfe71', './MessagesManager-1a6283c1', './SuccessS-8dafd1a1', './ErrorS-8d91fdff', './InformationS-015cd288', './WarningS-c50c4022', './PRIVATE_Message/themes/MessageStyles.css', './soundUtils-f6535f03', './useMessagesContext-1395a997', './Transition-04efcc49', './UNSAFE_ComponentMessage/themes/redwood/ComponentMessageTheme', './UNSAFE_ComponentMessage/themes/ComponentMessageStyles.css', './UNSAFE_ComponentMessage/themes/redwood/ComponentMessageBaseTheme.css', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceTheme', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceBaseTheme.css', './InlineHelp-1fc7b3a9', './InlineHelpSource-34ec0779', './Separator-181f7541', './EnvironmentProvider-fb09fcfb', './LayerManager-4983f21c', './Floating-366a30f8', './useFloating-0df4b3d3', './positionUtils-6e4daa31', './refUtils-77e97004', './useOutsideClick-9c4ceb18', './arrayUtils-6ee96a35', './Layer-dc3c1ac9', './UNSAFE_Layer/themes/LayerStyles.css', 'css!./LayerStyles.styles.css', './useModal-536cb7ff', './UNSAFE_Floating/themes/redwood/FloatingTheme', './UNSAFE_Floating/themes/FloatingStyles.css', 'css!./FloatingStyles.styles.css', './UNSAFE_Floating/themes/redwood/FloatingBaseTheme.css', 'module', './UNSAFE_Floating/themes/redwood/FloatingVariants.css', './vanilla-extract-dynamic.esm-6065bbd7', './UNSAFE_Floating/themes/FloatingContract.css', './useUnsafeDomElementRef-75afb461', './tabbableUtils-9101c0e5', './head-9cb1a3da', './_arity-5a5f5f71', './_isArray-32602db6', './_isString-d0ada3cb', './FocusTrap-d06ac102', './FocusTracker-558a10ff', './PRIVATE_FocusTracker/themes/FocusTrackerStyles.css', 'css!./FocusTrackerStyles.styles.css', './Modal-8d647f76', './UNSAFE_Modal/themes/ModalStyles.css', 'css!./ModalStyles.styles.css', './popupUtils-e19b93b5', './WindowOverlay-bd810e3b', './UNSAFE_WindowOverlay/themes/WindowOverlayStyles.css', 'css!./WindowOverlayStyles.styles.css', './UNSAFE_WindowOverlay/themes/WindowOverlayContract.css', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayTheme', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayBaseTheme.css', 'module', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayVariants.css', './usePopupAnimation-9f80595b', './useAnimationStatus-4b135f52', './popupAnimationUtils-49b93365', './UNSAFE_Popup/themes/PopupContract.css', './UNSAFE_Popup/themes/redwood/PopupTheme', './UNSAFE_Popup/themes/redwood/PopupBaseTheme.css', 'css!./PopupStyles.styles.css', './colors-17f17162', './useMessageSeverity-1d69e1ae', './useFormFieldContextProps-08e673cf', './calendarDateUtils-dd5b75ee', './boxalignment-6cee1ef3', 'css!./boxalignment.styles.css', './flexbox-8521f6aa', 'css!./flexbox.styles.css', './flexitem-5db48325', 'css!./flexitem.styles.css', 'css!./FlexStyles.styles.css', './UNSAFE_TextField/themes/TextFieldInputStyles.css', 'css!./TextFieldInputStyles.styles.css', './UNSAFE_TextField/themes/redwood/TextFieldInputVariants.css', 'css!./TextFieldInputVariants.styles.css', 'css!./SegmentStyles.styles2.css', './types-2446783b'], (function(e,t,s,a,o,i,n,r,l,d,c,u,m,y,p,h,b,f,S,F,g,T,v,x,A,C,U,w,E,L,_,k,N,P,B,I,R,M,D,H,V,j,O,W,Z,q,$,z,G,K,J,Q,X,Y,ee,te,se,ae,oe,ie,ne,re,le,de,ce,ue,me,ye,pe,he,be,fe,Se,Fe,ge,Te,ve,xe,Ae,Ce,Ue,we,Ee,Le,_e,ke,Ne,Pe,Be,Ie,Re,Me,De,He,Ve,je,Oe,We,Ze,qe,$e,ze,Ge,Ke,Je,Qe,Xe,Ye,et,tt,st,at,ot,it,nt,rt,lt,dt,ct,ut,mt,yt,pt,ht,bt,ft,St,Ft,gt,Tt,vt,xt,At,Ct,Ut,wt,Et,Lt,_t,kt,Nt,Pt,Bt,It,Rt,Mt,Dt,Ht,Vt,jt,Ot,Wt,Zt,qt,$t,zt,Gt,Kt,Jt,Qt,Xt,Yt,es,ts,ss,as,os,is,ns,rs,ls,ds,cs,us,ms,ys,ps,hs,bs,fs,Ss,Fs,gs,Ts,vs,xs,As,Cs,Us,ws,Es,Ls,_s,ks,Ns,Ps,Bs,Is,Rs,Ms,Ds,Hs,Vs,js,Os,Ws,Zs,qs,$s,zs,Gs,Ks,Js,Qs,Xs,Ys,ea,ta,sa,aa,oa,ia,na,ra,la,da,ca,ua,ma,ya,pa,ha,ba,fa,Sa,Fa,ga,Ta,va,xa,Aa,Ca,Ua,wa,Ea,La,_a,ka,Na,Pa,Ba,Ia,Ra,Ma,Da,Ha,Va,ja,Oa,Wa,Za,qa,$a,za,Ga,Ka,Ja,Qa,Xa,Ya){"use strict";const eo=({isHidden:e,isHighlighted:s,isPlaceholder:a,text:o})=>{const i=""===o.trim(),n=se.classNames([ae.segmentStyles.literalBase,a&&ae.segmentStyles.placeholder,i&&ae.segmentStyles.space,s&&ae.segmentStyles.highlighted,e?ae.segmentStyles.hidden:ae.segmentStyles.notHidden]);return t.jsx("span",{"aria-hidden":"true",class:n,children:i?null:o})};const to=e=>/^\p{L}$/u.test(e),so=e=>oo(e).map((e=>e.textContent)).join(""),ao=(e,t)=>{oo(e)[0].textContent=t},oo=e=>Array.from(e.childNodes).filter((e=>!(e.nodeType===Node.ELEMENT_NODE&&"true"===e.getAttribute("aria-hidden")))),io=e=>{e.preventDefault()},no=()=>"ios"===ne.getClientHints().platform,ro=({amPm:e,"aria-label":s,"aria-valuemax":o,"aria-valuemin":n,"aria-valuenow":r,"aria-valuetext":l,inputRef:d,isDisabled:c,isHidden:u,isHighlighted:m,isInvalid:y,isRequired:p,isSelected:h,onChange:b,placeholder:f,text:S,type:F})=>{const g=S&&S.length>0,T=se.classNames([ae.segmentStyles.base,h&&ae.segmentStyles.selected,m&&ae.segmentStyles.highlighted]),v=se.classNames([ae.segmentStyles.placeholder,u||g?ae.segmentStyles.hidden:ae.segmentStyles.notHidden]),x=ee.useTranslationBundle("@oracle/oraclejet-preact").formControl_empty_segment(),A=a.useRef(null),C=d??A,U=a.useCallback((e=>{if(!0!==c&&"Tab"!==e.key&&"ArrowLeft"!==e.key&&"ArrowRight"!==e.key&&"Enter"!==e.key&&"Escape"!==e.key&&!i.isSelectAll(e)){if(m){if(i.isBackspaceOrDelete(e)||"Backspace"===e.key)return}else if(ie.isNumberOnlyString(e.key))"dayPeriod"!==F&&b?.({actionType:"updateSegment",data:{type:F,text:e.key}});else if(i.isBackspaceOrDelete(e)||"Backspace"===e.key)b?.({actionType:"clearSegment",data:{type:F}});else if("ArrowUp"===e.key)b?.({actionType:"step",data:{direction:"increase",type:F}});else if("ArrowDown"===e.key)b?.({actionType:"step",data:{direction:"decrease",type:F}});else if("PageUp"===e.key)b?.({actionType:"page",data:{direction:"increase",type:F}});else if("PageDown"===e.key)b?.({actionType:"page",data:{direction:"decrease",type:F}});else if("Home"===e.key)b?.({actionType:"goToHome",data:{type:F}});else if("End"===e.key)b?.({actionType:"goToEnd",data:{type:F}});else if("dayPeriod"===F)return;e.preventDefault(),e.stopPropagation()}}),[c,m,b,F]),w=function(e,t,s){const o=a.useRef(null),i=a.useCallback((e=>{s?.({actionType:"updateDayPeriodSegment",data:{type:"dayPeriod","aria-valuenow":e}})}),[s]),n=a.useCallback((()=>{s?.({actionType:"step",data:{type:"dayPeriod",direction:"increase"}})}),[s]),r=a.useCallback((t=>{if(null!==t&&""!==t.trim()&&to(t)){const s=$.getAmPmMatchType(e,t);if("am"===s||"pm"===s){const e="am"===s?$.AM_VALUE:$.PM_VALUE;i(e)}else"both"===s&&n()}}),[e,n,i]);return{onBeforeInput:a.useCallback((e=>{e.preventDefault(),"insertCompositionText"===e.inputType?t.current&&(o.current=so(t.current)):r(e.data)}),[r,t]),onInput:a.useCallback((e=>{const{inputType:s,data:a}=e;"insertCompositionText"===s&&(t.current&&null!==o.current&&ao(t.current,o.current),r(a))}),[r,t])}}(e??{am:"AM",pm:"PM"},C,b);a.useEffect((()=>{h&&C.current?.focus()}),[h,C,F]);const E=void 0===l?x:r?.toString()===l?void 0:l,L={"data-segment":[F]};return t.jsx("div",{children:t.jsxs("div",{ref:C,role:no()?"textbox":"spinbutton","aria-disabled":c,"aria-invalid":y||void 0,"aria-label":s,"aria-multiline":!no()&&void 0,"aria-required":p,"aria-valuemin":no()?void 0:n,"aria-valuemax":no()?void 0:o,"aria-valuenow":no()?void 0:r,"aria-valuetext":no()?void 0:E,autocapitalize:"off",autocorrect:"off",class:T,contentEditable:!c,..."dayPeriod"===F?w:{},...L,enterkeyhint:c?void 0:"done",inputMode:c?"none":"dayPeriod"!==F?"numeric":"text",onCut:io,onKeyDown:U,onPaste:io,spellcheck:!1,tabIndex:h?0:-1,children:[t.jsx("span",{"aria-hidden":"true",class:v,...L,children:f}),S]})})},lo=(e,t)=>{if("reset"===t.actionType)return t.data;const s=t.data?.type,a=mo(e.segments,s);switch(t.actionType){case"clearTime":{const t=go(fo(e.segments),e.orderedSegments);return Lo(e,t,!1)}case"clearSegment":{const t=bo(a);return ho(e,s,t)}case"deselectAndComplete":{let t=wo(e.segments);return t=Co(t),Lo(e,t,!1)}case"commitOnEnter":{const t=wo(e.segments);return{...Lo(e,t,!1),committing:!0}}case"commitOnBlur":{let t=wo(e.segments);t=Co(t);return{...Lo(e,t,!1),committing:!0}}case"committed":return{...e,committing:!1};case"goToEnd":{const t=Po(s,a);return ho(e,s,t,!1)}case"goToHome":{const t=No(s,a);return ho(e,s,t,!1)}case"page":{const o=t.data?.direction;if(void 0===o)return e;const i=Bo(s,a,"page",o);return ho(e,s,i,!1)}case"selectTime":return Eo(e);case"selectFirst":{const t=go(e.segments,e.orderedSegments);return Lo(e,t,!1)}case"selectNext":{const t=Uo(e.segments,!0),s=xo(t,e.orderedSegments);return Lo(e,s,!1)}case"selectPrevious":{const t=Ao(e.segments,e.orderedSegments);return Lo(e,t,!1)}case"selectSegment":{const t=Fo(e.segments,s);return Lo(e,t,!1)}case"step":{const o=t.data?.direction;if(void 0===o)return e;const i=Bo(s,a,"step",o);return ho(e,s,i,!1)}case"updateDayPeriodSegment":if("dayPeriod"===s){const o=t.data?.["aria-valuenow"];if(12===o||0===o){const t=ko(s,o,a);return ho(e,s,t,!1)}}return e;case"updateSegment":{if("0"===t.data?.text&&"hour"===s&&1===a["aria-valuemin"]&&(a.isComplete||void 0===a["aria-valuenow"])){const t={...a,digitCount:1};return ho(e,s,t,!1,!1)}const o=So(s,a,t);return ho(e,s,o)}default:throw new Error("Unknown action type")}},co=e=>+e,uo=e=>e.toString(),mo=(e,t)=>e.find((e=>e.type===t)),yo=e=>e.some((e=>void 0!==e["aria-valuenow"])),po=e=>e.map((e=>{if(void 0!==e["aria-valuenow"])return e;let t,s;return"millisecond"===e.type?(t="000",s=0):["minute","second"].includes(e.type)?(t="00",s=0):"dayPeriod"===e.type&&(t=e.amPm?.am,s=0),void 0!==t?{...e,"aria-valuenow":s,text:t,isComplete:!0,"aria-valuetext":t,isAutoFilled:!0}:e})),ho=(e,t,s,a=!0,o=!0)=>{let i=((e,t,s,a,o,i)=>{const n=((e,t,s)=>e.map((e=>e.type===t?s:e)))(e,s,a);let r=n;return"hour"===s&&a.isComplete&&i&&(r=po(r)),r=a.isComplete&&o?xo(r,t):r,r})(e.segments,e.orderedSegments,t,s,a,o);return"hour"!==t&&(i=i.map((e=>({...e,isAutoFilled:!1})))),Lo(e,i,e.isTimeSelected)},bo=e=>({...e,"aria-valuetext":void 0,"aria-valuenow":void 0,digitCount:0,text:void 0,isComplete:!1}),fo=e=>e.map((e=>({...bo(e),isAutoFilled:!1}))),So=(e,t,s)=>{const a=s.data?.text,o=t["aria-valuemax"],i=t["aria-valuemin"],n=t.hasLeadingZeros??0===i,r=t.isComplete;let l=t.digitCount||0;const d="millisecond"===e?3:2;let c=t.text||"";c=r?a:(t.text??"")+a,n&&c.length>d?c=c.slice(c.length-d):n&&(c=c.padStart(d,"0")),l+=1;var u,m;let y=(u=co(c),m=o,u>=i&&u<=m)?c:n?a.padStart(d,"0"):a;const p=co(y),h=((e,t,s,a)=>s>=a||co(uo(e)+"0")>t)(p,o,l,d);return l=h?0:l,!1===n&&"hour"===e&&h&&y.startsWith("0")&&(y=y.substring(1)),{...t,"aria-valuetext":y,"aria-valuenow":p,digitCount:l,text:y,isComplete:h,isAutoFilled:!1}},Fo=(e,t)=>e.map((e=>({...e,isSelected:e.type===t}))),go=(e,t)=>Fo(e,t[0]),To=(e,t)=>{const s=e.find((e=>!0===e.isSelected));return void 0===s?-1:t.findIndex((e=>e===s.type))},vo=e=>e.map((e=>e.isSelected&&void 0!==e["aria-valuenow"]?{...e,isComplete:!0,digitCount:0}:e)),xo=(e,t)=>{const s=To(e,t);return s===t.length-1?e:Fo(vo(e),t[s+1])},Ao=(e,t)=>{const s=To(e,t);return 0===s?e:-1===s?go(e,t):Fo(vo(e),t[s-1])},Co=e=>e.map((e=>({...e,isSelected:!1,isComplete:!!e.text}))),Uo=(e,t)=>{const s=e.find((e=>"hour"===e.type));return(t?s?.isSelected&&void 0!==s?.text:void 0!==s?.text)?po(e):e},wo=e=>(e=>{const t=e.find((e=>"dayPeriod"===e.type)),s=e.find((e=>"hour"===e.type));return void 0===s?.text&&void 0!==t?.text?e.map((e=>"dayPeriod"===e.type?bo(e):{...e})):e})(Uo(e)),Eo=e=>e.isCompleteTime?Lo(e,e.segments.map((e=>({...e,isSelected:!1}))),!0):e,Lo=(e,t,s)=>{const a=(e=>[...e.orderedSegments])(e),o=e.currentTime,i=(e=>{if(!yo(e))return;const t=e.find((e=>"dayPeriod"===e.type))?.["aria-valuenow"],s=e.find((e=>"hour"===e.type))?.["aria-valuenow"];let a=s;void 0!==t&&void 0!==s&&(a=Ro(t,s));const o=e.filter((e=>"dayPeriod"!==e.type)).reduce(((e,t)=>{const s="hour"===t.type?a:t["aria-valuenow"];return void 0!==s&&(e[t.type]=s),e}),{});return 0===Object.entries(o).length?void 0:o})(t);let n=!0;if(void 0!==o&&void 0!==i){$.hasSegmentsNotDisplayed(a,o)&&(n=$.displayedTimeSegmentsAreDifferent(a,o,i))}const r=t.some((e=>!0===e.isAutoFilled));return{committing:e.committing,currentTime:n?i:o,isTimeAutoFilled:r,isCompleteTime:(l=t,l.every((e=>e.text&&e.text.length>0))),isTimeSelected:s,isPartialTime:yo(t),orderedSegments:a,segments:t};var l},_o=(e,t,s,a,o)=>{const i=a-s+1;if(0===s){if("increase"===o){return(e+t)%i}return(e-t+i)%i}if("increase"===o){return(e+t-s)%i+s}return(e-t-s+i)%i+s},ko=(e,t,s)=>{const a=s.hasLeadingZeros??0===s["aria-valuemin"],o=Io(t,s,e,a);return{...s,"aria-valuetext":o,"aria-valuenow":t,text:o,isComplete:!0,isAutoFilled:!1}},No=(e,t)=>{const s=(e=>e["aria-valuemin"])(t);return ko(e,s,t)},Po=(e,t)=>{const s=(e=>e["aria-valuemax"])(t);return ko(e,s,t)},Bo=(e,t,s,a)=>{const o="hour"===e&&1===t["aria-valuemin"]?12:t["aria-valuemin"],i=t["aria-valuenow"],n=t["aria-valuemin"],r=t["aria-valuemax"];let l;return l="dayPeriod"===e?0===i?12:0:void 0===i?o??n:"page"===s?((e,t,s,a,o)=>{let i;return i="minute"===o||"second"==o?10:"millisecond"===o?100:2,_o(e,i,s,a,t)})(i,a,n,r,e):((e,t,s,a)=>_o(e,1,s,a,t))(i,a,n,r),ko(e,l,t)},Io=(e,t,s,a)=>{if("dayPeriod"===s){const s=t.amPm?.am,a=t.amPm?.pm;return e<12?s:a}const o=uo(e);if(!a)return uo(e);const i="millisecond"===s?3:2;return o.padStart(i,"0")},Ro=(e,t)=>0===e&&12===t?0:12===e&&12===t?12:12===e?t+12:t,Mo=e=>{const{ariaLabels:t,currentValue:s,granularity:a,hasLeadingZeroForHour:o,locale:i,timeMasks:n}=e,r=n.filter((({type:e})=>"literal"!==e)).map((({type:e})=>e)),l=s?.minute,d=s?.second,c=s?.millisecond,u=n.some((e=>"dayPeriod"===e.type)),m=void 0!==s?.hour,y=m?$.getHourValueStr(s.hour,u,o):void 0,p=void 0!==y?co(y):void 0,h=u&&m?$.getDayPeriodValueStr(i,s.hour):void 0,b=void 0!==h?$.getDayPeriodValueFromHour(s.hour):void 0,f=void 0===s?.minute?void 0:$.padWithZero(s.minute,2),S=void 0===s?.second?void 0:$.padWithZero(s.second,2),F=void 0===s?.millisecond?void 0:$.padWithZero(s.millisecond,3),g=void 0!==p&&void 0!==l&&("second"!==a||void 0!==d)&&("millisecond"!==a||void 0!==d&&void 0!==c)&&(!u||void 0!==b),T=void 0!==p||void 0!==l||("second"===a||"millisecond"===a)&&void 0!==d||"millisecond"===a&&void 0!==c,v=[{type:"second","aria-label":t.second,"aria-valuemin":0,"aria-valuemax":59,"aria-valuenow":d,"aria-valuetext":S,hasLeadingZeros:!0,isComplete:void 0!==d,isSelected:!1,text:S}],x=[{type:"millisecond","aria-label":t.millisecond,"aria-valuemin":0,"aria-valuemax":999,"aria-valuenow":c,"aria-valuetext":F,hasLeadingZeros:!0,isComplete:void 0!==F,isSelected:!1,text:F}],A=[{type:"dayPeriod",amPm:$.getAmPmStringsForLocale(i),"aria-label":t.dayPeriod,"aria-valuemin":$.AM_VALUE,"aria-valuemax":$.PM_VALUE,"aria-valuenow":b,"aria-valuetext":h,isComplete:void 0!==h,isSelected:!1,text:h}];return{committing:!1,currentTime:s,isCompleteTime:g,isTimeAutoFilled:!1,isTimeSelected:!1,isPartialTime:T,orderedSegments:r,segments:[{type:"hour","aria-label":t.hour,"aria-valuemin":u?1:0,"aria-valuemax":u?12:23,"aria-valuenow":p,"aria-valuetext":y,hasLeadingZeros:o,isComplete:void 0!==p,isSelected:!1,text:y},{type:"minute","aria-label":t.minute,"aria-valuemin":0,"aria-valuemax":59,"aria-valuenow":l,"aria-valuetext":f,hasLeadingZeros:!0,isComplete:void 0!==l,isSelected:!1,text:f},..."second"===a||"millisecond"===a?v:[],..."millisecond"===a?x:[],...u?A:[]]}};const Do=({timeResetRef:e,direction:t,dispatch:s,groupRef:o,isDisabled:n,isFocused:r,isInputFocused:l,onCommit:d,onInput:c,state:u,value:m})=>{const{tabbableModeProps:{tabIndex:y}}=le.useTabbableMode(),p=u.segments.some((e=>!!e.isSelected)),h=-1===y||p||n?-1:0,b=a.useRef(u.currentTime),f=a.useRef(u.currentTime),S=a.useRef(!1),F=a.useRef(!!r);e.current&&(b.current=m,f.current=m);const g=a.useCallback((e=>{s(e)}),[s]),T=a.useCallback((e=>{const t=e.target.getAttribute("data-segment");s(null!==t?{actionType:"selectSegment",data:{type:t}}:{actionType:"selectFirst"})}),[s]),v=a.useCallback(((e=!0)=>{u.isCompleteTime&&(s({actionType:"selectTime"}),e&&o?.current?.focus())}),[s,o,u.isCompleteTime]),x=a.useCallback((()=>{v()}),[v]),A=a.useCallback((e=>{e.target.getAttribute("data-segment")&&v(!1)}),[v]),C=re.useDoubleTap({onDoubleTap:A,onSingleTap:T}),U=a.useCallback((e=>{"ltr"===t&&"ArrowLeft"===e.key||"rtl"===t&&"ArrowRight"===e.key?(s({actionType:"selectPrevious"}),e.stopPropagation()):"ltr"===t&&"ArrowRight"===e.key||"rtl"===t&&"ArrowLeft"===e.key?(s({actionType:"selectNext"}),e.stopPropagation()):(i.isBackspaceOrDelete(e)||"Backspace"===e.key)&&u.isTimeSelected?(s({actionType:"clearTime"}),S.current=!0,e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()):i.isSelectAll(e)?(v(),e.preventDefault(),e.stopPropagation()):"Enter"===e.key&&(s({actionType:"commitOnEnter"}),e.preventDefault(),e.stopPropagation())}),[t,s,v,u.isTimeSelected]);if(F.current&&!r&&s({actionType:"commitOnBlur"}),F.current=!!r,u.committing){if($.timesAreDifferent(f.current,u.currentTime)){const e=void 0!==u.currentTime?Object.freeze({...u.currentTime}):u.currentTime;d?.({value:e})}s({actionType:"committed"}),f.current=u.currentTime}if($.timesAreDifferent(b.current,u.currentTime)&&!e.current){const e=void 0!==u.currentTime?Object.freeze({...u.currentTime}):u.currentTime;c({value:e}),b.current=e}e.current=!1;const w=a.useRef(!1),E=a.useRef(),L=a.useCallback((()=>{w.current=!0,clearTimeout(E.current),E.current=setTimeout((()=>{w.current=!1}),200)}),[]),_=a.useRef(!1);!l||_.current||w.current||s({actionType:"selectFirst"}),l||!_.current||w.current||s({actionType:"deselectAndComplete"}),l!==_.current&&(w.current=!1,_.current=!!l);const k=function(){const e=ne.getClientHints().deviceType;return"phone"===e||"tablet"===e}()?{...C,onKeyDown:U}:{onClick:T,onDoubleClick:x,onKeyDown:U,onPointerDown:L};return{timeClearedRef:S,timeFieldHandlers:n?{}:k,segmentHandlers:n?{}:{onChange:g},tabIndex:h}},Ho=(e,t)=>e.find((e=>e.type===t)),Vo=({"aria-describedby":e,"aria-invalid":s,"aria-label":o,"aria-labelledby":i,baseId:n,fieldRef:r,granularity:l="minute",hasLeadingZeroForHour:d,hasInsideLabel:c,isRequired:u,masks:m,onBlur:y,onCommit:p,onFocus:h,onInput:b,testId:f,textAlign:S,value:F,variant:g="default"})=>{const{direction:T,locale:v}=q.useUser(),{am:x,pm:A}=a.useMemo((()=>$.getAmPmStringsForLocale(v)),[v]),C=ee.useTranslationBundle("@oracle/oraclejet-preact"),U=C.inputTimeMask_time_cleared(),w={hour:C.formControl_hour(),minute:C.formControl_minute(),second:C.formControl_second(),millisecond:C.formControl_millisecond(),dayPeriod:`${x}/${A}`},{isDisabled:E,isFocused:L,isInputFocused:_}=Y.useFormFieldContext(),k=void 0!==F,{classes:N}=X.useComponentTheme(Q.TextFieldInputRedwoodTheme,{type:"notPassword",styleVariant:te.isEmbeddedVariant(g)?"embedded":"default",textarea:"notTextArea",input:"notInput",div:"isDiv",prefix:"noPrefix",suffix:"noSuffix",startContent:"noStartContent",endContent:"noEndContent",insideLabel:c?"hasInsideLabel":"noInsideLabel",value:k?"hasValue":"noValue",focused:L?"isFocused":"notFocused",disabled:E?"isDisabled":"notDisabled"}),P=se.classNames([N]),{state:B,dispatch:I,timeResetRef:R}=(({ariaLabels:e,granularity:t,hasLeadingZeroForHour:s,locale:o,timeMasks:i,value:n})=>{const[r,l]=a.useReducer(lo,{ariaLabels:e,currentValue:n,hasLeadingZeroForHour:s,granularity:t,locale:o,timeMasks:i},Mo),d=a.useRef(n),c=a.useRef(!1);$.timesAreDifferent(d.current,n)&&(d.current=n,$.timesAreDifferent(n,r.currentTime))&&(l({actionType:"reset",data:Mo({ariaLabels:e,currentValue:n,hasLeadingZeroForHour:s,granularity:t,locale:o,timeMasks:i})}),c.current=!0);return{timeResetRef:c,dispatch:l,state:r}})({ariaLabels:w,timeMasks:m,granularity:l,hasLeadingZeroForHour:d,locale:v,value:F}),{isTimeSelected:M,isPartialTime:D,segments:H}=B,V={hour:Ho(H,"hour"),minute:Ho(H,"minute"),second:"second"===l||"millisecond"===l?Ho(H,"second"):void 0,millisecond:"millisecond"===l?Ho(H,"millisecond"):void 0,dayPeriod:Ho(H,"dayPeriod")},j=a.useRef(null),{timeFieldHandlers:O,timeClearedRef:W,segmentHandlers:Z,tabIndex:ae}=Do({timeResetRef:R,direction:T,dispatch:I,groupRef:j,isDisabled:E,isFocused:L,isInputFocused:_,onCommit:p,onInput:b,state:B,value:F}),oe=void 0===F&&c&&!L,ie=B.isCompleteTime?$.formatTimeFromMasks(v,B.currentTime,l,m,d):"",ne=`${n}-time`,re=B.isCompleteTime?t.jsx(K.HiddenAccessible,{id:ne,children:ie}):void 0,le=B.isCompleteTime?z.l([e,ne]):e,de=W.current?U:"",ce=B.isTimeAutoFilled?ie:"",ue=B.orderedSegments[0];return t.jsxs("div",{"aria-describedby":le,"aria-label":o,"aria-labelledby":i,class:P,onFocusIn:h,onFocusOut:y,ref:j,role:"group",tabIndex:ae,...O,children:[t.jsx(G.Flex,{direction:"row",wrap:"nowrap",justify:S,children:m.map((({type:e,value:a})=>{const o="literal"!==e?V[e]:{};return"literal"===e?t.jsx(eo,{isHidden:oe,isHighlighted:M,isPlaceholder:!D,text:a}):t.jsx(ro,{inputRef:e===ue?r:void 0,isDisabled:E,isInvalid:!!s,isHidden:oe,isHighlighted:M,isRequired:u,placeholder:a,type:e,...Z,...o})}))}),re,!E&&t.jsx(J.LiveRegion,{children:de}),!E&&t.jsx(J.LiveRegion,{testId:f?f+"_autoFilledTime":void 0,children:ce})]})},jo=s.forwardRef((({"aria-describedby":e,assistiveText:s,columnSpan:i,endContent:n,granularity:r="minute",helpSourceLink:u,helpSourceText:m,hourClock:y="fromLocale",isDisabled:p,isReadonly:h,isRequired:b,isRequiredShown:f,label:S,labelEdge:F,labelStartWidth:g,leadingZeroForHour:T="fromLocale",mainFieldRef:v,messages:x,masks:U,testId:w,textAlign:E,userAssistanceDensity:L,value:_,variant:k,onCommit:N,onInput:P},B)=>{const{isDisabled:I,isReadonly:R,labelEdge:M,labelStartWidth:D,textAlign:H,userAssistanceDensity:j}=O.useFormContext(),z=p??I,G=h??R,K=F??M,J=g??D,Q=E??H??"start",X=L??j,Y=a.useRef(null),ee=a.useRef(null),{focusProps:te,isFocused:se,methods:ae}=V.useFocusableTextField({isDisabled:z,isReadonly:G,enabledElementRef:Y,readonlyElementRef:ee});a.useImperativeHandle(B,(()=>ae),[ae]);const oe=se,{baseId:ie,formFieldContext:ne,inputProps:re,labelProps:le,textFieldProps:de,userAssistanceProps:ce}=Z.useTextField({ariaDescribedBy:e,helpSourceLink:u,helpSourceText:m,isDisabled:z,isFocused:oe,isReadonly:G,isRequiredShown:f,labelEdge:K,messages:x,styleVariant:k,userAssistanceDensity:X,value:_}),{forId:ue,...me}=le,{id:ye,...pe}=re,he=me.id,be=a.useCallback((()=>{Y.current?.focus()}),[Y]),fe="none"!==K?t.jsx(o.Label,{...z||G?{}:{onClick:be},...me,children:S}):void 0,Se={label:"none"!==K?fe:void 0,labelEdge:"none"!==K?K:void 0,labelStartWidth:"none"!==K?J:void 0,labelText:"inside"!==K||z?void 0:S},Fe="none"===K?S:void 0,ge=void 0!==S&&"inside"===K,Te="efficient"===X||"reflow"===X?z?"efficient"!==X?void 0:t.jsx(A.InlineUserAssistance,{userAssistanceDensity:X,...ce}):G?t.jsx(A.InlineUserAssistance,{fieldLabel:S,messages:x,userAssistanceDensity:X,...ce}):t.jsx(A.InlineUserAssistance,{assistiveText:s,fieldLabel:S,helpSourceLink:u,helpSourceText:m,messages:x,isRequiredShown:f,userAssistanceDensity:X,...ce}):void 0,ve=a.useRef(null),xe=v??ve,Ae="compact"===X?t.jsx(C.CompactUserAssistance,{anchorRef:xe,messages:x,assistiveText:s,...ce}):void 0,{locale:Ce}=q.useUser();let Ue;if(Oo(U,r,y),void 0!==U&&"fromLocale"===y){const e=void 0!==U.find((e=>"dayPeriod"===e.type));Ue=e}else Ue="12"===y||"24"!==y&&void 0;const we=a.useMemo((()=>U?$.replaceCustomMasksValuesWithPlaceholders(Ce,U):$.getTimeMasksFromLocaleAndOptions(Ce,r,Ue)),[r,Ue,Ce,U]),Ee="fromLocale"===T?$.getLeadingZeroForHour(Ce):"show"===T;if(G)return t.jsx(W.FormFieldContext.Provider,{value:ne,children:t.jsx(d.ReadonlyTextField,{role:"presentation",columnSpan:i,compactUserAssistance:Ae,inlineUserAssistance:Te,onBlur:te.onFocusOut,onFocus:te.onFocusIn,ref:xe,testId:w,mainContent:t.jsx(l.ReadonlyTextFieldInput,{"aria-describedby":pe["aria-describedby"],"aria-label":Fe,"aria-labelledby":me.id,as:"div",elementRef:ee,textAlign:Q,value:void 0===_?"":$.formatTimeFromMasks(Ce,_,r,we,Ee),hasEmptyLabel:""===S&&"none"===K,hasInsideLabel:ge,onBlur:re.onBlur,onFocus:re.onFocus}),...Se})});const Le=t.jsx(Vo,{"aria-label":Fe,"aria-labelledby":he,baseId:ie,fieldRef:Y,granularity:r,hasInsideLabel:void 0!==fe&&"inside"===K,hasLeadingZeroForHour:Ee,isRequired:b,masks:we,onCommit:N,onInput:P,testId:w?w+"_timeField":void 0,textAlign:Q,value:_,...pe});return t.jsx(W.FormFieldContext.Provider,{value:ne,children:t.jsx(c.TextField,{columnSpan:i,compactUserAssistance:Ae,endContent:n,inlineUserAssistance:Te,mainContent:Le,onBlur:te.onFocusOut,onFocus:te.onFocusIn,mainFieldRef:xe,testId:w,...de,...Se})})})),Oo=(e,t,s)=>{if(void 0===e)return;if(void 0!==s&&"fromLocale"!==s){const t=void 0!==e.find((e=>"dayPeriod"===e.type));if(!t&&"12"===s)throw new Error("The masks object does not have a dayPeriod property. hourClock should be set to '24' to match masks.");if(t&&"24"===s)throw new Error("The masks object does have a dayPeriod property. hourClock should be set to '12' to match masks.")}const a=void 0!==e.find((e=>"second"===e.type)),o=void 0!==e.find((e=>"millisecond"===e.type)),i="Change granularity to match the properties you have in the masks object.";if("second"===t&&!a){throw new Error(`granularity is second, but the masks does not contain the second property. \n      ${i}`)}if("second"===t&&o){throw new Error(`granularity is second, but the masks object contains the millisecond property. \n      ${i}`)}if(!("millisecond"!==t||a&&o)){throw new Error(`"Granularity is set to millisecond. The masks object should contain both the second and millisecond properties, but one or both are missing." \n      ${i}`)}if("minute"===t&&(a||o))throw new Error(`granularity is minute, but the masks object contains the second and/or millisecond property.\n        ${i}`)};e.InputTimeMask=jo,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_InputTimeMask.js.map
