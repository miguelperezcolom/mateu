define(['exports', './eventsUtils-5fb81c3e', './accUtils-acd70e81', './utils-a2a190fa', './utils-8ccd1b88', './useDnd-33ec1cdf'], (function(e,t,n,o,r,a){"use strict";e.useChartDnd=({onDragStart:e,onDrag:n,onDragEnd:i,onDragEnter:s,onDragLeave:l,onDragOver:d,onDrop:p,rootRef:c,series:g,selectedIds:u,levelsArray:f,getDataItem:h,groupDraggable:x,itemsDraggable:y,xSpace:D,ySpace:v,plotAreaSpace:m,setDragOver:I,setDatatipDisabled:S,onSelectionChange:w})=>{const b=function(e,t,n,o,r){if(o)for(let e=0;e<t.length;e++){const n=t[e];for(let r=0;r<n.length;r++)if("on"===o(t[e][r].item))return!0}if(r&&n){const o=t[t.length-1];for(let t=0;t<o.length;t++)for(let a=0;a<e.length;a++)if(n(a,t,o[t].path)&&"on"===r(n(a,t,o[t].path),a,t))return!0}return!1}(g,f,h,x,y),{dragProps:E,dropProps:A,content:C}=a.useDnd({onDragStart:e,onDrag:n,onDragEnd:i,onDragEnter:s,onDragLeave:l,onDragOver:d,onDrop:p,getDragContext:function(e,n){return function(e,n,o,a,i,s,l,d,p){const c=t.getInfo(o,e),g=c?c.seriesIndex:void 0,u=c?c.groupIndex:void 0,f=c?c.levelIndex:void 0;let h;if(void 0!==g&&void 0!==u&&l?.(g,u,n[n.length-1]?.[u].path)){const e=l(g,u,n[n.length-1]?.[u].path);if(p&&"on"==p(e,g,u)){const t=[];if(i.size>1&&i.has(e.id)){const e=i.values();let o=e.next().value;for(;void 0!==o;){const{seriesIndex:a,groupIndex:i}=r.findSeriesGroupIndexFromId(s,o,n,l);t.push({data:l(a,i,n[n.length-1]?.[i].path),seriesIndex:a,groupIndex:i}),o=e.next().value}}else t.push({data:l(g,u,n[n.length-1]?.[u]?.path),seriesIndex:g,groupIndex:u});h={items:t,type:"items",event:a}}}else void 0!==u&&null!=f&&d&&d(n[f][u].item)&&(h={group:n[f][u].item,groupIndex:u,type:"xAxisTickLabel",event:a});return h}(e,f,c,n,u,g,h,x,y)},getDropContext:function(e){const t=function(e,t,n,r){const a=r.offsetX,i=r.offsetY;let s;return o.inSpace(a,i,e)?s={type:"xAxis",x:a-e.x,event:r}:o.inSpace(a,i,t)?s={type:"yAxis",y:i-t.y,event:r}:o.inSpace(a,i,n)&&(s={type:"plotArea",x:a-n.x,y:i-n.y,event:r}),s}(D,v,m,e);return t},getDragImage:function(e){return function(e,t,n){const o=[];let r;const a=document.createElementNS("http://www.w3.org/2000/svg","svg"),i=document.createElementNS("http://www.w3.org/2000/svg","g");let s,l;if("items"===t?.type){const n=t.items;for(let t=0;t<n.length;t++)r=e.current?.querySelector(`[data-oj-private-series-index="${n[t].seriesIndex}"][data-oj-private-group-index="${n[t].groupIndex}"]`),r&&o.push(r)}else"xAxisTickLabel"===t?.type&&(r=e.current?.querySelector(`[data-oj-private-group-index="${t?.groupIndex}"]`),r&&o.push(r));if(o.length>0){let e=1/0,t=1/0,d=-1/0,p=-1/0;for(let n=0;n<o.length;n++){const r=o[n].getBBox();r.x<e&&(e=r.x),r.x+r.width>d&&(d=r.x+r.width),r.y<t&&(t=r.y),r.y+r.height>p&&(p=r.y+r.height)}const c=window.getComputedStyle(o[0].parentElement);for(let e=0;e<o.length;e++){r=o[e];const t=r.cloneNode(!0);i.appendChild(t)}return i.setAttribute("transform",`translate(${-e},${-t})`),i.style.fontSize=c.getPropertyValue("font-size"),i.style.fontFamily=c.getPropertyValue("font-family"),i.style.textAnchor=c.getPropertyValue("text-anchor"),i.style.dominantBaseline=c.getPropertyValue("dominant-baseline"),s=d-e,l=p-t,a.appendChild(i),{image:a,offSetX:n.offsetX-e,offSetY:n.offsetY-t,width:s,height:l}}return null}(c,e.context,e.event)},onPreDndStart:function(e){if("items"===e?.type){const t=e.items,n=t.map((e=>e.data.id)),o=t.map((e=>e.data));w?.({ids:[...n],data:[...o]})}},setDatatipDisabled:S,showRejectedDropEffect:function(e){I({accepted:!1,type:e.type})},showDropEffect:function(e){I({accepted:!0,type:e.type})},clearDropEffect:function(){I({accepted:void 0,type:""})}});return{draggable:b,dndProps:b?{...E,...A}:A,dndContent:C}}}));
//# sourceMappingURL=useChartDnd-e1facca9.js.map
