{"version":3,"file":"InlineUserAssistance-b485c235.js","sources":["../../src/UNSAFE_UserAssistance/InlineRequired.tsx","../../src/UNSAFE_UserAssistance/InlineUserAssistanceContainer.tsx","../../src/UNSAFE_UserAssistance/InlineUserAssistance.tsx"],"sourcesContent":["import { useTranslationBundle } from '../hooks/UNSAFE_useTranslationBundle';\nimport { BundleType } from '../resources/nls/bundle';\nimport { useComponentTheme } from '../hooks/UNSAFE_useComponentTheme';\nimport { UserAssistanceVariantOptions } from './themes/UserAssistanceStyles.css';\nimport { UserAssistanceRedwoodTheme } from './themes/redwood/UserAssistanceTheme';\n\ntype Props = {\n  align?: 'start' | 'end';\n  hasMessages?: boolean;\n  hasHelp?: boolean;\n};\n\nexport function InlineRequired({ align = 'end', hasHelp = false, hasMessages = false }: Props) {\n  const { classes } = useComponentTheme<UserAssistanceVariantOptions>(UserAssistanceRedwoodTheme, {\n    align,\n    visible: hasHelp || hasMessages ? 'hide' : 'show' // TODO: fix typing so that options autocomplete\n  });\n\n  const translations = useTranslationBundle<BundleType>('@oracle/oraclejet-preact');\n  const requiredStr = translations.userAssistance_required();\n\n  return <div class={classes}>{requiredStr}</div>;\n}\n","import { ComponentChildren } from 'preact';\nimport { useComponentTheme } from '../hooks/UNSAFE_useComponentTheme';\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport { UserAssistanceDensityType } from './InlineUserAssistance';\nimport {\n  UserAssistanceStyles,\n  UserAssistanceVariantOptions\n} from './themes/UserAssistanceStyles.css';\nimport { useInputGroupContext } from '../hooks/UNSAFE_useInputGroupContext';\nimport { UserAssistanceRedwoodTheme } from './themes/redwood/UserAssistanceTheme';\nimport { TestIdProps, useTestId } from '#hooks/UNSAFE_useTestId';\n\ntype Props = {\n  id?: string;\n  children?: ComponentChildren;\n  variant?: UserAssistanceDensityType;\n} & TestIdProps;\n\n// defaults to type='reflow'. If this is within an oj-form-layout, the o-f-l\n// will pass down its type which defaults to 'efficient' (TODO).\nexport function InlineUserAssistanceContainer({ variant = 'reflow', children, id, testId }: Props) {\n  const {\n    classes,\n    styles: { inlineContainerBaseStyles }\n  } = useComponentTheme<UserAssistanceVariantOptions, UserAssistanceStyles>(\n    UserAssistanceRedwoodTheme,\n    {\n      container: variant\n    }\n  );\n\n  const testIdProps = useTestId(testId);\n\n  // we want to suppress the display of messages if it's in a group context\n  const inputGroupContext = useInputGroupContext();\n  if (inputGroupContext !== null) return null;\n\n  const content = (\n    <div class={classNames([classes, inlineContainerBaseStyles])} id={id} {...testIdProps}>\n      {children}\n    </div>\n  );\n\n  return content;\n}\n","import { ComponentProps } from 'preact';\nimport { ComponentMessageItem, ComponentMessageContainer } from '../UNSAFE_ComponentMessage';\nimport { useFormContext } from '../hooks/UNSAFE_useFormContext';\nimport { useFormFieldContext } from '../hooks/UNSAFE_useFormFieldContext';\nimport { InlineHelp } from './InlineHelp';\nimport { InlineRequired } from './InlineRequired';\nimport { InlineUserAssistanceContainer } from './InlineUserAssistanceContainer';\nimport { TestIdProps } from '#hooks/UNSAFE_useTestId';\n\nexport type UserAssistanceDensityType = 'reflow' | 'efficient';\n\ntype Props = {\n  assistiveText?: string;\n  fieldLabel?: string;\n  helpSourceLink?: string;\n  helpSourceText?: string;\n  id?: string;\n  isRequiredShown?: boolean;\n  requiredAlignment?: ComponentProps<typeof InlineRequired>['align'];\n  messages?: ComponentMessageItem[];\n  userAssistanceDensity?: UserAssistanceDensityType;\n} & TestIdProps;\n\n// This has the precedence rules for the user assistance.\nexport function InlineUserAssistance({\n  assistiveText,\n  fieldLabel,\n  helpSourceLink,\n  helpSourceText,\n  id,\n  isRequiredShown,\n  requiredAlignment,\n  messages = [],\n  userAssistanceDensity,\n  testId\n}: Props) {\n  const { isReadonly: isFormReadonly } = useFormContext();\n  const needsUserAssistanceIfNoContent =\n    userAssistanceDensity === 'efficient' && isFormReadonly === false;\n  const { isFocused } = useFormFieldContext();\n  const uaInlineContent =\n    messages.length > 0 ? (\n      <ComponentMessageContainer fieldLabel={fieldLabel} messages={messages} />\n    ) : (assistiveText || helpSourceLink) && isFocused ? (\n      <InlineHelp\n        assistiveText={assistiveText}\n        sourceLink={helpSourceLink}\n        sourceText={helpSourceText}\n      />\n    ) : isRequiredShown ? (\n      <InlineRequired align={requiredAlignment} />\n    ) : null;\n\n  // when reflow we do not render unless it has content.\n  // when efficient we render regardless of if it has content.\n  // TODO: Get the userAssistanceDensity value from the FormContext\n  return uaInlineContent || needsUserAssistanceIfNoContent ? (\n    <InlineUserAssistanceContainer id={id} variant={userAssistanceDensity} testId={testId}>\n      {uaInlineContent}\n    </InlineUserAssistanceContainer>\n  ) : null;\n}\n"],"names":["InlineRequired","align","hasHelp","hasMessages","classes","useComponentTheme","UserAssistanceRedwoodTheme","visible","requiredStr","useTranslationBundle","userAssistance_required","_jsx","class","children","InlineUserAssistanceContainer","variant","id","testId","styles","inlineContainerBaseStyles","container","testIdProps","useTestId","useInputGroupContext","classNames","assistiveText","fieldLabel","helpSourceLink","helpSourceText","isRequiredShown","requiredAlignment","messages","userAssistanceDensity","isReadonly","isFormReadonly","useFormContext","needsUserAssistanceIfNoContent","isFocused","useFormFieldContext","uaInlineContent","length","ComponentMessageContainer","InlineHelp","sourceLink","sourceText"],"mappings":"6lDAYgB,SAAAA,GAAeC,MAAEA,EAAQ,MAAKC,QAAEA,GAAU,EAAKC,YAAEA,GAAc,IAC7E,MAAMC,QAAEA,GAAYC,EAAiBA,kBAA+BC,6BAA4B,CAC9FL,QACAM,QAASL,GAAWC,EAAc,OAAS,SAIvCK,EADeC,uBAAiC,4BACrBC,0BAEjC,OAAOC,EAAAA,WAAKC,MAAOR,EAAUS,SAAAL,GAC/B,CCFgB,SAAAM,GAA8BC,QAAEA,EAAU,SAAQF,SAAEA,EAAQG,GAAEA,EAAEC,OAAEA,IAChF,MAAMb,QACJA,EACAc,QAAQC,0BAAEA,IACRd,EAAiBA,kBACnBC,6BACA,CACEc,UAAWL,IAITM,EAAcC,YAAUL,GAI9B,GAA0B,OADAM,EAAAA,uBACM,OAAO,KAQvC,OALEZ,EAAAA,IAAK,MAAA,CAAAC,MAAOY,EAAAA,WAAW,CAACpB,EAASe,IAA6BH,GAAIA,KAAQK,EACvER,SAAAA,GAKP,2CCpBM,UAA+BY,cACnCA,EAAaC,WACbA,EAAUC,eACVA,EAAcC,eACdA,EAAcZ,GACdA,EAAEa,gBACFA,EAAeC,kBACfA,EAAiBC,SACjBA,EAAW,GAAEC,sBACbA,EAAqBf,OACrBA,IAEA,MAAQgB,WAAYC,GAAmBC,EAAcA,iBAC/CC,EACsB,cAA1BJ,IAA4D,IAAnBE,GACrCG,UAAEA,GAAcC,EAAAA,sBAChBC,EACJR,EAASS,OAAS,EAChB7B,EAAAA,IAAC8B,EAAAA,0BAAyB,CAACf,WAAYA,EAAYK,SAAUA,KAC1DN,GAAiBE,IAAmBU,EACvC1B,EAAAA,IAAC+B,EAAAA,WAAU,CACTjB,cAAeA,EACfkB,WAAYhB,EACZiB,WAAYhB,IAEZC,EACFlB,EAAAA,IAACX,EAAe,CAAAC,MAAO6B,IACrB,KAKN,OAAOS,GAAmBH,EACxBzB,EAAAA,IAACG,EAA6B,CAACE,GAAIA,EAAID,QAASiB,EAAuBf,OAAQA,EAAMJ,SAClF0B,IAED,IACN"}