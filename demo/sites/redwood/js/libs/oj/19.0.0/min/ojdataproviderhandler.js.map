{"version":3,"names":["define","exports","jsxRuntime","preact","DataProviderHandlerUtils","static","detail","currentData","dataProvider","add","remove","update","keyIndexMap","Map","index","item","entries","set","key","mutatedData","_removeItemsFromDetail","_addItemsFromDetail","_updateItemsFromDetail","itemsToAdd","itemMetadataToAdd","items","returnItems","forEach","addItem","data","metadata","push","indices","addAtIndex","splice","beforeKeys","addIndices","_getIndexByKey","_addItemsAtIndices","addBeforeKeys","afterKeys","indexes","keys","treatedData","treatedMetaData","length","size","fetchResults","_fetchDataByKeys","map","itemContext","_addItemsBeforeKeys","_addItemsAtEnd","fetchedData","results","fetchByKeys","has","result","get","sort","a","b","indicesToRemove","_removeItemsAtIndices","_removeItemsAtKeys","itemsToUpdate","itemMetadataToUpdate","updateAtIndex","this","_updateItemsAtIndices","_updateItemsAtKeys","DataProviderHandler","constructor","addBusyState","callback","_handleMutateEvent","async","event","resolver","_addBusyState","updatedData","getUpdatedItemsFromMutationDetail","_currentData","_dataProvider","_callback","onDataUpdated","_handleRefreshEvent","_fetchDataAndNotify","addEventListener","destroy","undefined","removeEventListener","asyncIterable","fetchFirst","contextArray","slice","_fetchData","withDataProvider","WrappedComponent","dataProp","_a","Component","props","super","_handleDataUpdate","setState","state","componentDidMount","_initDataProviderHandler","componentDidUpdate","previousProps","_resetDataProviderHandler","componentWillUnmount","_releaseDataProviderHandler","render","passThroughProps","childProps","jsx","_dataProviderHandler","displayName","name","getDisplayName","Object","defineProperty","value"],"sources":["../debug/ojdataproviderhandler.js"],"mappings":"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"}