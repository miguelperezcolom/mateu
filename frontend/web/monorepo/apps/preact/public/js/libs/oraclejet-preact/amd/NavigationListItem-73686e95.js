define(['exports', 'preact/jsx-runtime', 'preact/hooks', './mergeProps-bcfa6a92', './classNames-08d99695', './clientUtils-f1eea2db', './useId-c9578d26', './UNSAFE_NavigationList/themes/NavigationListStyles.css', './collectionUtils-26e6c87c', './useCollectionFocusRing-35d278f5', './useCurrentKey-2f1ca19e', './useContextMenuGesture-69b54d61', './useTranslationBundle-27bf6340', './TabBarContextMenu-cad0a362', 'preact/compat', './useTestId-a2e433c2', './HiddenAccessible-037ef42d', './LiveRegion-4b9317e5', './UNSAFE_Text/themes/TextStyles.css', './BaseNavigationListItem-cb5c260b', './Flex-4bc3a394', './logger-0f873e29', 'preact', './LayerHost-7d4aa6d3', 'css!./TooltipContentStyles.styles.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', './tooltipUtils-3c8a0253', 'css!./IconStyle.styles.css', './UNSAFE_NavigationList/themes/NavigationListItemStyles.css', 'module', './UNSAFE_NavigationList/themes/redwood/NavigationListItemVariants.css'], (function(e,t,n,o,s,r,i,a,c,l,u,d,m,f,y,g,v,b,x,h,C,p,K,S,I,R,N,F,k,L,M,E){"use strict";const w='[role="tab"]',A="[data-oj-navigationlist-item-remove-icon]",T={mouse:{initialFocus:"menu",placement:"bottom-start",offsetValue:0},keyboard:{initialFocus:"firstItem",placement:"bottom-start",offsetValue:0},touch:{initialFocus:"menu",placement:"end",offsetValue:40}},U={isOpen:!1,initialFocus:"menu",placement:"bottom-start",offsetValue:0,anchorRef:{current:null}};const j=(e,t,n)=>{const o=c.findElementByKey(t,e,w);if(o){return o.querySelector(n)}},B=(e,t)=>{const n=c.findElementByKey(t,e,w);if(n)return n.innerText},D=(e,t,n)=>{const o=e.closest(t),s=e.closest(n);return o?.contains(s)?null:c.keyExtractor(e,t)},P=(e,t,n)=>{const o=n.indexOf(e);if(o>0){const e=n[o===n.length-1?o-1:o+1];if(-1!==t.indexOf(e))return e}return t[0]},_=y.forwardRef((({children:e,selection:x,onSelectionChange:C,onRemove:p,"aria-label":K,"aria-labelledby":S,testId:I},R)=>{const N=n.useRef(null),F=r.isMobile(),k=n.useMemo((()=>({itemsRenderer:e=>{if(e){if(null!=j(e.itemKey,N.current,A)&&F){const n=e.defaultMenuItems;return t.jsx(t.Fragment,{children:n})}}return null}})),[]),{showFocusRing:L,currentKey:M,onCurrentKeyChange:E,containerHandlers:_,onKeyDown:V,contextMenuContext:H,menuProps:O,contextMenuDescription:q,contextMenuDescriptionId:G,accStatusInfo:$}=function({containerRef:e,selection:t,onRemove:s,onSelectionChange:r,children:i,contextMenuConfig:a}){const y=m.useTranslationBundle("@oracle/oraclejet-preact"),[g,v]=n.useState(t),b=n.useCallback((e=>{v(e.value)}),[]),{currentKeyProps:x}=u.useCurrentKey((e=>s?D(e,w,A):c.keyExtractor(e,w)),!1,c.getPrevNextKeyUsingRef(e,g,!0,w),c.getPrevNextKeyUsingRef(e,g,!1,w),void 0,void 0,g,b),[h,C]=l.useCollectionFocusRing(e,["Home","End","ArrowUp","ArrowDown"]),p={onFocus:n.useCallback((()=>{if(e.current&&void 0===g){const t=c.getFirstVisibleKey(e.current,w);t&&v(t)}}),[g,e])},K=n.useRef();n.useEffect((()=>{if(e.current){const t=Array.from(e.current.querySelectorAll(w),(e=>c.getKey(e)));if(null!=g&&-1!==t.indexOf(g)){const t=c.findElementByKey(e.current,g,w);t.scrollIntoViewIfNeeded?t.scrollIntoViewIfNeeded():t.scrollIntoView({block:"nearest"})}else g&&-1===t.indexOf(g)&&(K.current?v(P(g,t,K.current)):v(t[0])),K.current=t}}),[i,g,e]);const S=n.useCallback((t=>{if(("Home"===t.key||"End"===t.key)&&e.current&&g){const n=Array.from(e.current.querySelectorAll(w),(e=>c.getKey(e)));b?.({value:n["Home"===t.key?0:n.length-1]})}!g||"Enter"!==t.key&&" "!==t.key||r?.({value:g,reason:"keyboard"}),g&&"Delete"===t.key&&s?.({value:g})}),[g,r,s,b,e]),[I,R]=n.useState(),[N,F]=n.useState(U),[k,L]=n.useState(),{triggerProps:M}=d.useContextMenuGesture((({gesture:t,anchor:n,target:o})=>{let r=n,i=g;if("keyboard"===t){r=c.findElementByKey(e.current,g,w)||n}else{const e=c.keyExtractor(o,w);i=null!=e?e:g}let l=!1;e.current&&(l=null!=j(i,e.current,A));const u=f.getDefaultContextMenu({isRemovable:l,handleRemove:s,handleReorder:void 0,itemKey:i,tabKeys:void 0,direction:void 0,itemLabels:{labelRemove:l?y.tabbar_labelRemove():void 0},handleAccStatus:t=>{const n=B(t.removedKey,e.current),o=l&&t.removedKey?` Removed ${n}`:"";L(o)}});R(u),F({...T[t],anchorRef:{current:r},isOpen:null!=a})}),{isDisabled:!a}),E=n.useCallback((t=>{"dismissed"!==t.reason&&"itemAction"!==t.reason||(v(I?.itemKey),e.current?.focus()),F({...U})}),[e,I?.itemKey]),_="contextMenu_"+n.useId(),V=y.tabbar_labelContextMenu();return{showFocusRing:h,currentKey:g,onCurrentKeyChange:b,onKeyDown:S,menuProps:{...N,onClose:E},contextMenuContext:I,contextMenuDescription:V,contextMenuDescriptionId:_,accStatusInfo:k,containerHandlers:o.mergeProps(C,x,p,M)}}({containerRef:N,selection:x,onRemove:p,onSelectionChange:C,children:e,contextMenuConfig:k}),z=null!=k&&F,J={onKeyDown:V},Q=s.classNames([a.navigationListStyles.uListStyle]),W=i.useId()+"_",X=g.useTestId(I);return y.useImperativeHandle(R,(()=>({focus:()=>{N.current&&N.current.focus()},blur:()=>{N.current&&N.current.focus()}}))),t.jsxs(t.Fragment,{children:[t.jsx("div",{"aria-label":K,"aria-labelledby":S,role:"tablist",ref:N,"aria-orientation":"vertical",tabIndex:0,"aria-activedescendant":M?W+M:"",...o.mergeProps(J,_),...X,class:Q,children:t.jsx(h.NavigationListContext.Provider,{value:{selection:x,onSelectionChange:C,onCurrentKeyChange:E,currentKey:M,showFocusRing:L,navigationListItemPrefix:W,onRemove:p},children:e})}),z&&G&&q&&t.jsx("span",{id:G,children:t.jsx(v.HiddenAccessible,{children:q})}),z&&$&&t.jsx(b.LiveRegion,{children:$}),z&&t.jsx(f.TabBarContextMenu,{...O,contextMenuConfig:k,contextMenuContext:H})]})}));e.NavigationList=_,e.NavigationListItem=function({itemKey:e,label:n,badge:o,metadata:s,severity:r}){return t.jsx(h.BaseNavigationListItem,{itemKey:e,label:n,badge:o,metadata:s,severity:r})}}));
//# sourceMappingURL=NavigationListItem-73686e95.js.map
