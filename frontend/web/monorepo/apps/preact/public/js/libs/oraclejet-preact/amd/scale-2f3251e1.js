define(['exports'], (function(t){"use strict";class r{constructor(t,r){this._domain=t,this._range=r,this.m=(this._range[1]-this._range[0])/(this._domain[1]-this._domain[0]),this.c=this._range[0]-this.m*this._domain[0]}transform(t){return this.m*t+this.c}invert(t){return(t-this.c)/this.m}domain(){return this._domain}range(){return this._range}}t.ScaleLinear=r,t.ScaleLog=class{constructor(t,i){this._linearDomain=[Math.log(t[0]),Math.log(t[1])],this._domain=t,this._range=i,this.linearScale=new r(this._linearDomain,this._range)}transform(t){const r=Math.log(t);return this.linearScale.transform(r)}invert(t){const r=this.linearScale.invert(t);return Math.pow(10,r)}domain(){return this._domain}range(){return this._range}},t.VariableWidthScale=class{constructor(t,r,i,s){this._domain=t,this._range=r,this._groupWidthRatios=i,this.MinValue=this._domain[0],this.MaxValue=this._domain[1],this.StartCoord=this._range[0],this.EndCoord=this._range[1],this._groupCount=s,this._processGroupWidthRatios()}_processGroupWidthRatios(){if(!this._groupWidthRatios||this._groupWidthRatios.length<2)return void(this._groupWidthRatios=[]);let t,r,i=0;for(let s=0;s<this._groupCount;s++)t=0==s?this.MinValue:Math.max(s-.5,this.MinValue),r=s==this._groupCount-1?this.MaxValue:Math.min(s+.5,this.MaxValue),r>t&&(i+=(r-t)*this._groupWidthRatios[s]);const s=this.EndCoord-this.StartCoord;this._groupWidths=this._groupWidthRatios.map((t=>t*s/i)),this._borderValues=[];for(let t=0;t<this._groupWidthRatios.length-1;t++)this._borderValues.push(t+.5);this._borderCoords=[];const o=Math.min(Math.max(Math.round(this.MinValue),0),this._borderValues.length-1);this._borderCoords[o]=this.StartCoord+(this._borderValues[o]-this.MinValue)*this._groupWidths[o];for(let t=o+1;t<this._borderValues.length;t++)this._borderCoords[t]=this._borderCoords[t-1]+this._groupWidths[t];for(let t=o-1;t>=0;t--)this._borderCoords[t]=this._borderCoords[t+1]-this._groupWidths[t+1]}transform(t){if(this._groupWidthRatios){let r=this._borderValues.length;for(let i=0;i<this._borderValues.length;i++)if(t<=this._borderValues[i]){r=i;break}return 0==r?this._borderCoords[0]-this._groupWidths[0]*(this._borderValues[0]-t):this._borderCoords[r-1]+this._groupWidths[r]*(t-this._borderValues[r-1])}return 0}invert(t){if(this._groupWidthRatios){let r=this._borderCoords.length;for(let i=0;i<this._borderCoords.length;i++)if(t<=this._borderCoords[i]){r=i;break}return 0==r?this._borderValues[0]-(this._borderCoords[0]-t)/this._groupWidths[0]:this._borderValues[r-1]+(t-this._borderCoords[r-1])/this._groupWidths[r]}return 0}domain(){return this._domain}range(){return this._range}}}));
//# sourceMappingURL=scale-2f3251e1.js.map
