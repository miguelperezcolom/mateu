define(['exports', 'preact/hooks', './layoutUtils-641af87a', './eventsUtils-5fb81c3e', './accUtils-acd70e81', './useVisHover-28319fef', './mergeProps-bcfa6a92'], (function(e,s,r,i,n,o,t){"use strict";function u(e,s){return e?.levelIndex===s?.levelIndex&&e?.groupIndex===s?.groupIndex&&e?.isCurrent===s?.isCurrent&&e?.isFocusVisible===s?.isFocusVisible}function c(e,s){return e?.seriesIndex===s?.seriesIndex&&u(e,s)}e.useChartNav=function({rootRef:e,getNextChartItem:n,getDefaultNavGroup:d,getNextNavGroup:l,xAxisInfo:I,touchResponse:a,onItemHover:x,onItemFocus:f,drilling:v}){const[g,p]=s.useState({groupIndex:I.startIndex||0,seriesIndex:0}),C="on"===v||"groupsOnly"===v,[b,F]=s.useState(),[V,h]=s.useState(d()),m=s.useRef(),w=s.useRef(),R=s.useRef(),U=g.isCurrent,k=V?.isCurrent,y=e=>{u(e,V)||(h(e),m.current=r.getRandomId())},A=(e,s)=>{const i="hover"===e?w:R,n="hover"===e?x:f;if(!c(s,i.current)){const e={groupIndex:s?.groupIndex,seriesIndex:s?.seriesIndex};n?.(e),i.current=s,m.current=r.getRandomId()}},E=e=>{var s,r;c(e,g)||(p(e),b&&(s=b,r=e,s?.seriesIndex!==r?.seriesIndex||r?.groupIndex!==s?.groupIndex)&&F({...b,isCurrent:!1}),e.isCurrent&&A("focus",e))},N=e=>{b&&c(e,b)||(F(e),p({...g,isCurrent:!1}),A("hover",e))},D=e=>{const s=d(),n=Math.max(I.startIndex,Math.min(I.endIndex,g.groupIndex));e.shiftKey?U?(E({...g,groupIndex:n,isCurrent:!1,isFocusVisible:!1}),A("focus",void 0)):k?(E({...g,groupIndex:n,isCurrent:!0,isFocusVisible:!0}),C&&(y({...V,...s,isCurrent:!1,isFocusVisible:!1}),i.cancelEvent(e))):C&&y({...V,...s,isCurrent:!0,isFocusVisible:!0}):U?(E({...g,groupIndex:n,isCurrent:!1,isFocusVisible:!1}),C&&(y({...V,...s,isCurrent:!0,isFocusVisible:!0}),i.cancelEvent(e)),A("focus",void 0)):k&&C?y({...V,...s,isCurrent:!1,isFocusVisible:!1}):E({...g,groupIndex:n,isCurrent:!0,isFocusVisible:!0}),m.current=r.getRandomId()},M=o.useVisHover((s=>{const r=i.getInfo(e,s.target);if(!r)return void N(void 0);const{seriesIndex:n,groupIndex:o}=r;null!=n&&(N({seriesIndex:n,groupIndex:o,isCurrent:!0}),E({...g,isCurrent:!1}))}),void 0,(()=>{N(void 0)}),a);return{focusedItemInfo:g,focusedGroupInfo:V,hoveredItemInfo:b,activeId:m.current,navProps:t.mergeProps(M,{onKeyDown:e=>{const s=e.key;switch(s){case"Tab":D(e);break;case"ArrowRight":if(k){const e=l(V,s);y({...e,isCurrent:!0,isFocusVisible:!0})}else{const e=n(g,s);E({...e,isCurrent:!0,isFocusVisible:!0})}F(void 0),i.cancelEvent(e);break;case"ArrowLeft":if(k){const e=l(V,s);y({...e,isCurrent:!0,isFocusVisible:!0})}else{const e=n(g,s);E({...e,isCurrent:!0,isFocusVisible:!0})}F(void 0),i.cancelEvent(e);break;case"ArrowUp":if(U){const e=n(g,s);E({...e,isCurrent:!0,isFocusVisible:!0})}else if(k){const e=l(V,"ArrowUp");y({...e,isCurrent:!0,isFocusVisible:!0})}F(void 0),i.cancelEvent(e);break;case"ArrowDown":if(U){const e=n(g,s);E({...e,isCurrent:!0,isFocusVisible:!0})}else if(k){const e=l(V,"ArrowDown");y({...e,isCurrent:!0,isFocusVisible:!0})}F(void 0),i.cancelEvent(e)}},onKeyUp:e=>{if("Tab"===e.key)U||k||D(e)},onPointerUp:s=>{const r=i.getInfo(e,s.target);if(!r)return;const{seriesIndex:n,groupIndex:o,levelIndex:t}=r;null!=n&&null!=o?(E({seriesIndex:n,groupIndex:o,isCurrent:!1,isFocusVisible:!1}),y({...V,isCurrent:!1,isFocusVisible:!1})):void 0!==o&&void 0===n&&null!=t&&(y({levelIndex:t,groupIndex:o,isCurrent:!0,isFocusVisible:!1}),E({...g,isCurrent:!1,isFocusVisible:!1}))},onBlur:()=>{E({...g,isCurrent:!1,isFocusVisible:!1})}}),onFocusUpdate:()=>{const e=Math.max(I.startIndex,Math.min(I.endIndex,g.groupIndex));E({...g,groupIndex:e,isCurrent:!0,isFocusVisible:!0})}}}}));
//# sourceMappingURL=useChartNav-a162c821.js.map
