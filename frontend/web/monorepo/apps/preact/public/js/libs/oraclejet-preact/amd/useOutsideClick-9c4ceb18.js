define(['exports', 'preact/hooks', './arrayUtils-6ee96a35', './Layer-dc3c1ac9', './useModal-536cb7ff'], (function(e,t,r,n,o){"use strict";const s=e=>e?.ownerDocument??document;e.useOutsideClick=({isDisabled:e=!1,ref:c,handler:u})=>{const a=t.useRef(null);t.useEffect((()=>{const t=r.coerceArray(c);if(!u||e||t.length>0&&t.findIndex((e=>null===e.current))>-1)return;const i=e=>{a.current=e.target},l=e=>{a.current===e.target&&((e,t)=>{const r=e.target;if(!r)return!1;if(!s(r).contains(r))return!1;if(t.some((e=>e.current?.contains(r))))return!1;const c=e=>{let t=e.parentElement;for(;t;){if(t[n.LOGICAL_PARENT])return t[n.LOGICAL_PARENT];t=t.parentElement}return null};let u=c(r);for(;u;){if(t.some((e=>e.current?.contains(u))))return!1;u=c(u)}if(r[o.MODAL_OVERLAY])return!!t.some((e=>{const t=e.current?.closest('[data-oj-layer="modal"]');return t&&t.contains(r)}));const a=r.closest('[data-oj-layer="modal"]');return!(a&&!t.some((e=>a.contains(e.current)))||t.some((e=>((e,t)=>{const r=e?.closest("[data-oj-layer]");return!(!r||!r.contains(t))})(e.current,r))))})(e,t)&&u?.(e),a.current=null},d=t[0],f=s(d.current);return f?(f.addEventListener("mousedown",i,!0),f.addEventListener("mouseup",l,!0),()=>{f.removeEventListener("mousedown",i,!0),f.removeEventListener("mouseup",l,!0)}):void 0}),[e,u,c])}}));
//# sourceMappingURL=useOutsideClick-9c4ceb18.js.map
