define(['exports', 'preact/hooks', './layoutUtils-641af87a', './eventsUtils-5fb81c3e', './accUtils-acd70e81', './useVisHover-28319fef', './mergeProps-bcfa6a92', './useVisDrill-b08ba7e5'], (function(e,s,t,i,o,n,r,c){"use strict";const a=e=>{const s=e.target.dataset.ojPrivateItemIndex;if(s)return{itemIndex:parseInt(s,10)}};e.usePieChartNav=function(e,o,u,d,l){const[b,v]=s.useState({itemIndex:0}),[I,f]=s.useState(),m=s.useRef(),V=e=>{e.itemIndex===b.itemIndex&&e.isFocusVisible===b.isFocusVisible||(v(e),f(void 0))},w=n.useVisHover((e=>{const s=a(e);s?.itemIndex!=I?.itemIndex?(f(s),m.current=t.getRandomId()):s||(m.current=void 0)}),void 0,(()=>{f(void 0),m.current=void 0}),e),k=s.useCallback((e=>{const{id:s,data:i}=o(e);null!=s&&i&&(l?.({id:s,data:i}),m.current=t.getRandomId())}),[o,l]),p=s.useCallback((e=>{"on"==d&&(V({...b,isFocusVisible:!0}),"keydown"===e.type?k(b):k(a(e)))}),[d,b,k,V]),F=c.useVisDrill("none",p);return{focusedItemInfo:b,hoveredItemInfo:I,activeId:m.current,eventsProps:r.mergeProps(F,w,{onKeyDown:e=>{switch(e.key){case"Tab":return;case"ArrowDown":{const s=u(b,"ArrowDown");V({...s,isFocusVisible:!0}),i.cancelEvent(e);break}case"ArrowUp":{const s=u(b,"ArrowUp");V({...s,isFocusVisible:!0}),i.cancelEvent(e);break}case"ArrowLeft":{const s=u(b,"ArrowLeft");V({...s,isFocusVisible:!0}),i.cancelEvent(e);break}case"ArrowRight":{const s=u(b,"ArrowRight");V({...s,isFocusVisible:!0}),i.cancelEvent(e);break}}m.current=t.getRandomId()},onKeyUp:e=>{"Tab"===e.key&&V({...b,isFocusVisible:!0})},onPointerUp:e=>{const s=a(e);s&&V({...s,isFocusVisible:!1})},onBlur:()=>{V({...b,isFocusVisible:!1})}}),onContextMenuDismissed:e=>{"keyboard"===e&&V({...b,isFocusVisible:!0})}}}}));
//# sourceMappingURL=usePieChartNav-339488db.js.map
