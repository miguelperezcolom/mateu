define(['exports', 'preact/jsx-runtime', 'preact/hooks', './Modal-8d647f76', './WindowOverlay-bd810e3b', './tabbableUtils-9101c0e5', './UNSAFE_Sheet/themes/SheetStyles.css', './refUtils-77e97004', './useAnimationStatus-4b135f52', './animationUtils-716a9aa6', './useTranslationBundle-27bf6340'], (function(e,t,n,s,a,o,r,i,c,l,u){"use strict";function p(e,{threshold:t=10,maximumTime:s=300,tolerance:a=50,isDisabled:o=!1}={threshold:10,maximumTime:300,tolerance:50,isDisabled:!1}){const r=n.useRef({pointerDownId:0,startTime:null,prevpageX:0,prevpageY:0,elementScrollTop:0}),i=n.useCallback((()=>{r.current={pointerDownId:null,startTime:0,prevpageX:0,prevpageY:0,elementScrollTop:0}}),[]),c=n.useCallback((e=>{const t=e.changedTouches[0];r.current.pointerDownId?i():r.current={pointerDownId:t.identifier,startTime:e.timeStamp,prevpageX:t.pageX,prevpageY:t.pageY,elementScrollTop:e.currentTarget.scrollTop}}),[i]),l=n.useCallback((n=>{const o=n.changedTouches[0];o.identifier===r.current.pointerDownId&&r.current.startTime&&n.timeStamp-r.current.startTime<s&&o.pageY-r.current.prevpageY>t&&Math.abs(o.pageX-r.current.prevpageX)<=a&&0===r.current.elementScrollTop&&e?.({direction:"down"}),i()}),[t,e,i,s,a]);return{swipeProps:o?{}:{onTouchStart:c,onTouchEnd:l,ontouchcancel:i}}}const d={opening:{...l.SLIDE_UP_XLARGE,options:{duration:l.DURATION_LARGE}},closing:{...l.SLIDE_DOWN_XLARGE,options:{duration:l.DURATION_LARGE}}},m=96;e.Sheet=({children:e,onClose:l,isOpen:h=!1,initialFocus:f="none"})=>{const b=n.useRef(null);n.useEffect((()=>{if(h&&"firstFocusable"===f){const e=b.current;e&&o.focusWithin(e)}}),[h,f]);const T=n.useCallback((()=>{l?.({reason:"pointerDismissed"})}),[l]),{swipeProps:g}=p(T),S=n.useCallback((e=>{if(!e.defaultPrevented)switch(e.code){case"Tab":case"Escape":l?.({reason:"keyboardDismissed"})}}),[l]),{setAnimationElementRef:D,status:v}=c.useAnimationStatus({isOpen:h,isAnimatedOnMount:!1,animationStates:d});n.useEffect((()=>{if("opening"===v&&"firstFocusable"===f){const e=b.current;e&&o.focusWithin(e)}}),[v,f]);const w=n.useMemo((()=>i.mergeRefs(D,b)),[D]),x="unmounted"!==v,E=u.useTranslationBundle("@oracle/oraclejet-preact");return t.jsx(t.Fragment,{children:x?t.jsx(s.Modal,{isOpen:x,onBackdropClick:T,children:t.jsx(a.WindowOverlay,{placement:"bottom",children:t.jsxs("div",{...g,ref:w,class:r.sheetStyles.sheetContainerWrapper,style:{maxHeight:`calc(100vh - ${m}px)`},onKeyDown:S,children:[t.jsx("a",{onClick:T,role:"button","aria-label":E.sheet_close(),tabIndex:-1,class:r.sheetStyles.sheetHiddenLink}),e]})})}):null})},e.useSheetSwipe=p}));
//# sourceMappingURL=Sheet-fdd314ac.js.map
