define(['exports', 'preact/jsx-runtime', './hooks/PRIVATE_useChartDataCursor/themes/DataCursorStyles.css', './Marker-cf672e83', 'css!./SvgShapesStyles.styles.css', 'preact/hooks', './themeContract.css-2e4b066d', './utils-ad4761c9', './useVisHover-28319fef', './mergeProps-bcfa6a92'], (function(e,t,r,s,o,n,i,a,c,l){"use strict";e.useChartDataCursor=function({touchResponse:e,findNearest:o,dataCursorPosition:y,onDataCursorPositionChange:u,isDataCursorEnabled:d,isHoriz:x,plotAreaSpace:v,yScale:h,y2Scale:f,xScale:p,dataCursorStyle:C,focusedItemInfo:g,getDataItemPos:m,getMarkerInfo:k}){let S=null,P=y?.x;const I=y?.y,D=y?.y2,b="snap"===C?.behavior,j=n.useRef(),L=()=>{const{seriesIndex:e,groupIndex:t}=g,r=m(e,t);if(!r)return;const s=r?.x+r.width/2,n=r?.y+r.height/2;let i=p.invert(x?n:s),a=h?.invert(x?s:n),c=f?.invert(x?s:n);const l=o(i,a,c);l&&(j.current=l,b&&(i=p.invert(l.x),a=h?.invert(l.y),c=f?.invert(l.y2)),u?.({x:i,y:a,y2:c}))},w=c.useVisHover((e=>{const t=e.offsetX,r=e.offsetY;if(t<v.x||r<v.y||t>v.x+v.width||r>v.y+v.height)return S=null,void u?.({x:void 0,y:void 0,y2:void 0});let s=p.invert(x?r:t),n=h?.invert(x?t:r),i=f?.invert(x?t:r);const a=o(s,n,i);a&&(j.current=a,b&&(s=p.invert(a.x),n=h.invert(a.y),i=f.invert(a.y2)),u?.({x:s,y:n,y2:i}))}),void 0,(()=>{u?.({x:void 0,y:void 0,y2:void 0}),j.current=void 0}),e);if(null!=P&&(null!=I||null!=D)&&d){const e=j.current||o(P,I,D);b&&(P=p.invert(e.x));const{mainLineProps:n,contrastLineProps:c}=function(e,t,r,s,o){const n=o?.lineColor,i=o?.lineStyle,a=s?e.transform(t):r.y+r.height,c=s?r.x:e.transform(t),l=s?e.transform(t):r.y,y=s?r.x+r.width:e.transform(t),u=o?.lineWidth||1;return{mainLineProps:{x1:c,y1:a,x2:y,y2:l,style:{stroke:n,strokeDashArray:"dotted"===i?3:"dashed"===i?6:void 0,strokeWidth:u}},contrastLineProps:{x1:s?c:c+u,y1:s?a+u:a,x2:s?y:y+u,y2:s?l+u:l}}}(p,P,v,x,C),{type:l,color:y}=k(e.seriesIndex,e.groupIndex),u=l||"circle",d="circle"===u?18:16,{tx:h,ty:f}=function(e,t){return{tx:t?null!=e.y?e.y:e.y2:e.x,ty:t?e.x:null!=e.y?e.y:e.y2}}(e,x);S=t.jsxs(t.Fragment,{children:[t.jsxs("g",{class:r.styles.dataCursor,children:[t.jsx("line",{...n,class:r.styles.dataCursorLine}),t.jsx("line",{...c,class:r.styles.contrastLine})]}),C?.isMarkerDisplayed&&e&&t.jsx(s.Marker,{type:u,tx:h,ty:f,isInteractive:!0,scale:1,fill:y,stroke:a.rgb(i.colorSchemeVars.palette.neutral[0]),outerStroke:y,width:d,height:d,preserveRectAspectRatio:!0})]})}return{dataCursorContent:S,dataCursorProps:d?l.mergeProps(w,{onKeyDown:e=>{if("Tab"===e.key)return u?.({x:void 0,y:void 0,y2:void 0}),void(j.current=void 0);L()},onKeyUp:e=>{"Tab"===e.key&&g.isCurrent||L()}}):{}}}}));
//# sourceMappingURL=useChartDataCursor-622da975.js.map
