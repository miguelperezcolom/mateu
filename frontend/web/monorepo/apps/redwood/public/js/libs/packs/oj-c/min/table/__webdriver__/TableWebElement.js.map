{"version":3,"file":"TableWebElement.js","sourceRoot":"","sources":["TableWebElement.ts"],"names":[],"mappings":"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","sourcesContent":["import { TableWebElementBase } from './TableWebElementBase';\nimport { By, error, WebElement } from 'selenium-webdriver';\nimport { SlotProxy, slotProxy } from '@oracle/oraclejet-webdriver';\nimport { executeWithModules } from '@oracle/oraclejet-webdriver/lib/oj-module-proxy';\n\n/**\n * The component WebElement for [oj-c-table](../../jsdocs/oj-c.Table.html).\n * Do not instantiate this class directly, instead, use\n * [findTable](../functions/findTable.html).\n */\nexport class TableWebElement extends TableWebElementBase {\n  // Put overrides here\n  /**\n   * Sets the value of \"selected\" property.\n   * If row/column are both unspecified selected for both will be empty.\n   * If no object is set on row/column, selected for that axis will be empty.\n   * If 'all' is unset for row/column object only 'keys' will be considered, if no 'keys' are specified selected for that axis will be empty.\n   * See the Help documentation for more information.\n   * @param selected The value to set for \"selected\"\n   * @typeparam K Type of keys\n   */\n  async changeSelected<K, C>(selected: {\n    row:\n      | { all: true; keys?: never; deletedKeys: Array<K> }\n      | { all: false; keys: Array<K>; deletedKeys?: never };\n    column:\n      | { all: true; keys?: never; deletedKeys: Array<C> }\n      | { all: false; keys: Array<C>; deletedKeys?: never };\n  }) {\n    await this.whenReady();\n    return executeWithModules<void>(\n      this.getDriver(),\n      ['KeySet'],\n      [this, selected],\n      ({ KeySetImpl, AllKeySetImpl }, ele, selected) => {\n        ele.selected = {\n          row: selected.row?.all\n            ? new AllKeySetImpl().delete(selected.row.deletedKeys)\n            : new KeySetImpl(selected.row?.keys),\n          column: selected.column?.all\n            ? new AllKeySetImpl().delete(selected.column.deletedKeys)\n            : new KeySetImpl(selected.column?.keys)\n        };\n      }\n    );\n  }\n\n  /**\n   * Gets the value of \"selected\" property.\n   * @typeparam K Type of keys\n   * @return The value of \"selected\" property.\n   */\n  async getSelected<K, C>(): Promise<{\n    row:\n      | { all: true; keys?: never; deletedKeys: Array<K> }\n      | { all: false; keys: Array<K>; deletedKeys?: never };\n    column:\n      | { all: true; keys?: never; deletedKeys: Array<C> }\n      | { all: false; keys: Array<C>; deletedKeys?: never };\n  }> {\n    await this.whenReady();\n    const selected: {\n      row:\n        | { all: true; keys?: never; deletedKeys: Array<K> }\n        | { all: false; keys: Array<K>; deletedKeys?: never };\n      column:\n        | { all: true; keys?: never; deletedKeys: Array<C> }\n        | { all: false; keys: Array<C>; deletedKeys?: never };\n    } = await this.getDriver().executeScript((ele: any) => {\n      const row = ele.selected.row.keys.all\n        ? { all: true, deletedKeys: Array.from(ele.selected.row.keys.deletedKeys) }\n        : { all: false, keys: Array.from(ele.selected.row.keys.keys) };\n      const column = ele.selected.column.keys.all\n        ? { all: true, deletedKeys: Array.from(ele.selected.column.keys.deletedKeys) }\n        : { all: false, keys: Array.from(ele.selected.column.keys.keys) };\n      return { row, column };\n    }, this);\n    return selected;\n  }\n\n  /**\n   * Set a given row active. Triggers a ojRowAction Event.\n   * @param itemLocator.rowKey The rowKey associated with the row.\n   */\n  async doRowAction<K>(itemLocator: { rowKey: K }): Promise<void> {\n    await this.whenReady();\n    try {\n      const row = await this.findElement(By.css(`[data-oj-key=\"${itemLocator.rowKey}\"]`));\n      await row?.click();\n    } catch (e) {\n      throw new error.NoSuchElementError(`Row with specified key cannot be found`);\n    }\n  }\n\n  /**\n   * Retrieve a SlotProxy which represents a cell.\n   * Cell content is only retrievable if there is a cell template for the cell.\n   * Throws if there is no matching cell or if there is not cell template for the cell.\n   *\n   * @param itemLocator.rowKey The rowKey associated with the cell\n   * @param itemLocator.columnKey The columnKey associated with the cell\n   */\n  async findCell<K, C>(itemLocator: { rowKey: K; columnKey: C }): Promise<SlotProxy> {\n    await this.whenReady();\n    const el = await this.getDriver().executeScript<WebElement | null>(\n      (element: any, columnKey: C, rowKey: K) => {\n        const column = element.columns[columnKey];\n        const hasDefaultCellTemplate = element.firstElementChild.getAttribute('data-oj-ct');\n        if (column['template'] == null && !hasDefaultCellTemplate) {\n          return null;\n        }\n        const row = element.querySelector(`[data-oj-key=\"${rowKey}\"]`);\n        if (row) {\n          return row.querySelector(`[data-oj-column-key=\"${columnKey}\"]`);\n        }\n        return null;\n      },\n      this,\n      itemLocator.columnKey,\n      itemLocator.rowKey\n    );\n\n    if (el) {\n      return slotProxy(el, this);\n    } else {\n      throw Error(`No corresponding item found for the itemLocator`);\n    }\n  }\n\n  /**\n   * Retrieve a SlotProxy which represents a header cell.\n   * Header content is only retrievable if there is a header template for the cell.\n   * Throws if there is no matching header or if there is not header template for the cell.\n   *\n   * @param itemLocator.columnKey The columnKey associated with the header cell\n   */\n  async findHeader<C>(itemLocator: { columnKey: C }): Promise<SlotProxy> {\n    await this.whenReady();\n    const el = await this.getDriver().executeScript<WebElement | null>(\n      (element: any, columnKey: C) => {\n        const column = element.columns[columnKey];\n        const hasDefaultHeaderTemplate = element.firstElementChild.getAttribute('data-oj-ht');\n        if (column['headerTemplate'] == null && !hasDefaultHeaderTemplate) {\n          return null;\n        }\n        return element.querySelector(\n          `[data-oj-cell-type=\"header\"][data-oj-column-key=\"${columnKey}\"]`\n        );\n      },\n      this,\n      itemLocator.columnKey\n    );\n\n    if (el) {\n      return slotProxy(el, this);\n    } else {\n      throw Error(`No corresponding item found for the itemLocator`);\n    }\n  }\n\n  /**\n   * Retrieve a SlotProxy which represents a footer cell.\n   * Footer content is only retrievable if there is a footer template for the cell.\n   * Throws if there is no matching footer or if there is not footer template for the cell.\n   *\n   * @param itemLocator.columnKey The columnKey associated with the footer cell\n   */\n  async findFooter<C>(itemLocator: { columnKey: C }): Promise<SlotProxy> {\n    await this.whenReady();\n    const el = await this.getDriver().executeScript<WebElement | null>(\n      (element: any, columnKey: C) => {\n        const column = element.columns[columnKey];\n        const hasDefaultFooterTemplate = element.firstElementChild.getAttribute('data-oj-ft');\n        if (column['footerTemplate'] == null && !hasDefaultFooterTemplate) {\n          return null;\n        }\n        return element.querySelector(\n          `[data-oj-cell-type=\"footer\"][data-oj-column-key=\"${columnKey}\"]`\n        );\n      },\n      this,\n      itemLocator.columnKey\n    );\n\n    if (el) {\n      return slotProxy(el, this);\n    } else {\n      throw Error(`No corresponding item found for the itemLocator`);\n    }\n  }\n\n  /**\n   * Retrieve a SlotProxy which represents no data content.\n   */\n  async findNoData(): Promise<SlotProxy> {\n    await this.whenReady();\n    const el = await this.getDriver().executeScript<WebElement | null>((element: any) => {\n      if (!element.firstElementChild.getAttribute('data-oj-ndt')) {\n        return null;\n      }\n      return element.querySelector('[data-oj-cell-type=\"noData\"]');\n    }, this);\n    if (el) {\n      return slotProxy(el, this);\n    } else {\n      throw Error(`No corresponding item found for the itemLocator`);\n    }\n  }\n}\n"]}