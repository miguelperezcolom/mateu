{"version":3,"file":"Toolbar.spec.js","sources":["../../../../src/UNSAFE_Toolbar/tests/Toolbar.spec.tsx"],"sourcesContent":["import { fireEvent, render, screen, waitFor } from '@testing-library/preact';\nimport { expect } from 'chai';\nimport { Toolbar } from '../Toolbar';\nimport { ToolbarSeparator } from '../ToolbarSeparator';\nimport { BaseButton } from '../../UNSAFE_BaseButton';\nimport { Button } from '../../UNSAFE_Button';\nimport { MenuButton } from '../../UNSAFE_MenuButton';\nimport { SplitMenuButton } from '../../UNSAFE_SplitMenuButton';\nimport userEvent from '@testing-library/user-event';\n\ndescribe('Test Toolbar component', () => {\n  const sampleToolbar = (\n    <Toolbar>\n      <BaseButton></BaseButton>\n      <Button isDisabled={true}></Button>\n      <ToolbarSeparator />\n      <MenuButton></MenuButton>\n      <SplitMenuButton></SplitMenuButton>\n    </Toolbar>\n  );\n\n  it('Checks for Toolbar and amount of Toolbar content', async () => {\n    render(sampleToolbar);\n    const toolbar = screen.getAllByRole('toolbar')[0];\n    const content = toolbar?.firstChild?.childNodes; // eslint-disable-line\n\n    expect(toolbar).not.to.be.null;\n    expect(content?.length).equals(5);\n  });\n\n  it('Uses left/right arrow keys to navigate, skipping disabled content and dividers', async () => {\n    render(sampleToolbar);\n    const toolbar = screen.getAllByRole('toolbar')[0];\n    const content = toolbar?.firstChild?.childNodes; // eslint-disable-line\n    const firstEnabledElement = content?.[0] as HTMLElement;\n    const secondEnabledElement = content?.[3] as HTMLElement;\n\n    await userEvent.tab();\n    await waitFor(\n      () => {\n        expect(firstEnabledElement.matches(':focus')).to.be.true;\n      },\n      { timeout: 500 }\n    );\n    expect(firstEnabledElement.getAttribute('tabIndex')).equals('0');\n    fireEvent.keyDown(firstEnabledElement, { key: 'ArrowRight', code: 'ArrowRight', charCode: 39 });\n    await waitFor(\n      () => {\n        expect(secondEnabledElement.matches(':focus')).to.be.true;\n      },\n      { timeout: 500 }\n    );\n    expect(secondEnabledElement.getAttribute('tabIndex')).equals('0');\n    expect(firstEnabledElement.getAttribute('tabIndex')).equals('-1');\n    fireEvent.keyDown(secondEnabledElement, { key: 'ArrowLeft', code: 'ArrowLeft', charCode: 37 });\n    await waitFor(\n      () => {\n        expect(firstEnabledElement.matches(':focus')).to.be.true;\n      },\n      { timeout: 500 }\n    );\n    expect(firstEnabledElement.getAttribute('tabIndex')).equals('0');\n    expect(secondEnabledElement.getAttribute('tabIndex')).equals('-1');\n  });\n});\n"],"names":["describe","sampleToolbar","_jsxs","jsxs","Toolbar","children","_jsx","BaseButton","Button","isDisabled","jsx","ToolbarSeparator","MenuButton","SplitMenuButton","it","async","render","toolbar","screen","getAllByRole","content","firstChild","childNodes","expect","not","to","be","null","length","equals","firstEnabledElement","secondEnabledElement","userEvent","tab","waitFor","matches","true","timeout","getAttribute","fireEvent","keyDown","key","code","charCode"],"mappings":"k0QAUAA,SAAS,0BAA0B,KACjC,MAAMC,EACJC,EAAAC,KAACC,UAAO,CAAAC,SAAA,CACNC,EAAAA,IAACC,EAAUA,WAAc,CAAA,GACzBD,EAAAA,IAACE,EAAMA,QAACC,YAAY,IACpBH,EAAAI,IAACC,EAAgBA,iBAAA,IACjBL,EAACI,IAAAE,EAAUA,WAAc,IACzBN,EAACI,IAAAG,EAAeA,gBAAmB,CAAA,MAIvCC,GAAG,oDAAoDC,UACrDC,EAAMA,OAACf,GACP,MAAMgB,EAAUC,EAAAA,OAAOC,aAAa,WAAW,GACzCC,EAAUH,GAASI,YAAYC,WAErCC,EAAMA,OAACN,GAASO,IAAIC,GAAGC,GAAGC,KAC1BJ,EAAAA,OAAOH,GAASQ,QAAQC,OAAO,EAAE,IAGnCf,GAAG,kFAAkFC,UACnFC,EAAMA,OAACf,GACP,MAAMgB,EAAUC,EAAAA,OAAOC,aAAa,WAAW,GACzCC,EAAUH,GAASI,YAAYC,WAC/BQ,EAAsBV,IAAU,GAChCW,EAAuBX,IAAU,SAEjCY,GAAAA,QAAUC,YACVC,EAAOA,SACX,KACEX,EAAMA,OAACO,EAAoBK,QAAQ,WAAWV,GAAGC,GAAGU,IAAI,GAE1D,CAAEC,QAAS,MAEbd,EAAMA,OAACO,EAAoBQ,aAAa,aAAaT,OAAO,KAC5DU,EAAAA,UAAUC,QAAQV,EAAqB,CAAEW,IAAK,aAAcC,KAAM,aAAcC,SAAU,WACpFT,EAAOA,SACX,KACEX,EAAMA,OAACQ,EAAqBI,QAAQ,WAAWV,GAAGC,GAAGU,IAAI,GAE3D,CAAEC,QAAS,MAEbd,EAAMA,OAACQ,EAAqBO,aAAa,aAAaT,OAAO,KAC7DN,EAAMA,OAACO,EAAoBQ,aAAa,aAAaT,OAAO,MAC5DU,EAAAA,UAAUC,QAAQT,EAAsB,CAAEU,IAAK,YAAaC,KAAM,YAAaC,SAAU,WACnFT,EAAOA,SACX,KACEX,EAAMA,OAACO,EAAoBK,QAAQ,WAAWV,GAAGC,GAAGU,IAAI,GAE1D,CAAEC,QAAS,MAEbd,EAAMA,OAACO,EAAoBQ,aAAa,aAAaT,OAAO,KAC5DN,EAAMA,OAACQ,EAAqBO,aAAa,aAAaT,OAAO,KAAK,GAClE"}