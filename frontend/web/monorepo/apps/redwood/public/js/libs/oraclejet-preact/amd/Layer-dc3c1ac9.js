define(['exports', 'preact/jsx-runtime', 'preact/compat', './LayerHost-7d4aa6d3', './classNames-08d99695', './UNSAFE_Layer/themes/LayerStyles.css', './useThemeInterpolations-1dff2f9d'], (function(e,t,o,s,a,r,l){"use strict";const n=Symbol.for("oj-logical-parent");e.LOGICAL_PARENT=n,e.Layer=({children:e,logicalParentRef:i,isModal:y=!1,priority:c="popup",level:u="nearestAncestor"})=>{const[d,m]=o.useState(null),p=o.useRef(null),L=o.useContext(s.LayerContext),g=e=>{p.current=e,m(e)},f=l.useThemeInterpolations(i);let S=r.styles.popupPriorityStyle;switch(c){case"dialog":S=r.styles.dialogPriorityStyle;break;case"messages":S=r.styles.messagesPriorityStyle;break;case"tooltip":S=r.styles.tooltipPriorityStyle;break;default:S=r.styles.popupPriorityStyle}const b=a.classNames([f,r.baseStyle,S]);o.useLayoutEffect((()=>{const e="topLevel"===u?L.getRootLayerHost?.(c):L.getLayerHost?.(c);if(!e)return;const t=(e.ownerDocument??document).createElement("div");return t.setAttribute("data-oj-layer",y?"modal":"modeless"),i&&(t[n]=l.toUnsafeDomElement(i)),e.appendChild(t),g(t),()=>{e&&t&&e.contains(t)&&(delete t[n],e.removeChild(t)),L.onLayerUnmount&&L.onLayerUnmount(t),g(null)}}),[i,L,u,c,y]),d&&(d.className=b);const H=o.useCallback((()=>d),[d]),P=o.useMemo((()=>L.getLayerHost?{getRootLayerHost:L.getRootLayerHost?.bind(null,c),getLayerHost:H.bind(null)}:{}),[L.getLayerHost,L.getRootLayerHost,H,c]);return t.jsx(s.LayerContext.Provider,{value:P,children:d&&o.createPortal(e,d)})}}));
//# sourceMappingURL=Layer-dc3c1ac9.js.map
