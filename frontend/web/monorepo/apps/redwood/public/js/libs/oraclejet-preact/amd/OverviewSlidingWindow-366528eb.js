define(['exports', 'preact/jsx-runtime', 'preact/hooks', './PRIVATE_VisOverview/themes/VisOverview.css', './eventsUtils-5fb81c3e', './accUtils-acd70e81', './DragH-c1224a99', './clientUtils-df9caee0'], (function(t,e,i,o,n,r,s,a){"use strict";const d=a.isTouch()?30:10;t.OverviewSlidingWindow=function({x:t,width:r,height:a,y:f,windowX:l,windowHeight:c,windowWidth:h,windowY:w,hasHandles:g,onWindowDimsChange:x}){const u=i.useRef(null),j=function({x:t,width:e,windowX:o,windowWidth:r,rootRef:s,windowHeight:a,windowY:d,onWindowDimsChange:f}){const l=i.useRef(),[c,h]=i.useState();return{onPointerDown:i.useCallback((t=>{l.current={x:t.offsetX,y:t.offsetY},t.target.setPointerCapture(t.pointerId),h({x:t.offsetX,y:t.offsetY})}),[l]),onPointerUp:i.useCallback((i=>{const{offsetX:n,offsetY:s}=i,c=Math.abs(l.current.x-n)>5;if(l.current=void 0,h(void 0),n<=o+r&&n>=o&&s<=d+a&&s>=d||c)return;const w=Math.min(t+e-r,Math.max(n-r/2,t));f?.({deltaX:w-o,deltaWidth:0})}),[l,a,o,d,r,e,t,f]),onPointerMove:i.useCallback((i=>{const a=n.getElementData(s,i.target)?.ojPrivateObject;if(!l.current||null==i.target||null==a||null==c)return;let d=0,w=0;if("window"===a){const n=i.offsetX-c.x;d=Math.min(t+e-r,Math.max(t,o+n))-o}else"leftHandle"===a&&i.offsetX<=o+r-10&&i.offsetX>t?(d=Math.max(t,o+i.offsetX-c.x)-o,w=-1*d):"rightHandle"===a&&i.offsetX>=o+10&&i.offsetX<t+e&&(w=Math.min(i.offsetX-c.x,t+e-o));h({x:i.offsetX,y:i.offsetY}),f?.({deltaX:d,deltaWidth:w}),i.stopPropagation()}),[l,s,t,c,e,o,r,f])}}({x:t,y:f,width:r,height:a,windowHeight:c,windowWidth:h,windowX:l,windowY:w,rootRef:u,onWindowDimsChange:x}),v=w+.5*(c-16);return e.jsxs("g",{ref:u,...g?j:{},children:[e.jsx("rect",{x:t,y:f,width:r,height:a,fill:"transparent"}),e.jsx("rect",{"data-oj-private-object":"window",cursor:"move",x:l,y:w,height:c-1,width:h-1,class:o.styles.overviewWindow}),g&&e.jsxs(e.Fragment,{children:[e.jsx("g",{transform:`translate(${l} ${v})`,children:e.jsx(s.SvgDragH,{color:"primary"})}),e.jsx("g",{transform:`translate(${l+h-16} ${v})`,children:e.jsx(s.SvgDragH,{color:"primary"})}),e.jsx("rect",{x:l,y:w,height:c,width:d,strokeWidth:"1","data-oj-private-object":"leftHandle",fill:"transparent",stroke:"transparent",cursor:"col-resize"}),e.jsx("rect",{x:l+h-d,y:w,strokeWidth:"1",height:c,"data-oj-private-object":"rightHandle",width:d,stroke:"transparent",fill:"transparent",cursor:"col-resize"})]})]})}}));
//# sourceMappingURL=OverviewSlidingWindow-366528eb.js.map
