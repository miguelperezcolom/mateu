define(['exports', './datatipUtils-6846028e', './dimensionUtils-61978138'], (function(t,i,e){"use strict";const n="â€¦";function h(t){const i=t[t.length-1];return i?.endsWith(n)}function r(t,i,e,h,r,o){if(!o)return"";if(e<=0)return"";let u=o(t,i);if(u.width<=e)return t;if(u.height>h)return"";const s=t,l=t.length,c=u.width/function(t){return t=t.replace(/[\u200A\u200B\u200C\u200D\u200E\u200F\uFEFF]/g,""),t.length}(t);let g=Math.max(Math.floor(e/c)-2,r),f=s.substring(0,g)+n,d=f;u=o(f,i);let a=u;for(;u.width<e&&!(g>=s.length);){const t=e-u.width,h=Math.min(l-g,Math.max(Math.floor(t/c),1));if(g+=h,f=s.substring(0,g)+n,u=o(f,i),1==h&&u.width>e){f=d,u=a;break}d=f,a=u}for(;u.width>e;){if(g<=r){f="";break}g-=1,f=s.substring(0,g)+n,u=o(f,i)}return f}function o(t,i,e,n,h,u,s=1){const l=t.join(" "),{width:c,height:g}=u(l,i);if(g>n)return[];if(c<=e)return[t.join(" ")];let f=0,d="";for(;f<t.length;){const l=t.slice(0,f+1).join(" "),c=r(l,i,e,n,h,u),g=""===c;if(c!=l){const r=t.slice(f),l=s<3?o(r,i,e,n-12,h,u,s+1):[];return 0===l.length?[c]:[d,...l]}if(g)return[];f+=1,d=l}return[t.join(" ")]}function u(t,i,e,n,h,r){return o(t.split(/\s+/),i,e,n,h,r,1)}function s(t,i,e,n){let h,r;return"left"===t?(h=i.x+n.height/2-(e?n.height/2:0),r=i.y+i.height/2):"right"===t?(h=i.x+i.width-(e?n.height/2:0),r=i.y+i.height/2):"top"===t?(h=i.x+i.width/2,r=i.y+n.height/2):(h=i.x+i.width/2,r=i.y+i.height-n.height/2),{x:h,y:r}}t.centerTextInAvailSpace=s,t.getTextInfo=function(t,i,e,n,o,s,l){const c=o?u(t,i,e,n,s,l):[r(t,i,e,n,s,l)],g=l("MV",i).height,f=c.map((t=>l(t,i))),d=c.every((t=>""===t)),a=Math.max(...f.map((t=>t.width)));return{lines:c,dims:f,didNotFit:d,height:c.length*g,width:a,isMultiline:c.length>1,lineHeight:g,isTruncated:h(c)}},t.getTextProps=function(t,i,e,n,h,r){let{x:o,y:u}=e;const s=r("MV",i).width,l=[];return t.forEach(((t,i)=>{const e=n?`matrix(0, ${h?1:-1}, ${h?-1:1}, 0, ${o}, ${u})`:void 0;l.push({text:t,x:n?void 0:o,y:n?void 0:u+i*s,transform:n?e:void 0}),o+=n?s:0,u+=n?0:s})),l},t.positionMultilineText=(t,i,n,h,r,o)=>{const u=e.cloneDimension(r);return t.map(((t,e)=>{const r=s(h,u,o,i[e]);return"top"===h?(u.y+=n,u.height-=n):"left"===h?(u.x+=n,u.width-=n):"bottom"===h?u.height-=n:u.width-=n,r}))},t.truncateMultilineText=u,t.truncateSingleLineText=r}));
//# sourceMappingURL=utils-cd60c9d4.js.map
