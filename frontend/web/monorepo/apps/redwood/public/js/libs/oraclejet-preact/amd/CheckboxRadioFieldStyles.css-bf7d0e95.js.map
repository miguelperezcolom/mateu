{"version":3,"file":"CheckboxRadioFieldStyles.css-bf7d0e95.js","sources":["../../src/PRIVATE_CheckboxRadioField/useCheckboxRadioField.ts"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport type { ComponentProps, JSX } from 'preact';\n\nimport type { UnpackSignals } from '@oracle/oraclejet-internal-utilities/attributeUtils';\nimport { merge } from '@oracle/oraclejet-internal-utilities/stringUtils';\n\nimport { useMessageSeverity } from '#hooks/PRIVATE_useMessageSeverity';\nimport type { InlineUserAssistance } from '#UNSAFE_UserAssistance';\n\ntype UseCheckboxRadioFieldProps = {\n  ariaDescribedBy?: string;\n  baseId: string;\n  hasValue?: boolean;\n  hasTopUserAssistance?: boolean;\n  hasBottomUserAssistance?: boolean;\n  isFocused?: boolean; // TODO: check if this is needed\n  isReadonly?: boolean;\n  isRequired?: boolean;\n  isDisabled?: boolean;\n  label: string;\n  labelEdge?: 'none' | 'top' | 'start' | 'inside';\n  messages?: ComponentProps<typeof InlineUserAssistance>['messages'];\n  parentComponentVariant: 'radioSet' | 'checkboxSet';\n};\n\ntype GroupProps = {\n  groupProps: {\n    'aria-describedby'?: UnpackSignals<JSX.AriaAttributes>['aria-describedby'];\n    'aria-labelledby'?: UnpackSignals<JSX.AriaAttributes>['aria-labelledby'];\n    'aria-label'?: UnpackSignals<JSX.AriaAttributes>['aria-label'];\n    'aria-required'?: UnpackSignals<JSX.AriaAttributes>['aria-required'];\n    'aria-invalid'?: UnpackSignals<JSX.AriaAttributes>['aria-invalid'];\n    'aria-readonly'?: UnpackSignals<JSX.AriaAttributes>['aria-readonly'];\n    'aria-disabled'?: UnpackSignals<JSX.AriaAttributes>['aria-disabled'];\n    id: UnpackSignals<JSX.HTMLAttributes>['id'];\n  };\n  labelProps: {\n    forId: string;\n    id: string;\n    isRequiredShown?: boolean;\n  };\n  topUserAssistanceProps?: {\n    id: string;\n    variant: 'reflow';\n  };\n  bottomUserAssistanceProps?: {\n    id: string;\n    isRequiredShown?: boolean;\n  };\n  readonlyId?: string;\n};\n\nexport function useCheckboxRadioField({\n  ariaDescribedBy,\n  baseId,\n  hasValue,\n  hasTopUserAssistance,\n  hasBottomUserAssistance,\n  isReadonly,\n  isRequired = false,\n  isDisabled,\n  label,\n  labelEdge,\n  messages,\n  parentComponentVariant\n}: UseCheckboxRadioFieldProps): GroupProps {\n  const optionsGroupId = `${baseId}-group`;\n  const labelId = `${baseId}-label`;\n  const topUaId = hasTopUserAssistance ? `${baseId}-top-ua` : undefined;\n  const bottomUaId = hasBottomUserAssistance ? `${baseId}-bottom-ua` : undefined;\n  const readonlyId = isReadonly ? `${baseId}-readonly` : undefined;\n  const ariaLabel = label && label.length > 0 && labelEdge === 'none' ? label : undefined;\n  const ariaLabelledBy = ariaLabel ? undefined : labelId;\n  const isRadioSet = parentComponentVariant === 'radioSet';\n  const highestMessageSeverity = useMessageSeverity(messages);\n  const hasErrorMessage = highestMessageSeverity === 'error';\n\n  return {\n    groupProps: {\n      'aria-describedby': merge([topUaId, bottomUaId, readonlyId, ariaDescribedBy]),\n      ...(isRadioSet && { 'aria-required': isRequired }),\n      ...(ariaLabelledBy && { 'aria-labelledby': ariaLabelledBy }),\n      ...(ariaLabel && { 'aria-label': ariaLabel }),\n      ...(isReadonly && isRadioSet && { 'aria-readonly': true }),\n      ...(hasErrorMessage && { 'aria-invalid': true }),\n      ...(isDisabled && { 'aria-disabled': true }),\n      id: optionsGroupId\n    },\n    labelProps: {\n      forId: optionsGroupId,\n      id: labelId\n    },\n    // TOP UA is assistive text and help link/text\n    ...(hasTopUserAssistance && {\n      topUserAssistanceProps: {\n        id: topUaId as string,\n        // Use reflow variant so that top UA doesn't have min height\n        variant: 'reflow'\n      }\n    }),\n    // Bottom UA is required indicator or messages\n    ...(hasBottomUserAssistance && {\n      bottomUserAssistanceProps: {\n        id: bottomUaId as string,\n        isRequiredShown: !isReadonly && !!isRequired && !hasValue\n      }\n    }),\n    ...(isReadonly && {\n      readonlyId\n    })\n  };\n}\n"],"names":["ariaDescribedBy","baseId","hasValue","hasTopUserAssistance","hasBottomUserAssistance","isReadonly","isRequired","isDisabled","label","labelEdge","messages","parentComponentVariant","optionsGroupId","labelId","topUaId","undefined","bottomUaId","readonlyId","ariaLabel","length","ariaLabelledBy","isRadioSet","hasErrorMessage","useMessageSeverity","groupProps","merge","l","id","labelProps","forId","topUserAssistanceProps","variant","bottomUserAssistanceProps","isRequiredShown"],"mappings":"2UA2DgB,UAAsBA,gBACpCA,EAAeC,OACfA,EAAMC,SACNA,EAAQC,qBACRA,EAAoBC,wBACpBA,EAAuBC,WACvBA,EAAUC,WACVA,GAAa,EAAKC,WAClBA,EAAUC,MACVA,EAAKC,UACLA,EAASC,SACTA,EAAQC,uBACRA,IAEA,MAAMC,EAAiB,GAAGX,UACpBY,EAAU,GAAGZ,UACba,EAAUX,EAAuB,GAAGF,gBAAkBc,EACtDC,EAAaZ,EAA0B,GAAGH,mBAAqBc,EAC/DE,EAAaZ,EAAa,GAAGJ,kBAAoBc,EACjDG,EAAYV,GAASA,EAAMW,OAAS,GAAmB,SAAdV,EAAuBD,OAAQO,EACxEK,EAAiBF,OAAYH,EAAYF,EACzCQ,EAAwC,aAA3BV,EAEbW,EAA6C,UADpBC,qBAAmBb,GAGlD,MAAO,CACLc,WAAY,CACV,mBAAoBC,EAAKC,EAAC,CAACZ,EAASE,EAAYC,EAAYjB,OACxDqB,GAAc,CAAE,gBAAiBf,MACjCc,GAAkB,CAAE,kBAAmBA,MACvCF,GAAa,CAAE,aAAcA,MAC7Bb,GAAcgB,GAAc,CAAE,iBAAiB,MAC/CC,GAAmB,CAAE,gBAAgB,MACrCf,GAAc,CAAE,iBAAiB,GACrCoB,GAAIf,GAENgB,WAAY,CACVC,MAAOjB,EACPe,GAAId,MAGFV,GAAwB,CAC1B2B,uBAAwB,CACtBH,GAAIb,EAEJiB,QAAS,cAIT3B,GAA2B,CAC7B4B,0BAA2B,CACzBL,GAAIX,EACJiB,iBAAkB5B,KAAgBC,IAAeJ,OAGjDG,GAAc,CAChBY,cAGN"}