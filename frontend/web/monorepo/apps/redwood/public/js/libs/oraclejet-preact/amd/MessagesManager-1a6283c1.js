define(['exports', 'preact/jsx-runtime', './classNames-08d99695', './SuccessS-8dafd1a1', './ErrorS-8d91fdff', './InformationS-015cd288', './WarningS-c50c4022', './Flex-4bc3a394', './PRIVATE_Message/themes/MessageStyles.css', './useTranslationBundle-27bf6340', './useTestId-a2e433c2', './logger-0f873e29', './soundUtils-f6535f03', './MessageFormattingUtils-ea0be23e', 'preact', 'preact/hooks', './TransitionGroup-3b9d81b6', './useAnimation-5a74955f', './MessagesContext-602a69a2', './useMessagesContext-1395a997', './Transition-04efcc49'], (function(e,n,t,a,s,i,r,o,c,l,u,d,g,m,f,y,S,v,x,h,p){"use strict";const b={confirmation:a.SvgSuccessS,error:s.SvgErrorS,info:i.SvgInformationS,warning:r.SvgWarningS};const I=(e,n="common")=>d.warn(`JET Message(${n}): ${e}`);function j(e,n="common"){throw new Error(`JET Message(${n}) - ${e}`)}const E={};function M({animationStates:e=E,initialAnimationStyles:t,onEntering:a,onExiting:s,...i}){const[r,o]=y.useState("entering"),c=y.useRef(),l=y.useRef(),{controller:u,nodeRef:d}=v.useAnimation(r,{animationStates:e,isAnimatedOnMount:!0,onAnimationEnd:y.useCallback((()=>{c.current?.(),c.current=void 0,l.current?.(),l.current=void 0}),[])}),{addBusyState:g}=h.useMessagesContext(),m=y.useCallback(((n,t,s)=>{c.current&&(c.current=void 0,u.cancel()),l.current?.(),l.current=void 0,a?.(n,void 0,s),o("entering"),void 0!==e.entering||void 0!==e["exiting => entering"]?(c.current=t,l.current=g?.("messages animating")):t?.()}),[e,u,g,a]),f=y.useCallback(((n,t,a)=>{c.current&&(c.current=void 0,u.cancel()),l.current?.(),l.current=void 0,s?.(n,void 0,a),o("exiting"),void 0!==e.exiting||void 0!==e["entering => exiting"]?(c.current=t,l.current=g?.("messages animating")):t?.()}),[e,u,g,s]);return y.useLayoutEffect((()=>()=>l.current?.()),[]),n.jsx("div",{ref:d,style:t,children:n.jsx(p.Transition,{...i,onEntering:m,onExiting:f})})}e.MessageStartIcon=function({severity:e,testId:a,variant:s="banner"}){const i=b[e],r=l.useTranslationBundle("@oracle/oraclejet-preact"),d={confirmation:r.message_confirmation(),error:r.message_error(),info:r.message_info(),warning:r.message_warning()},g=u.useTestId(a),m="inline"!==s?n.jsx(o.Flex,{align:"center",height:"100%",children:n.jsx("span",{class:c.startIconContainerStyles[s],role:"img","aria-label":d[e],children:n.jsx(i,{})})}):n.jsx("span",{class:c.startIconContainerStyles.inline,role:"img","aria-label":d[e],children:n.jsx(i,{})});return n.jsx("div",{class:t.classNames([c.messageStartIconStyles.base,c.messageStartIconStyles[s],c.severityIconStyles[s]]),role:"presentation",...g,children:m})},e.MessageSummary=function({"aria-level":e,role:a,text:s,testId:i,variant:r="banner"}){const o=u.useTestId(i),l=t.classNames([c.messageSummaryStyles.base,c.messageSummaryStyles[r]]);return n.jsx("div",{"aria-level":e,role:a,class:l,...o,children:s})},e.MessagesManager=function({data:e,animationStates:t,children:a,initialAnimationStyles:s,onMessageWillRemove:i}){const r=y.useCallback((async(e,n)=>{n&&i?.(n.key,n.index,e)}),[i]);return n.jsx(S.TransitionGroup,{elementType:f.Fragment,children:e.map(((e,i)=>n.jsx(M,{animationStates:t,initialAnimationStyles:s,metadata:{index:i,key:e.key},onExited:r,children:a?.({index:i,item:e})},e.key)))})},e.getRenderer=function(e,n,t,a){if(!n||!t)return;const s="function"==typeof n?n(e):n;return null!=s?(s in t||j(`${s} is not a valid template name for the message with key=${e.key}`,a),t[s]):void 0},e.isSeverityIconNeeded=function(e){return m.isValidValueForProp(e,"severity")&&"none"!==e},e.playSound=async function(e){if("none"!==e)if("default"!==e)try{await g.playAudioFromURL(e)}catch(n){I(`Failed to play the audio from the url ${e}. ${n}.`)}else try{g.playDefaultNotificationSound()}catch(e){I(`Failed to play the default sound. ${e}.`)}},e.severityBasedStyleClass=function(e,n){return m.isValidValueForProp(e,"severity")&&"none"!==e?`oj-c-message${n}-${e}`:""},e.throwError=j}));
//# sourceMappingURL=MessagesManager-1a6283c1.js.map
