/**
 * @license
 * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("oj-c/utils/PRIVATE_keyUtils/keySetUtils",["require","exports","ojs/ojkeyset"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEqual=e.getFirstKey=e.isEmpty=e.keysToKeySet=e.keySetToKeys=void 0;e.keySetToKeys=e=>{if(!e)return{all:!1,keys:new Set};let t={};if(e.isAddAll()){t={all:!0,deletedKeys:new Set(e.deletedValues())}}else if(!e.isAddAll()){t={all:!1,keys:new Set(e.values())}}return t};e.keysToKeySet=e=>{let o;return e.all?(o=new t.AllKeySetImpl,o=o.delete(new Set(e.deletedKeys.values()))):e.all||(o=new t.KeySetImpl(new Set(e.keys.values()))),o};e.isEmpty=e=>!e.all&&0===e.keys.size;e.getFirstKey=(e,t)=>{if(!1===e.all&&e.keys.size>0){const[t]=e.keys;return t}return t.length>0?t[0]:null};e.isEqual=(e,t)=>{if(e===t)return!0;if(e.keys.all!==t.keys.all)return!1;const o=!0===e.keys.all?Array.from(e.keys.deletedKeys.values()):Array.from(e.keys.keys.values()),l=!0===t.keys.all?Array.from(t.keys.deletedKeys.values()):Array.from(t.keys.keys.values());if(o.length!==l.length)return!1;for(let e=0;e<o.length;e++)if(o[e]!==l[e])return!1;return!0}})),define("oj-c/hooks/PRIVATE_useSelectionContext/SelectionContext",["require","exports","preact"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionContext=void 0,e.SelectionContext=(0,t.createContext)(void 0)})),define("oj-c/hooks/PRIVATE_useSelectionContext/useSelectionContext",["require","exports","preact/hooks","./SelectionContext"],(function(require,e,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useSelectionContext=function(){return(0,t.useContext)(o.SelectionContext)}})),define("oj-c/hooks/PRIVATE_useSelectionContext/ItemKeyContext",["require","exports","preact"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ItemKeyContext=void 0,e.ItemKeyContext=(0,t.createContext)(void 0)})),define("oj-c/hooks/PRIVATE_useSelectionContext/useItemKeyContext",["require","exports","preact/hooks","./ItemKeyContext"],(function(require,e,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useItemKeyContext=function(){return(0,t.useContext)(o.ItemKeyContext)}})),define("oj-c/selector/selector",["require","exports","preact/jsx-runtime","@oracle/oraclejet-preact/translationBundle","@oracle/oraclejet-preact/UNSAFE_Selector","preact/hooks","ojs/ojvcomponent","../utils/PRIVATE_keyUtils/keySetUtils","@oracle/oraclejet-preact/hooks/UNSAFE_useCollectionInteractionContext","@oracle/oraclejet-preact/hooks/UNSAFE_useTabbableMode","../hooks/PRIVATE_useSelectionContext/useSelectionContext","../hooks/PRIVATE_useSelectionContext/SelectionContext","../hooks/PRIVATE_useSelectionContext/useItemKeyContext","../hooks/PRIVATE_useSelectionContext/ItemKeyContext"],(function(require,e,t,o,l,n,s,r,i,c,u,a,y,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selector=void 0;const S=(0,s.registerCustomElement)("oj-c-selector",(({rowKey:e,selectedKeys:o,indeterminate:i=!1,selectionMode:c,onSelectedKeysChanged:a,...d})=>{const S=(0,y.useItemKeyContext)();void 0!==S&&(e=S);const x=(0,u.useSelectionContext)();let C,k=o,f=c;return x&&(x.selected&&(k=x.selected),"none"!==x.selectionMode&&(f=x.selectionMode),C=x.onSelectedChange),(0,n.useLayoutEffect)((()=>{a&&o&&x&&x.selected&&!(0,r.isEqual)(x.selected,o)&&a(x.selected)}),[a,x,o]),(0,t.jsx)(s.Root,{children:(0,t.jsx)(l.Selector,{isPartial:i,rowKey:e,selectedKeys:(0,r.keySetToKeys)(k),selectionMode:null==f?"multiple":f,"aria-label":d["aria-label"],onChange:(0,n.useCallback)((e=>{const t=(0,r.keysToKeySet)(e.value);C?.(t),a?.(t)}),[C,a])},e)})}),"Selector",{properties:{rowKey:{type:"string|number"},selectedKeys:{type:"object",writeback:!0},indeterminate:{type:"boolean"},selectionMode:{type:"string",enumValues:["multiple","single"]}},extension:{_WRITEBACK_PROPS:["selectedKeys"],_READ_ONLY_PROPS:[],_OBSERVED_GLOBAL_PROPS:["aria-label","aria-labelledby","aria-describedby"]}},{indeterminate:!1},{"@oracle/oraclejet-preact":o.default},{consume:[i.CollectionInteractionContext,c.TabbableModeContext,a.SelectionContext,d.ItemKeyContext]});e.Selector=S})),define("oj-c/selector",["require","exports","oj-c/selector/selector"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selector=void 0,Object.defineProperty(e,"Selector",{enumerable:!0,get:function(){return t.Selector}})}));
//# sourceMappingURL=selector.js.map