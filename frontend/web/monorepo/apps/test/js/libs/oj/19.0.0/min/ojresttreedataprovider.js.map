{"version":3,"names":["define","exports","ojeventtarget","ojrestdataprovider","ojdataprovider","ojSet","ojMap","Object","prototype","hasOwnProperty","call","RESTTreeDataProvider","constructor","options","_a","this","TreeAsyncIterator","_rootDataProvider","_baseIterable","currentRestTreeDataProvider","_shouldKeyPath","_shouldStringify","async","result","Symbol","asyncIterator","next","i","value","data","length","tempKey","metadata","key","createKeyPath","JSON","stringify","_setMapEntry","TreeAsyncIterable","_asyncIterator","baseDPOptions","enforceKeyStringify","_baseDataProvider","RESTDataProvider","_mapKeyToItem","_getRootDataProvider","useKeyPaths","_getParentPath","rootDataProvider","for","fetchFirst","fetchParameters","baseIterable","isKeyPathDescendant","keyPath","parentKeyPath","parameters","unCachedKeys","Set","results","Map","shouldKeyPath","keys","forEach","currentKey","item","_getItemFromKey","set","parse","add","size","findResults","findKeys","slice","fetchByKeysResults","get","lastKey","updatedItem","fetchByKeys","currentKeyPath","originalKeyPath","params","dataProvider","convertedFetchParameters","firstKey","shift","childDataProvider","getChildDataProvider","newFetchParameters","indexOfKey","indexOf","fetchByOffsetResult","fetchByOffset","newOffsetResults","push","containsParameters","containsResults","containsKeys","has","createOptimizedKeySet","initialSet","createOptimizedKeyMap","initialMap","isEmpty","getCapability","capabilityName","structure","getTotalSize","refresh","_flushMaps","dispatchEvent","DataProviderRefreshEvent","mutate","detail","_addMetadataToMutationEventDetail","remove","_updateMapFromMutationDetail","update","DataProviderMutationEvent","dataprovider","treeDataProvider","DataProviderFeatureChecker","isTreeDataProvider","TreeDataProviderWrapper","currentValue","_deleteMapEntry","delete","clear","operation","Array","isArray","_key","addEventListener","event","listener","removeEventListener","EventTargetMixin","applyMixin","defineProperty"],"sources":["../debug/ojresttreedataprovider.js"],"mappings":"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"}