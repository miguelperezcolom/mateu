{"version":3,"file":"layoutUtils-641af87a.js","sources":["../../src/utils/PRIVATE_visLayoutUtils/layoutUtils.ts"],"sourcesContent":["import { DATATIP_OFFSET } from '#utils/UNSAFE_visUtils/datatipUtils';\n\nexport type Rect = {\n  x: number;\n  y: number;\n  w: number;\n  h: number;\n};\n/**\n * Returns true if the rectangle intersectes the supplied rectangle.\n * @param {Rectangle}  rect  the supplied rectangle.\n */\nexport function intersects(currRect: Rect, rect: Rect) {\n  if (rect && rect.w !== 0 && rect.h !== 0) {\n    // ignore zero size rect's\n    if (currRect.w !== 0 && currRect.h !== 0) {\n      const thisRight = currRect.x + currRect.w; // this right\n      const thisBottom = currRect.y + currRect.h; // this bottom\n      const rectRight = rect.x + rect.w; // rect right\n      const rectBottom = rect.y + rect.h; // rect bottom\n\n      return !(\n        rect.x > thisRight ||\n        rectRight < currRect.x ||\n        rect.y > thisBottom ||\n        rectBottom < currRect.y\n      );\n    }\n  }\n  return false;\n}\n\n/**\n * Returns the union of this and the supplied rectangle.\n * @param {Rectangle}  rect  the supplied rectangle.\n * @return {Rectangle} a new rectangle that is the union of this and the supplied rectangle.\n */\nexport function getUnion(currRect: Rect, rect: Rect) {\n  const u: any = {};\n\n  if (rect && rect.w !== 0 && rect.h !== 0) {\n    // ignore zero size rect's\n    if (currRect.w !== 0 && currRect.h !== 0) {\n      //  ..     ..   ..    ..\n      const thisRight = currRect.x + currRect.w; // this right\n      const thisBottom = currRect.y + currRect.h; // this bottom\n      const rectRight = rect.x + rect.w; // rect right\n      const rectBottom = rect.y + rect.h; // rect bottom\n\n      const minx = Math.min(currRect.x, rect.x);\n      const miny = Math.min(currRect.y, rect.y);\n\n      u.w = thisRight < rectRight ? rectRight - minx : thisRight - minx;\n      u.h = thisBottom > rectBottom ? thisBottom - miny : rectBottom - miny;\n      u.x = minx;\n      u.y = miny;\n    } else {\n      u.x = rect.x;\n      u.y = rect.y;\n      u.w = rect.w;\n      u.h = rect.h;\n    }\n  } else {\n    u.x = currRect.x;\n    u.y = currRect.y;\n    u.w = currRect.w;\n    u.h = currRect.h;\n  }\n  return u;\n}\n\n/**\n * Gererates randomId used for aria-activedescendant.\n * @returns\n */\nexport function getRandomId() {\n  return `_${Math.random().toString(36).slice(2)}`; //@RandomNumberOK\n}\n\nexport const calculateOffset = (\n  isRtl: boolean,\n  width: number,\n  bounds?: {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n  },\n  isBottomStart?: boolean,\n  height?: number\n) => {\n  if (!bounds) {\n    return { mainAxis: DATATIP_OFFSET, crossAxis: DATATIP_OFFSET };\n  }\n  const center = {\n    x: bounds.x + bounds.width / 2,\n    y: bounds.y + bounds.height / 2\n  };\n  return {\n    mainAxis:\n      (isBottomStart ? 1 : -1) * center.y + DATATIP_OFFSET + (isBottomStart ? -1 * height! : 0),\n    crossAxis: isRtl ? width - center.x : center.x\n  };\n};\n"],"names":["isRtl","width","bounds","isBottomStart","height","mainAxis","DATATIP_OFFSET","crossAxis","center","x","y","Math","random","toString","slice","currRect","rect","u","w","h","thisRight","thisBottom","rectRight","rectBottom","minx","min","miny"],"mappings":"2FA+E+B,CAC7BA,EACAC,EACAC,EAMAC,EACAC,KAEA,IAAKF,EACH,MAAO,CAAEG,SAAUC,EAAAA,eAAgBC,UAAWD,EAAcA,gBAE9D,MAAME,EAAS,CACbC,EAAGP,EAAOO,EAAIP,EAAOD,MAAQ,EAC7BS,EAAGR,EAAOQ,EAAIR,EAAOE,OAAS,GAEhC,MAAO,CACLC,UACGF,EAAgB,GAAK,GAAKK,EAAOE,EAAIJ,EAAAA,gBAAkBH,GAAiB,EAAIC,EAAU,GACzFG,UAAWP,EAAQC,EAAQO,EAAOC,EAAID,EAAOC,EAC9C,2BA1BD,MAAO,IAAIE,KAAKC,SAASC,SAAS,IAAIC,MAAM,IAC9C,aAxCgB,SAASC,EAAgBC,GACvC,MAAMC,EAAS,CAAA,EAEf,GAAID,GAAmB,IAAXA,EAAKE,GAAsB,IAAXF,EAAKG,EAE/B,GAAmB,IAAfJ,EAASG,GAA0B,IAAfH,EAASI,EAAS,CAExC,MAAMC,EAAYL,EAASN,EAAIM,EAASG,EAClCG,EAAaN,EAASL,EAAIK,EAASI,EACnCG,EAAYN,EAAKP,EAAIO,EAAKE,EAC1BK,EAAaP,EAAKN,EAAIM,EAAKG,EAE3BK,EAAOb,KAAKc,IAAIV,EAASN,EAAGO,EAAKP,GACjCiB,EAAOf,KAAKc,IAAIV,EAASL,EAAGM,EAAKN,GAEvCO,EAAEC,EAAIE,EAAYE,EAAYA,EAAYE,EAAOJ,EAAYI,EAC7DP,EAAEE,EAAIE,EAAaE,EAAaF,EAAaK,EAAOH,EAAaG,EACjET,EAAER,EAAIe,EACNP,EAAEP,EAAIgB,CACP,MACCT,EAAER,EAAIO,EAAKP,EACXQ,EAAEP,EAAIM,EAAKN,EACXO,EAAEC,EAAIF,EAAKE,EACXD,EAAEE,EAAIH,EAAKG,OAGbF,EAAER,EAAIM,EAASN,EACfQ,EAAEP,EAAIK,EAASL,EACfO,EAAEC,EAAIH,EAASG,EACfD,EAAEE,EAAIJ,EAASI,EAEjB,OAAOF,CACT,eAzDgB,SAAWF,EAAgBC,GACzC,GAAIA,GAAmB,IAAXA,EAAKE,GAAsB,IAAXF,EAAKG,GAEZ,IAAfJ,EAASG,GAA0B,IAAfH,EAASI,EAAS,CACxC,MAAMC,EAAYL,EAASN,EAAIM,EAASG,EAClCG,EAAaN,EAASL,EAAIK,EAASI,EACnCG,EAAYN,EAAKP,EAAIO,EAAKE,EAC1BK,EAAaP,EAAKN,EAAIM,EAAKG,EAEjC,QACEH,EAAKP,EAAIW,GACTE,EAAYP,EAASN,GACrBO,EAAKN,EAAIW,GACTE,EAAaR,EAASL,EAEzB,CAEH,OAAO,CACT"}