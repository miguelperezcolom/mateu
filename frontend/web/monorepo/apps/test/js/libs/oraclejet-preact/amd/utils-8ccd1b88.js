define(['exports', './themeContract.css-2e4b066d', './utils-ad4761c9', './getLocale-ae79e654', './stringUtils-4ffd9d59', './labelUtils-a0808e76', './datatipUtils-6846028e', './dimensionUtils-61978138', './utils-cd60c9d4', './scale-2f3251e1'], (function(t,e,i,n,a,r,o,s,l,h){"use strict";function u(t,e,i,n){let a,r,o;if(i)r="top"===t?.position?"top":"bottom",o="bottom"===e?.position?"bottom":"top",a=n?"right":"left";else{a="bottom";r="end"===t?.position?n?"left":"right":n?"right":"left",o="end"===e?.position?n?"right":"left":n?"left":"right"}return{xAxisPosition:a,yAxisPosition:r,y2AxisPosition:o}}function c(t,e,i){return e?"left"===t||i&&"right"===t?"start":"right"===t?"end":"middle":"left"===t?"end":"right"===t?"start":"middle"}function m(t,e,i,n){const{x:a,y:r,width:o,height:s}=t,l=r+s,h=a+o;let u,c;return"left"===e||"right"===e?(u=n?r:l,c=n?l:r):(u=i?h:a,c=i?a:h),[u,c]}function d(t,e,i){const n=Math.max(0,Math.min(1,null!=i?i:.3));return(e?t.height:t.width)*n}function f(t,e,i){if(!i)return 0;const n=i("MW",e),a=r.AXIS_DEFAULTS.labelGap;return Math.floor((.5*n.width+a)/(2*t))}const p={text:"",lines:[],lineProps:[],titleDim:0,dims:{width:0,height:0,x:0,y:0},isTruncated:!1,isRotated:!1};function x(t,e,i,n,a,r,o){if(!t||!o)return p;const h="top"===a||"bottom"===a?n.width:n.height,{lines:u,height:c,width:m,dims:d,lineHeight:f,isTruncated:x}=l.getTextInfo(t,e,h,i,!0,1,o);if(c>i||0===m||0===c)return p;const g="left"===a||"right"===a,M=l.positionMultilineText(u,d,f,a,n,r);return{text:t,dims:s.getSectionDims(n,a,m,c),titleDim:c,isTruncated:x,lines:"left"===a||"top"===a?u:u.reverse(),lineProps:M,isRotated:g}}const g=1e3,M=6e4,v=36e5,b=864e5,y=24192e5,w=31536e6;function S(t,e,i,o,s,l,h,u,c,p,g){const M="top"===e||"bottom"===e,v=d(i,M,u?.size),b={fontSize:c,...u?.titleStyle},y=u?.timeAxisType||"regular",{titleDim:w,...S}=x(u?.title,b,v,i,e,h,p),{width:T,height:k}=S.dims,I=T>0&&k>0;let F=I?w+r.AXIS_DEFAULTS.titleGap:0;I&&("left"===e||"right"===e?(i.width-=F,i.x+="left"===e?F:0):(i.height-=F,i.y+="top"===e?F:0));const[E,W]=m(i,e,h,g),V={fontSize:c,fill:u?.tickLabel?.style?.color,...u?.tickLabel?.style,textAnchor:"middle"},_=e=>function(t,e,i,n,a,r,o,s){let l;if("skipGaps"===s){if(o.length<1)return n;const a=j(e,r,o),s=j(i,r,o);l=(j(t,r,o)-a)/(s-a)}else l=(t-e)/(i-e);return n+l*(a-n)}(e,o,s,E,W,l,t,u?.timeAxisType),C={transform:_,range:()=>[E,W],domain:()=>[o,s],invert:e=>function(t,e,i,n,a,r,o,s){const l=(t-e)/(i-e);if("skipGaps"===s){const t=j(n,r,o);return function(t,e,i){const n=Math.min(Math.max(Math.ceil(t),0),i.length),a=n-1,r=void 0!==i[a]?U(i[a].id):U(i[0].id)-e,o=void 0!==i[n]?U(i[n].id):U(i[i.length-1].id)+e;return r+(t-a)*(o-r)}(t+l*(j(a,r,o)-t),r,o)}return n+l*(a-n)}(e,E,W,o,s,l,t,u?.timeAxisType||"enabled")},R=n.getLocale();let N=u?.step;const Y=r.AXIS_DEFAULTS.labelGap;let z=[];if(null!=N)z=G(o,s,N);else if("mixedFrequency"===y)N=L(s-o),z=G(o,s,N);else{for(let e=0;e<t.length;e++){const i=new Date(t[e].id).getTime();i>=o&&i<=s&&z.push(i)}N=l}const O=Array.isArray(u?.tickLabel?.format)?u?.tickLabel?.format[0]:u?.tickLabel?.format,Z=Array.isArray(u?.tickLabel?.format)?u?.tickLabel?.format[1]:void 0;if("skipGaps"!=y){const t=A(N,s-o);z=function(t,e){let i;const n=new Set;let a=!1,r=t;const o=[],s=t.length;let l=new Date(t[0]);for(let r=1;r<s;r++){const s=new Date(t[r]),h=P(l,s,e);l=s,o.push(h),h<=0||(n.add(h),i?h!==i&&(a=!0):i=h)}if(a){const e=function(t){let e=t[0];for(let i=1;i<t.length;i++)if(e=X(e,t[i]),1===e)return 1;return e}([...n]);r=[],r.push(t[0]);for(let i=1;i<s;i++){const n=t[i];let a=t[i-1];const s=o[i-1];if(s<=e){r.push(n);continue}const l=s/e,h=l-1,u=Math.round((n-a)/l);for(let t=1;t<=h;t++)a+=u,r.push(a);r.push(n),a=n}}return r}(z,t),z.length>1&&(N=(z[z.length-1]-z[0])/(z.length-1));const e=D(new Date(z[0]||o),void 0,!M,!1,R,t,O,Z)[0],i=p?.(e,V);if(i){const t=((M?i.width:i.height)+function(t,e){return e?.79*t:.28*t}(i.height,M))*(z.length-1);t>Math.abs(W-E)&&(N=L(s-o),z=G(o,s,N))}}0===z.length&&(z=[o]);const B=A(N,s-o),q=0!=u?.tickLabel?.isRendered;let H=q,$=q,J=[];const K=Math.abs(W-E)/z.length;if(!1===u?.isRendered)return{defaultLabelFormatter:void 0,title:void 0,titleProps:void 0,titleStyle:{},axisDim:0,scale:C,tickLabels:[],axisStepWidth:K,averageGroupZ:0,tickLabelStyle:{},separators:[],isGroupLabelRendered:()=>!1};if(q){const{labelInfos1:t,labelInfos2:a}=function(t,e,i,a,r){const o=n.getLocale(),s=[],l=[],h=[],u=[];let c,m=!0;for(let n=0;n<t.length;n++){const d=t[n],f=i(d),p=new Date(d),[x,g]=D(p,c,!1,!1,o,e,a,r);null!=x&&(s.push({text:x,coord:f}),l.push(f)),null!=g&&(h.push({label2:g,coord:f}),u.push(f),m=!1),c=p}return{labelInfos1:s,labelInfos2:h,coords1:l,coords2:u,isOneLevel:m}}(z,B,_,O,Z),o=f(K,V,p),s=(e,n)=>{const a=t[n].coord;return a&&e?r.getTickLabelInfo(a,e,n,V,M,!1,!1,!1,1/0,1/0,i,p):{indexAtLevel:n,text:"",dims:{width:0,height:0,x:0,y:0},lines:[],isTruncated:!1,didNotFit:!1,lineProps:[]}},l=(t,e)=>{const n=a[e]?.coord;return n&&t?r.getTickLabelInfo(n,t,e,V,M,!1,!1,!1,1/0,1/0,i,p):{indexAtLevel:e,text:"",dims:{width:0,height:0,x:0,y:0},lines:[],lineProps:[],didNotFit:!1,isTruncated:!1}},{maxWidth:h,maxHeight:u,tickLabels:c}=r.getGroupAxisLabelsInfo(t.map((t=>t.text)),s,M,!1,!1,o);F=M?u+Y:h+Y,H=F<v-k;const{maxWidth:m,maxHeight:d,tickLabels:x}=r.skipLabelsGreedy(a.map((t=>t.label2)),l,M),g=M?F+d+Y:F+m+Y;if($=g<v-k,H){const n=e=>t[e].coord;r.updateLabelsDims(h,u,c,n,i,e),J=J.concat(c),F+=k}if($){const t=t=>a[t].coord;r.updateLabelsDims(m,d,x,t,i,e),J.forEach((t=>{t.lineProps[0]&&(t.lineProps[0].y-=t.lineProps[0].height)})),J=J.concat(x),F=g+k}}return{defaultLabelFormatter:t=>{const e=D(new Date(t),void 0,!1,!1,R,B,O,Z);return a.l(e)},title:I?u?.title:void 0,titleProps:I?S:void 0,titleStyle:b,axisDim:F,scale:C,tickLabels:J,axisStepWidth:K,averageGroupZ:0,tickLabelStyle:V,separators:[],isGroupLabelRendered:()=>!1}}function A(t,e){return t>=w||e>=189216e6?w:t>=y||e>=145152e5?y:t>=b||e>=5184e5?b:t>=v||e>=216e5?v:t>=M||e>=36e4?M:g}function L(t){return t>=189216e6?w:t>=145152e5?y:t>=5184e5?b:t>=b?108e5:t>=216e5?v:t>=v?9e5:t>=18e5?3e5:t>=36e4?M:t>=M?15e3:t>=3e4?5e3:g}function T(t,e,i){if(!i)return"";const n=i(t.getTime());return(e?i?.(e.getTime()):void 0)!==n||null==n?n:""}function D(t,e,i,n,a,r,o,s){let l=null,h=null;return o||s?(o&&(l=T(t,e,o)),s&&(h=T(t,e,s)),[l,h]):(r===w?l=k(t,a,!1,!1,!0):r===y?(null!=e&&e.getMonth()==t.getMonth()||(l=k(t,a,!1,!0,!1)),null!=e&&e.getFullYear()==t.getFullYear()||(h=k(t,a,!1,!1,!0))):r===b?i?l=k(t,a,!0,!0,!0):(null!=e&&e.getDate()==t.getDate()||(l=k(t,a,!0,!1,!1)),null==e||e.getFullYear()!=t.getFullYear()?h=k(t,a,!1,!0,!0):e.getMonth()!=t.getMonth()&&(h=k(t,a,!1,!0,!1))):(r===v?null!=e&&e.getHours()==t.getHours()||(l=I(t,a,!1,!1)):r===M?null!=e&&e.getMinutes()==t.getMinutes()||(l=I(t,a,!0,!1)):null!=e&&e.getSeconds()==t.getSeconds()||(l=I(t,a,!0,!0)),n?null!=e&&e.getDate()==t.getDate()||(h=k(t,a,!0,!0,!1)):null==e||e.getFullYear()!=t.getFullYear()?h=k(t,a,!0,!0,!0):e.getMonth()!=t.getMonth()?h=k(t,a,!0,!0,!1):e.getDate()!=t.getDate()&&(h=k(t,a,!0,!1,!1))),[l,h])}function k(t,e,i,n,a){const r={year:a?"numeric":void 0,month:n?"short":void 0,day:i?"numeric":void 0};return t.toLocaleDateString(e,r)}function I(t,e,i,n){const a={hour:"2-digit",minute:i?"2-digit":void 0,second:n?"2-digit":void 0};return t.toLocaleTimeString(e,a)}function G(t,e,i){const n=new Date(t),a=n.getTimezoneOffset();n.setMonth(0,1),n.setHours(0,0,0,0);let r=n.getTime();const o=[];if(i>=w&&i<=316224e5){for(;r<t;)r=F(r);for(;r<=e;)o.push(r),r=F(r)}else if(i>=y&&i<=26784e5){for(;r<t;)r=E(r);for(;r<=e;)o.push(r),r=E(r)}else{const s=60*(a-n.getTimezoneOffset())*1e3,l=i<y?s:0;for(r+=Math.ceil((t-r-l)/i)*i+l;r<=e;)o.push(r),r+=i}return o}function F(t){const e=new Date(t);return e.setFullYear(e.getFullYear()+1),e.getTime()}function E(t){const e=new Date(t);return e.setMonth(e.getMonth()+1),e.getTime()}function j(t,e,i){let n=i.length;for(let e=0;e<i.length;e++)if(t<=new Date(i[e].id).getTime()){n=e;break}const a=n-1,r=void 0!==i[a]?new Date(i[a].id).getTime():new Date(i[0].id).getTime()-e;return a+(t-r)/((void 0!==i[n]?new Date(i[n].id).getTime():new Date(i[i.length-1].id).getTime()+e)-r)}function U(t){return new Date(t).getTime()}function W(t){if(t)return new Date(t).getTime()}function V(t,e={},i,n,a){let{start:r,end:o}=a;const{viewportMin:s,viewportMax:l,viewportEndGroup:h,viewportStartGroup:u}=e;let c=W(s||u),m=W(l||h);const d=e.timeAxisType;null==r&&(r=c),null==o&&(o=m);const f=function(t,e,i){return i!=e&&t.length>1?(i-e)/(t.length-1):i-e>0?i-e:36e4}(t,r,o),p=r+i*f,x=o+n*f;c=c||p,m=m||x;let g=0,M=Math.max(0,t.length-1);t.forEach(((t,e)=>{const i=new Date(t.id).getTime();i<c&&(g=e),i<m&&(M=e)}));const v=function(t,e,i,n){return"skipGaps"===t?1:"mixedFrequency"===t?Math.min((i-e)/8,n):n}(d,p,x,f);return{viewportMin:c,viewportMax:m,viewportStartGroup:u,viewportEndGroup:h,startIndex:g,endIndex:M,min:p,max:x,step:f,ticks:[],minorTicks:[],minAxisExtent:v}}function P(t,e,i){const n=t.getTimezoneOffset(),a=e.getTimezoneOffset(),r=e.getTime(),o=1e3*(n-a)*60;let s;return o>0&&e.setTime(r+o),s=i===w?e.getFullYear()-t.getFullYear():i===y?12*(e.getFullYear()-t.getFullYear())+(e.getMonth()-t.getMonth()):Math.round((e.getTime()-t.getTime())/i),o>0&&e.setTime(r),s}function X(t,e){return 0===t?e:X(e%t,t)}function _(t,e,i,n,a,r,o,s,l,h){let u=l?.dataMin,c=l?.dataMax,m=h?.dataMin,d=h?.dataMax;const f=function(t,e,i,n,a,r,o,s,l){let h=Number.MAX_VALUE,u=-Number.MAX_VALUE,c=Number.MAX_VALUE,m=-Number.MAX_VALUE,d=Number.MAX_VALUE,f=-Number.MAX_VALUE,p=Number.MAX_VALUE,x=-Number.MAX_VALUE,g=Number.MAX_VALUE,M=-Number.MAX_VALUE,v=!1,b=!1,y=!1;const w=[],S=new Map;for(let A=0;A<e.length;A++){let e=0,L=0;t.forEach(((t,T)=>{const D="y2"===t?.associatedYAxis;v=v||!!D,b=b||!D;const k=a(T,A),I=k&&"widthWeight"in k;y=y||I,I&&w.push(Math.max(0,k?.widthWeight));const G=k&&"value"in k;if(!(!k||G&&null==k.value&&null==k.x&&"y"in k&&null==k.y)&&(S.set(k.id,k),A>=i&&A<=n)){if(null!=k?.id&&s.has(k.id)&&"withRescale"===l||G&&void 0!==k.value&&k.value<=0&&o)return;r?(G&&void 0!==k.value&&(e+=k.value>0?k.value:0,L+=k.value<0?k.value:0),D?(p=Math.min(o?e:L,p),x=Math.max(e,x)):(h=Math.min(o?e:L,h),u=Math.max(e,u))):(G&&void 0!==k.value&&(D?(p=Math.min(p,k.value),x=Math.max(x,k.value)):(h=Math.min(h,k.value),u=Math.max(u,k.value))),"x"in k&&void 0!==k.x&&"y"in k&&void 0!==k.y&&(c=Math.min(c,k.x),m=Math.max(m,k.x),D?(g=Math.min(g,k.y),M=Math.max(M,k.y)):(d=Math.min(d,k.y),f=Math.max(f,k.y))))}}))}return{yDataMin:h,y2DataMin:p,yDataMax:u,y2DataMax:x,xMin:c,xMax:m,yMin:d,y2Min:g,yMax:f,y2Max:M,idToDataMap:S,isY2AxisRendered:v,isYAxisRendered:b,hasWidthWeightValue:y,barWidths:w}}(t,e,n,a,i,r,"log"===l?.scale,o,s);return null==u&&(u=f.yDataMin),null==c&&(c=f.yDataMax),null==m&&(m=f.y2DataMin),null==d&&(d=f.y2DataMax),{yDataMax:c,yDataMin:u,y2DataMax:d,y2DataMin:m,xMin:f.xMin,xMax:f.xMax,yMin:f.yMin,yMax:f.yMax,y2Min:f.y2Min,y2Max:f.y2Max,idToDataMap:f.idToDataMap,isY2AxisRendered:f.isY2AxisRendered,isYAxisRendered:f.isYAxisRendered,hasWidthWeightValue:f.hasWidthWeightValue,barWidths:f.barWidths}}function C(t,e,i,n){let a=t;for(;a<i.length;){if(!!n(e,a))return a;a+=1}return-1}function R(t,e,i){let n=t;for(;n>=0;){if(!!i(e,n))return n;n-=1}return-1}function N(t,e,i,n){const a=t=>U(e[t].id);if(e.length<2)return 0;if(a(0)>t)return Math.min(...i.map(((t,i)=>C(0,i,e,n))));if(a(e.length-1)<t)return Math.max(...i.map(((t,i)=>R(e.length-1,i,n))));const r=function(t,e,i,n){let a=t,r=e;const o=(t,e)=>e-t==1&&n(t)<=i&&i<=n(e);let s=0,l=Math.floor((r-a)/2);for(;!o(a,r);){const t=s?Math.floor(a+l):Math.ceil(r-l);0<=i-n(t)?(a=t,s=s?0:1):r=t,l=Math.floor((r-a)/2)}return i-n(a)<n(r)-i?a:r}(0,e.length-1,t,a),o=Math.max(...i.map(((t,e)=>R(r,e,n))));if(o===r)return o;const s=Math.min(...i.map(((t,i)=>C(r,i,e,n))));return a(s)-t<t-a(o)?s:o}class Y{constructor({scale:t="linear",baselineScaling:e="zero",dataMax:i,dataMin:n,min:a,max:r,viewportMin:o,viewportMax:s,numGroups:l,...h}){this.numGroups=l,this.isLog="log"===t,this.isZeroBaseline=!this.isLog&&"zero"===e,this.setDataRange(n,i),this.setViewportRange(o,s,a,r),this.majorIncrement=this.actualToLinear(h.step),this.minorIncrement=this.actualToLinear(h.minorStep),this.minMajorIncrement=this.actualToLinear(h.minStep),this.majorTickCount=h.majorTickCount,this.calcAxisExtents()}getInfo(){return{min:this.min,max:this.max,viewportMin:this.viewportMin,viewportMax:this.viewportMax,viewportStartGroup:void 0,viewportEndGroup:void 0,startIndex:0,endIndex:this.numGroups-1,ticks:this.getTicks(),minorTicks:this.getMinorTicks(),minAxisExtent:this.getMinExtent(),getScale:this.getScale.bind(this),step:this.majorIncrement}}setDataRange(t,e){this.dataMin=this.actualToLinear(t),this.dataMax=this.actualToLinear(e),this.isZeroBaseline&&(this.dataMin=Math.min(0,this.dataMin),this.dataMax=Math.max(0,this.dataMax))}setViewportRange(t,e,i,n){this.min=this.actualToLinear(i),this.max=this.actualToLinear(n),this.viewportMin=null==t?this.min:this.actualToLinear(t),this.viewportMax=null==e?this.max:this.actualToLinear(e)}setDefaultMin(t){null==this.min&&(this.isZeroBaseline&&this.dataMin>=0?this.min=0:this.isZeroBaseline||null==this.max?this.min=(Math.ceil(this.dataMin/t)-1)*t:this.min=this.max-t*(Math.floor((this.max-this.dataMin)/t)+1),this.dataMin>=0&&!this.isLog&&(this.min=Math.max(this.min,0)))}setDefaultMax(t,e,i){if(null==this.max){if(this.majorTickCount){if(this.max=this.min+this.majorTickCount*t,this.max<this.dataMax){const n=this.calcAxisStep(e,i+t);t=this.minMajorIncrement?Math.max(n,this.minMajorIncrement):n,this.max=this.min+this.majorTickCount*t}}else this.isZeroBaseline&&this.dataMax<=0?this.max=0:this.isZeroBaseline||null==this.min?this.max=(Math.floor(this.dataMax/t)+1)*t:this.max=this.min+t*(Math.floor((this.dataMax-this.min)/t)+1);this.dataMax<=0&&(this.max=Math.min(this.max,0))}}calcAxisExtents(){this.isZeroBaseline&&(this.dataMin=Math.min(0,this.dataMin),this.dataMax=Math.max(0,this.dataMax));const t=null!=this.max?this.max:this.dataMax,e=null!=this.min?this.min:this.dataMin,i=this.calcAxisStep(e,t);let n=this.minMajorIncrement?Math.max(i,this.minMajorIncrement):i;this.dataMin===this.dataMax&&(0===this.dataMin?this.dataMax+=5*n:(this.dataMin-=2*n,this.dataMax+=2*n)),this.setDefaultMin(n),this.setDefaultMax(n,e,t),this.max===this.min&&(this.max=100,this.min=0,n=(this.max-this.min)/10),this.viewportMin===this.min&&this.viewportMax===this.max||null==this.viewportMax||null==this.viewportMin||(n=this.calcAxisStep(this.viewportMin,this.viewportMax)),null==this.viewportMin&&(this.viewportMin=this.min),null==this.viewportMax&&(this.viewportMax=this.max),this.calcMajorMinorSteps(n)}calcMajorMinorSteps(t){null!=this.max&&null!=this.min&&(this.majorIncrement||(this.majorTickCount?this.majorIncrement=(this.viewportMax-this.viewportMin)/this.majorTickCount:this.majorIncrement=this.minMajorIncrement?Math.max(t,this.minMajorIncrement):t),this.majorTickCount||(this.majorTickCount=(this.viewportMax-this.viewportMin)/this.majorIncrement,Math.ceil(this.majorTickCount)-this.majorTickCount<1e-10&&(this.majorTickCount=Math.ceil(this.majorTickCount))),this.minorTickCount||(this.minorIncrement?this.minorTickCount=this.majorIncrement/this.minorIncrement:this.isLog?this.minorTickCount=this.majorIncrement:this.minorTickCount=2),this.minorIncrement||(this.minorIncrement=this.majorIncrement/this.minorTickCount))}calcAxisStep(t,e){if(this.majorIncrement)return this.majorIncrement;const i=e-t;if(0===i)return 0===t?10:Math.pow(10,Math.floor(Math.log10(t))-1);if(this.isLog)return Math.floor(i/8)+1;if(this.majorTickCount){const t=i/this.majorTickCount,e=Math.pow(10,Math.ceil(Math.log10(t)-1));let n=t/e;return n=n>1&&n<=1.5?1.5:n>5?10:Math.ceil(n),n*e}return this.getDefaultAxisStep(i)}getDefaultAxisStep(t){const e=Math.log10(t),i=Math.pow(10,Math.ceil(e)-2),n=Math.round(t/i);let a=1;return a=n>=10&&n<=14?2:n>=15&&n<=19?3:n>=20&&n<=24?4:n>=25&&n<=45?5:n>=46&&n<=80?10:20,a*i}linearToActual(t){return this.isLog?Math.pow(10,t):t}actualToLinear(t){if(null!=t)return this.isLog?Math.log10(t):t}getScale(t){const{viewportMin:e,viewportMax:i}=this.getAxisViewport(),n=[this.linearToActual(e),this.linearToActual(i)];return this.isLog?new h.ScaleLog(n,t):new h.ScaleLinear(n,t)}getFirstTick(){return this.isZeroBaseline?Math.ceil(this.viewportMin/this.majorIncrement)*this.majorIncrement:this.min+Math.ceil((this.viewportMin-this.min)/this.majorIncrement)*this.majorIncrement}getAxisViewport(){return{viewportMin:this.viewportMin,viewportMax:this.viewportMax}}getAxisExtent(){return{min:this.min,max:this.max}}getTicks(){let t=this.getFirstTick();const e=[];for(;t<=this.viewportMax;)e.push(this.linearToActual(t)),t+=this.majorIncrement;return e}getMinorTicks(){const t=[];for(let e=-1;e<=this.majorTickCount;e++){const i=e*this.majorIncrement+this.getFirstTick();if(this.isLog&&1==this.majorIncrement&&1==this.minorIncrement)for(let e=2;e<=9;e++){const n=i+Math.log10(e);if(n>this.max)break;n<this.min||t.push(this.linearToActual(n))}else for(let e=1;e<this.minorTickCount;e++){const n=i+e*this.minorIncrement;if(n>this.max)break;n<this.min||t.push(n)}}return t}getStep(){return this.majorIncrement}getMinExtent(){return(this.max-this.min)/64}}const z=["none","thousand","million","billion","trillion","quadrillion"].map(((t,e)=>({scaleFactor:3*e})));function O(t,e,i,n){const a=function(t,e){const i=Math.max(Math.abs(t),Math.abs(e));return function(t){let e=0;if(t<=z[0].scaleFactor)e=z[0].scaleFactor;else if(t>=z[z.length-1].scaleFactor)e=z[z.length-1].scaleFactor;else{for(let i=z.length-1;i>=0;i--)if(z[i].scaleFactor<=t){e=z[i].scaleFactor;break}}return e}(Z(i))}(t,e),r=function(t,e,i,n){let a;if(0===i&&t===e){const t=n-Z(e);a=t<=0?Math.max(t+3,0):Math.max(t,4)}else{const t=Z(i);a=Math.max(n-t,0)}return a}(t,e,i,a),o=Math.pow(10,a);let s=new Intl.NumberFormat(n,{style:"decimal",notation:"compact",numberingSystem:"latn",useGrouping:!1});const l=s.format(o),h=/(\d+)(.*$)/.exec(l),u={style:"decimal",minimumFractionDigits:r,maximumFractionDigits:r};return s=new Intl.NumberFormat(n,u),t=>{if(!h)return"";const e=h[2],i=Number(h[1])/o*t;let n=i.toString();return n=s.format(i),"string"==typeof e&&0!==t&&(n+=e),n}}function Z(t){let e=t>=0?t:-t,i=0;if(e<1e-15)return 0;if(e===1/0)return Number.MAX_VALUE;if(e>=10)for(;e>=10;)i+=1,e/=10;else if(e<1)for(;e<1;)i-=1,e*=10;return i}function B(t,e,i,n,a,o,s,l,h){const[u,f]=m(e,t,i),p=a.getScale([u,f]);if(!1===o?.isRendered||!1===h)return{title:void 0,titleStyle:{},titleProps:void 0,axisDim:0,tickLabels:[],tickLabelStyle:void 0,scale:p,formatYValue:void 0,groupWidth:0,formatAxisLabel:void 0};const g="top"===t||"bottom"===t,M=d(e,g,o?.size),v={fontSize:s,...o?.titleStyle},{titleDim:b,...y}=x(o?.title,v,M,e,t,i,l),{width:w,height:S}=y.dims,A=w>0&&S>0,L=A?b+r.AXIS_DEFAULTS.titleGap:0;A&&("left"===t||"right"===t?(e.width-=L,e.x+="left"===t?L:0):(e.height-=L,e.y+="top"===t?L:0));const T={fontSize:s,fill:o?.tickLabel?.style?.color,...o?.tickLabel?.style,textAnchor:c(t,i)},D=a.ticks,k=O(D[0],D[D.length-1],a.step,n);let I=0!=o?.tickLabel?.isRendered;const G=I?D.map((t=>{if(o?.tickLabel?.format)return o.tickLabel.format(t);if("log"===o?.scale){return O(t,t,t,n)(t)}return k(t)})):[],F=M-L-r.AXIS_DEFAULTS.labelGap,{maxWidth:E,maxHeight:j,tickLabels:U}=r.getDataAxisLabelsInfo(G,((t,i,n)=>{const a=p.transform(D[i]);return r.getTickLabelInfo(a,t,i,T,g,!1,!1,!1,g?F:M-L,g?M-L:F,e,l)}),g);I=I&&g?j+r.AXIS_DEFAULTS.labelGap<M-L:E+r.AXIS_DEFAULTS.labelGap<M-L;const W=t=>p.transform(D[t]);let V=0;I&&(r.updateLabelsDims(E,j,U,W,e,t),V=g?j+r.AXIS_DEFAULTS.labelGap:E+r.AXIS_DEFAULTS.labelGap);return{title:A?o?.title:void 0,titleStyle:v,titleProps:A?y:void 0,axisDim:A?V+L:V,tickLabels:I?U:[],tickLabelStyle:T,scale:p,defaultLabelFormatter:t=>{if("log"===o?.scale){return O(t,t,t,n)(t)}return k(t)},axisStepWidth:0,averageGroupZ:0,separators:[],isGroupLabelRendered:()=>!1}}function q(t,e,i){return t?.37+.26/(i-e+1):.25}function H(t,e,i,n,a){const r=function(t,e,i,n){const a=t(e,i);return null==a||"object"!=typeof a?n:null!=a.widthWeight?Math.max(0,a.widthWeight):n}(a,t,e,1);return r/n*i}function $(t,e,i,n,a,r,o,s){const l=t[e].length,h=r.transform(i);for(let i=0;i<l;i++){const l=tt(e,i,n,a,t,r);if((!o||!s)&&l>=h||o&&l<=h)return i}return l}function J(t,e,i,n,a,r,o,s){const l=t[e].length,h=r.transform(i);for(let i=l-1;i>=0;i--){const l=tt(e,i,n,a,t,r);if((!o||!s)&&l<=h||o&&l>=h)return i}return 0}function K(t,e,i){return null==i&&(i=t.length-1),t[i][e].start}function Q(t,e,i){return null==i&&(i=t.length-1),t[i][e].end}function tt(t,e,i,n,a,r){let o=K(a,e,t),s=Q(a,e,t);o<i&&s>i&&(o=i),s>n&&o<n&&(s=n);const l=s?o+(s-o)/2:o;return r.transform(l)}function et(t,e,i){const n=i.length;if(null==e&&(e=n-1),(t=Math.round(t))<0)return"";const a=i[e]&&i[e][t]?i[e][t].item:null;let r="";return a&&(a.name?r=a.name:null!=a.id&&(r="")),r}function it(t,e,i,n,a){for(let r=0;r<t.length;r++){i[e]||(i[e]=[]);const o=a.slice();if(o.push(r),i[e].push({item:t[r],start:n,end:n,position:r,path:o}),!t[r]||!t[r].groups){n++;continue}const s=i[e].length-1,l=it(t[r].groups,e+1,i,i[e][s].start,o);n!=l?(i[e][s].end=l-1,n=l):n++}return n}function nt(t){const e=[];return{getGroupFromPath:e=>{let i=t;const n=[];return e.forEach((t=>{if(!i)return;const e=i[t];i=e.groups,n.push(e.name||e.id)})),n},groupCount:it(t,0,e,0,[]),levelsArray:e}}function at(t,e,i,n,a,o,s,l,u,p,g,M,v,b,y,w,S,A,L,T){const[D,k]=m(e,t,i),I=p?[a,n]:[n,a],G=q(b,l,u),{groupWidths:F,averageGroupZ:E}=function(t,e,i){let n,a,r;return 0===t.length?(n=i,a=n*e/(1-e),r=null):(n=t?.reduce(((t,e)=>t+e),0),a=n*e/(1-e),r=t.map((t=>t+a/i))),{groupWidths:r,averageGroupZ:(n+a)/i}}(v,G,L),j=T?new h.VariableWidthScale(I,[D,k],F,L):new h.ScaleLinear(I,[D,k]),U=Math.abs(k-D)/(a-n);if(!1===y?.isRendered)return{title:void 0,titleProps:void 0,titleStyle:{},tickLabels:[],tickLabelStyle:{},axisDim:0,scale:j,defaultLabelFormatter:void 0,separators:[],isGroupLabelRendered:()=>!1,axisStepWidth:U,averageGroupZ:E};const W=y?.groupSeparators,V="top"===t||"bottom"===t,P=d(e,V,y?.size),X={fontSize:w,...y?.titleStyle},{titleDim:_,...C}=x(y?.title,X,P,e,t,i,S),{width:R,height:N}=C.dims,Y=R>0&&N>0,z=Y?_+r.AXIS_DEFAULTS.titleGap:0;Y&&("left"===t||"right"===t?(e.width-=z,e.x+="left"===t?z:0):(e.height-=z,e.y+="top"===t?z:0));const O={fontSize:w,fill:y?.tickLabel?.style?.color,...y?.tickLabel?.style,textAnchor:c(t,i,!0)},Z=0!=y?.tickLabel?.isRendered,B=[];let H,it=0;const nt=new Map;for(let h=0;h<g.length;h++){const c=$(g,h,n,o,s,j,i,V),m=J(g,h,a,o,s,j,i,V),d=g[h].slice(c,m+1).map((({item:t})=>t.name||t.id)),p=f(U,O,S),x=P-z-r.AXIS_DEFAULTS.labelGap,M="nowrap"!=O.whiteSpace,v=(t,i,n,a,o)=>{const s=tt(h,i+c,l,u,g,j);return r.getTickLabelInfo(s,t,i+c,O,V,n,o,a,V?U:x,V?x:U,e,S)},b=0!=y?.tickLabel?.autoRotate,w=r.getGroupAxisLabelsInfo(d,v,V,b,M,p);nt.set(h,w);const{maxWidth:L,maxHeight:T,tickLabels:D}=w,k=V?T+r.AXIS_DEFAULTS.labelGap<P-z:L+r.AXIS_DEFAULTS.labelGap<P-z;k&&(H=h);const I=t=>tt(h,t,o,s,g,j);if(Z&&k){r.updateLabelsDims(L,T,D,I,e,t);const i=V?T+r.AXIS_DEFAULTS.labelGap:L+r.AXIS_DEFAULTS.labelGap;it+=i,D.forEach((t=>{t.dataProps={"data-oj-private-object":"group","data-oj-private-level-index":h.toString(),"data-oj-private-group-index":t.index.toString(),"data-oj-private-text":t.isTruncated?t.text:void 0,"data-oj-private-group-id":A?g[h][t.index].item.id:void 0}})),"left"===t?(e.x+=i,e.width-=i):"right"===t&&(e.width-=i),e.height-=i}B.push(...D)}const at=Y?it+z:it;if("right"===t&&null!=H){let t=0;for(let i=0;i<H+1;i+=1){const{maxWidth:n,tickLabels:a}=nt.get(i),o=t=>tt(i,t,l,u,g,j);a.forEach((i=>{i.lines.forEach(((n,a)=>{const r=i.lineProps[a],s=e.x+e.width+it-t,l=o(i.index);r.x=s,r.y=l}));const n=i.dims,a=e.x+e.width+it-t,r=o(i.index);n.x=a,n.y=r})),t+=n+r.AXIS_DEFAULTS.labelGap}}let rt=[];if(0!=W?.isRendered){const t=function(t,e){if(!t)return 0;let i=t;for(let n=t-1;n>=0;n--){const t=e.get(n);t&&t.numOfSkips>0&&(i=n)}return i}(H,nt);rt=function(t,e,i,n,a,r,o){let s,l,h,u,c,m,d=0;const f=[],p=.5;for(let x=e;x>=0;x--){const g=i.get(x);if(!g)continue;const{maxWidth:M,maxHeight:v,tickLabels:b,isRotated:y}=g,w=n?v:M;if(0==w){d=w;continue}let S=!1,A=null;if(x<e)for(let e=0;e<b.length;e++){const i=b[e];if(null==i)continue;const g=i.index,M=0===et(g,x,t).length;if(M)continue;let v=i&&null==b[g-1];const L=i&&null==b[g+1],T=K(t,g,x),D=Q(t,g,x);if(n){const t=i.dims.y;s=a.transform(T-(v?r:p)),l=t-w/2-.5*d-6,h=a.transform(D+(L?r:p)),u=y?t+w/2:t,0==S&&null!=s&&f.push([s,u,s,l]),null!=h&&f.push([h,u,h,l]);let e=0;if(i&&(e=y?i.dims?.height:i.dims?.width),s=a.transform(T-(v?r:p)),h=a.transform(D+(L?r:p)),c=i?o?i.dims.x+.5*e:i.dims.x-.5*e:a.transform(D+p),m=i?o?i.dims.x-.5*e:i.dims.x+.5*e:a.transform(T-p),y)f.push([s,u,h,u]);else{const t=o?.5*-i.dims.height:.5*i.dims.height,e=o?m+t>h:m+t<h;(o?s>c-t:s<c-t)&&f.push([s,u,c-t,u]),e&&f.push([m+t,u,h,u])}}else s=o?i.dims.x-w-3:i.dims.x+3,l=a.transform(T-(v?r:p)),h=o?i.dims.x+3:i.dims.x-w-3,u=a.transform(D+(L?r:p)),(!M&&0==S||0==g&&M&&0!=x)&&null!=l&&f.push([s,l,h,l]),null!=u&&f.push([h,u,s,u]),l=v&&0==A?0:a.transform(T-(v?r:p)),v&&(v=!1),u=a.transform(D+(L?r:p)),f.push([h,l,h,u]);S=!M&&null!=i,A=null!=i||null==i&&M}d=w}return f}(g,t,nt,V,j,M,i)}return{title:Y?y?.title:void 0,titleProps:Y?C:void 0,titleStyle:X,tickLabels:Z?B.filter(Boolean):[],tickLabelStyle:O,axisDim:at,scale:j,defaultLabelFormatter:void 0,separators:rt,isGroupLabelRendered:(t,e)=>{const i=nt.get(t)?.tickLabels[e]?.dims,n=nt.get(t)?.tickLabels[e]?.text;return!(0==i?.width||0==i?.height||!n)},axisStepWidth:U,averageGroupZ:E}}function rt(t,e,i,n,a,r,o){const s="left"===i,l="left"===n,h="bottom"===i,u="bottom"===n;let c,m,d,f;return"bottom"===e||"top"===e?(c=st(t,e,s?r:l?o:0,l&&!s?r:s&&!l?o:0,a),m=ot(t,i,"bottom"===e?a:0,"top"===e?a:0,r),d=ot(t,n,"bottom"===e?a:0,"top"===e?a:0,o),f={x:c.x,y:m.y,width:c.width,height:m.height}):(c=ot(t,e,h?r:u?o:0,u&&!h?r:h&&!u?o:0,a),m=st(t,i,"left"===e?a:0,"left"===e?0:a,r),d=st(t,n,"left"===e?a:0,"left"===e?0:a,o),f={x:m.x,y:c.y,width:m.width,height:c.height}),{xSpace:c,ySpace:m,y2Space:d,plotAreaSpace:f}}function ot(t,e,i,n,a){return{x:"left"===e?t.x:t.x+t.width-a,width:a,y:t.y+n,height:t.height-i-n}}function st(t,e,i,n,a){return{x:t.x+i,width:t.width-i-n,y:"top"===e?t.y:t.y+t.height-a,height:a}}function lt(t,e){return{width:10*Math.min(t/400,1),height:8*Math.min(e/300,1)}}function ht(t,e,i,n,a){return a?"mixedFrequency"===a?i.transform(new Date(n.x).getTime()):i.transform(new Date(t.id).getTime()):i.transform(e)}function ut(t,e,i,n){n?t.push(Math.round(10*i)/10,Math.round(10*e)/10):t.push(Math.round(10*e)/10,Math.round(10*i)/10)}t.findNearestDataPoint=function(t,e,i,n,a,r,o,s,l,h,u,c,m){return(d,f,p)=>{let x=[],g=Math.round(d),M=i.transform(g);const v="mixedFrequency"===c;"enabled"!==c&&"skipGaps"!==c||(g=N(d,e,t,a),M=i.transform(U(e[g].id))),x=t.map(((t,e)=>({groupIndex:g,seriesIndex:e}))),v&&(x=function(t,e,i,n){return e.map(((e,a)=>{let r=Number.MAX_VALUE,o=0;for(let e=0;e<i.length;e++){const i=n(a,e)?.x;if(!i)continue;const s=U(i),l=Math.abs(t-s);l<r&&(r=l,o=e)}return{seriesIndex:a,groupIndex:o}}))}(d,t,e,a));let b,y=0,w=0,S=0,A=0,L=Number.MAX_VALUE,T=Number.MAX_VALUE,D=0,k=M;x.forEach((({seriesIndex:e,groupIndex:c})=>{const x="y2"===t[e].associatedYAxis,I=a(e,c);if(!I||u?.has(I.id)||null==I.value||l&&I.value<=0)return;let G=0,F=0;if(v)G=Math.abs(i.transform(U(I?.x))-i.transform(d)),F=x?Math.abs(m.transform(I.value)-m.transform(p)):Math.abs(n.transform(I.value)-n.transform(f));else if(r){const t=x?(I.value<0?A:S)+I.value/2:(I.value<0?w:y)+I.value/2;G=x?Math.abs(m.transform(p)-m.transform(t)):Math.abs(n.transform(f)-n.transform(t))}else{const{offset:t,dataWidth:a}=o(e,c),r=t+M+a/2;0===a?G=x?Math.abs(m.transform(I.value)-m.transform(p)):Math.abs(n.transform(I.value)-n.transform(f)):(G=Math.abs(i.transform(d)-r),G<L&&(k=r))}G<L?(L=G,D=e,g=c,b=s(I.value,x?m:n,r,l,h,x?A:w,x?S:y),v&&(T=F)):G===L&&v&&F<T&&(L=G,D=e,g=c,T=F,b=s(I.value,x?m:n,r,l,h,x?A:w,x?S:y)),r&&(x?(S+=I.value>0?I.value:0,A+=I.value<0?I.value:0):(y+=I.value>0?I.value:0,w+=I.value<0?I.value:0))}));const I=a(D,g)?.id;if(null==I||u?.has(I))return;const G="y2"===t[D].associatedYAxis;return{seriesIndex:D,groupIndex:g,y:G?void 0:b,y2:G?b:void 0,x:v?i.transform(U(a(D,g)?.x)):r?M:k}}},t.findSeriesGroupIndexFromId=(t,e,i,n)=>{const a=i[i.length-1];for(let i=0;i<t.length;i++)for(let t=0;t<a.length;t++){const r=n&&n(i,t,a[t].path);if(r&&r.id===e)return{seriesIndex:i,groupIndex:t}}return{seriesIndex:0,groupIndex:0}},t.getAvailSpace=function(t,e,i=!0){const n=lt(t,e);return i||(n.width=Math.min(1,n.width),n.height=Math.min(1,n.height)),{width:t-2*n.width,height:e-2*n.height,x:n.width,y:n.height}},t.getAxesPosition=u,t.getBarGapRatio=q,t.getBarGapsInfo=function(t,e,i,n,a,r,o,s,l,h,u,c,m){const d="y2"===i.associatedYAxis,f=u?1:d?l:s,p=2*h,x=r(t,e),g=void 0!==x?.widthWeight,M=g?H(t,e,n,a,r):(n*(1-o)-(f-1)*p)/f;if(u)return{barWidth:M,offset:-1*M/2,itemsGaps:p};const v=function(t,e,i,n,a,r,o,s,l,h,u,c){let m=0;const d=[];if(c){for(let t=0;t<o;t++)d[t]=m,m+=H(t,e,a,n,i);for(const t in d)d[t]-=m/2;return d[t]}return h&&!u?l-s-r:s-l}(t,e,r,a,n,M,f,n*(o/2)+t*(M+2*h),n/2,c,m,g);return{barWidth:M,offset:v,itemsGaps:p}},t.getCmdPoints=function(t,e,i,n,a,r,o){const s=[];let l=[];s.push(l);const h="centeredStepped"==e||"centeredSegmented"==e,u=h||"stepped"==e||"segmented"==e,c=n&&!i?-1:1;let m,d,f,p,x;for(let n=0;n<t.length;n++)null!=t[n]?(m=t[n],d=h?m[0]-a/2*c:m[0],f=m[1],p&&u&&ut(l,d,p[1],i),o||"segmented"!==e&&"centeredSegmented"!==e||(l=[],s.push(l)),ut(l,d,f,i),p=m):("mixedFrequency"!==r&&u&&p&&(x=h?p[0]+.5*a*c:p[0]+a*c,ut(l,x,p[1],i)),l=[],s.push(l),p=null);return u&&p&&(x=h?p[0]+.5*a*c:p[0]+a*c,ut(l,x,p[1],i)),s.join(" ")},t.getCumulativeSeries=function(t,e,i,n,a){const r=Array(t).fill(e).map((()=>new Array(e)));for(let o=0;o<e;o+=1){let e;for(let s=0;s<t;s+=1){const t=i(s,o);if(!t||n?.has(t.id)||a&&void 0!==t.value&&t.value<=0)r[s][o]=void 0;else if(s>0&&null!=e){const i=r[s-1][o];r[s][o]=null!=i?i+t.value:e+t.value}else r[s][o]=t.value,e=t.value}}return r},t.getGroupCenterCoord=ht,t.getLabelPosition=function(t,e,i,n){return"aboveMarker"===t?i-=15:"belowMarker"===t?i+=15:"afterMarker"===t?e=e+n?.width/2+15:"beforeMarker"===t&&(e=e-n?.width/2-15),{x:e,y:i}},t.getLayoutInfo=function(t,e,i,n,a,r,o,l,h,c,m,d,f,p,x,g,M,v,b,y){const w=null!=n?.timeAxisType,{xAxisPosition:A,yAxisPosition:L,y2AxisPosition:T}=u(a,r,c,m);let D,k;!function(t,e,i,n,a,r,o,s,l){const{yAxisPosition:h,y2AxisPosition:c}=u(r,o,e,i),m=!(0==s?.isRendered),d=!(0==r?.isRendered),f=n&&!(0==o?.isRendered);let p=6;const x={fontSize:a,...s?.tickLabel?.style},g={fontSize:a,...r?.tickLabel?.style},M={fontSize:a,...o?.tickLabel?.style};p*=e?(l?.("MW",x)?.height||0)/14:Math.max(l?.("MW",g)?.height||0,l?.("MW",M)?.height||0)/14;p=Math.ceil(p),(!e||"top"==h&&d||"top"==c&&f)&&e||(t.y+=p,t.height-=p);(!e||"bottom"==h&&d||"bottom"==c&&f)&&(e||m)||(t.height-=p);e&&(("bottom"===h||"top"===h)&&d||("bottom"===c||"top"===c)&&f)&&(t.width-=p)}(o,c,m,t.some((t=>"y2"===t.associatedYAxis)),f,a,r,n,v);const{levelsArray:I,getGroupFromPath:G,groupCount:F}=nt(e),E=I.length>0?I[I.length-1].map((t=>t.item)):[],{startOffset:j,endOffset:U}=p(F),P=(t,e)=>i(t,e,I[I.length-1]?.[e]?.path);if(y)k=_(t,E,P,0,E.length-1,d,l,h,n),D=new Y({...n,dataMin:k.xMin,dataMax:k.xMax,numGroups:E.length}).getInfo();else{if(w){const e=function(t,e,i,n){const a={start:Number.MAX_VALUE,end:-Number.MAX_VALUE},r=t.length;return"mixedFrequency"!=n.timeAxisType&&r>0?(a.start=W(t[0].id),a.end=W(t[r-1].id)):e.forEach(((e,n)=>{t.forEach(((t,e)=>{const r=i(n,e)?.x;if("number"==typeof r)return;const o=W(r);o&&(a.start=Math.min(a.start,o),a.end=Math.max(a.end,o))}))})),a.start===Number.MAX_VALUE&&a.end===-Number.MAX_VALUE&&(a.start=void 0,a.end=void 0),a}(E,t,P,n);D=V(E,n,j,U,e)}else D=function(t,e={},i,n){let{viewportMin:a,viewportMax:r,viewportEndGroup:o,viewportStartGroup:s}=e;const l=t.length;if(null!=a){const e=Math.max(0,Math.ceil(a));s=t[isNaN(e)?0:e].id}if(null!=s&&null==a&&(a=t.findIndex((t=>t.id===s))),null==a&&(a=i,s=t[0]?.id),null!=r){const e=Math.min(l,Math.floor(r));o=t[e<0?0:e].id}null!=o&&null==r&&(r=t.findIndex((t=>t.id===o))),null==r&&(r=l-1+n,o=t[Math.floor(r)]?.id);const h=function(t,e){const i=[];for(let n=t;n<=e;n++)i.push(n);return i}(0,t.length-1);return{min:i,max:t.length-1+n,viewportMin:a,viewportMax:r,viewportStartGroup:s,viewportEndGroup:o,startIndex:Math.max(0,Math.ceil(a)),endIndex:Math.min(Math.floor(r),r),ticks:h,minorTicks:[],step:1,minAxisExtent:1}}(E,n,j,U);k=_(t,E,P,D.startIndex,D.endIndex,d,l,h,a,r)}const{yDataMax:X,yDataMin:C,y2DataMax:R,y2DataMin:N,yMin:z,yMax:O,y2Min:Z,y2Max:q,idToDataMap:H,isY2AxisRendered:$,isYAxisRendered:J,hasWidthWeightValue:K,barWidths:Q}=k;let tt,et;N<C||R>X?(et=new Y({...r,dataMax:y?q:R,dataMin:y?Z:N,numGroups:E.length}).getInfo(),tt=new Y({...a,dataMax:y?O:X,dataMin:y?z:C,majorTickCount:et.ticks.length-1,numGroups:E.length}).getInfo()):(tt=new Y({...a,dataMax:y?O:X,dataMin:y?z:C,numGroups:E.length}).getInfo(),et=new Y({...r,dataMax:y?q:R,dataMin:y?Z:N,majorTickCount:tt.ticks.length-1,numGroups:E.length}).getInfo());const{axisDim:it}=B(L,s.cloneDimension(o),m,x,tt,a,f,v,J),{axisDim:ot}=B(T,s.cloneDimension(o),m,x,et,r,f,v,$),st="bottom"===A,{xSpace:lt}=rt(o,A,L,T,st?o.height:o.width,it,ot),ht=w?S(E,A,lt,D.viewportMin,D.viewportMax,D.step,m,n,f,v,w):y?B(A,lt,m,x,D,n,f,v):at(A,lt,m,D.viewportMin,D.viewportMax,D.min,D.max,D.startIndex,D.endIndex,c,I,U,Q,d,n,f,v,b,F,K),{axisDim:ut,scale:ct,...mt}=ht,{ySpace:dt}=rt(o,A,L,T,ut,st?o.width:o.height,ot),{ySpace:ft,y2Space:pt}=function(t,e,i,n,a){if(!t)return{ySpace:i,y2Space:i};const{x:r,y:o,width:s,height:l}=i,h=n?s*e:s,u=n?l:e*l,c=n?s-h:s,m=n?l:l-u,d=n?a?r:r+c:r,f=n?o:o+m,p=n&&a?r+h:r;return{ySpace:{x:p,y:o,width:c,height:m},y2Space:{x:d,y:f,width:h,height:u}}}(g,M,dt,c,m),xt=B(L,ft,m,x,tt,a,f,v,J),gt=B(T,pt,m,x,et,r,f,v,$),{axisDim:Mt,scale:vt,...bt}=xt,{axisDim:yt,scale:wt,...St}=gt,{plotAreaSpace:At,xSpace:Lt,ySpace:Tt,y2Space:Dt}=rt(o,A,L,T,ut,Mt,yt);return{getGroupFromPath:G,leafGroups:E,levelsArray:I,xAxisInfo:D,xProps:mt,xScale:ct,xAxisPosition:A,yProps:bt,y2Props:St,yScale:vt,y2Scale:wt,yMaxDim:Mt,y2MaxDim:yt,yAxisPosition:L,y2AxisPosition:T,y2AxisInfo:et,yAxisInfo:tt,plotAreaSpace:At,xSpace:Lt,ySpace:Tt,y2Space:Dt,idToDataMap:H}},t.getLineAreaSegments=function(t,e,i,n,a,r,o,s,l,h,u){const c=[];let m=[];for(let d=n;d<a+1;d+=1){let n,f,p,x,g,M;(u?(n=i[d],p=n?.x,x=n?.y):(n=i[d],f=n),null==n||r&&f<=0&&p<=0&&x<=0)?(c.push(m),m=[]):(u?(g=e.transform(p),M=t.transform(x)):(g=ht(o[d],d,e,l(s,d),h),M=t.transform(f)),m.push([g,M]),d===a&&c.push(m))}return c},t.getMarkerFillAndStroke=function(t,n,a,r,o,s,l){let h,u,c;return n?o?(h=l||s,c=i.rgb(e.colorSchemeVars.palette.neutral[130]),u=i.rgb(e.colorSchemeVars.palette.neutral[0])):a||r?(u=l||s,h=i.rgb(e.colorSchemeVars.palette.neutral[0])):t?(h=l||s,u=i.rgb(e.colorSchemeVars.palette.neutral[0])):(h=i.rgba(e.colorSchemeVars.palette.neutral[0],0),u=i.rgba(e.colorSchemeVars.palette.neutral[0],0)):t?(h=l||s,u=i.rgb(e.colorSchemeVars.palette.neutral[0])):(u=r?l||s:i.rgba(e.colorSchemeVars.palette.neutral[0],0),h=i.rgba(e.colorSchemeVars.palette.neutral[0],0)),{fill:h,stroke:u,outerStroke:c}},t.getMarkers=function(){return["square","circle","diamond","plus","triangleDown","triangleUp"]},t.getMixedFreqGroupCenter=function(t,e){return t.transform(new Date(e.x).getTime())},t.getOuterGaps=lt,t.getScrollBarSpace=function(t,e,i,n,a){const r={x:0,y:0,height:0,width:0};if("off"===i&&"off"===a)return{scrollDims:r,availSpace:e};const o=s.cloneDimension(e);let l=12;const h=t?.25:.2;return"on"===a&&"bottom"===n?l=e.height*h:void 0!==a&&(l=function(t,e,i){if("off"===i)return 0;if("on"===i)return e*(t?.25:.2);const n=i.height.includes("%"),a=parseFloat(i.height);return n?a/100*e:a}(t,e.height,a)),"left"===n?(r.x=e.x,r.y=e.y,r.width=l,r.height=e.height,o.x+=r.width+6,o.width-=r.width+6):"right"===n?(r.x=e.x+e.width-l,r.width=l,r.height=e.height,r.y=e.y,o.width-=r.width+6):(r.x=e.x,r.y=e.y+e.height-l,r.height=l,r.width=e.width,o.height-=r.height+6),{scrollDims:r,availSpace:o}},t.getSeriesData=function(t,e,i,n,a){const r=[];for(let o=0;o<t;o+=1){const t=[];for(let r=0;r<e;r+=1){const e=i(o,r);!e||n?.has(e.id)||a&&void 0!==e.value&&e.value<=0||(t[r]=void 0!==e.value?e.value:{x:e.x,y:e.y})}r.push(t)}return r},t.getStartAndEndAxesOffset=function(t,e,i,n,a){let r=0;if(a||t)r=.5;else{const t=i?.2:.5;r=t-t/Math.sqrt(n)}return e?{startOffset:-1*r,endOffset:r+1}:{startOffset:-1*r,endOffset:r}},t.isNonCurvedLine=function(t){return["straight","stepped","segmented","centeredStepped","centeredSegmented"].includes(t)},t.updateScrollBarSpace=function(t,e,i,n){const a=s.cloneDimension(t);return e?(a.width-=n,a.x+=i?0:n):a.height-=n,a},t.updateViewportFromOverview=function(t,e,i,n,a,r,o,s){const l=i+a,h=i+a+n+r,u=Math.max(t.min,o.invert(e?h:l)),c=Math.min(t.max,o.invert(e?l:h));s?.({xMin:u,xMax:c})}}));
//# sourceMappingURL=utils-8ccd1b88.js.map
