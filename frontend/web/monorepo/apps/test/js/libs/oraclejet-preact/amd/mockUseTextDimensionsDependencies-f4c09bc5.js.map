{"version":3,"file":"mockUseTextDimensionsDependencies-f4c09bc5.js","sources":["../../test/mocks/mockUseTextDimensionsDependencies.ts"],"sourcesContent":["/**\n * Utility function that mocks the `FontFaceSet` interface of the document.\n * This is returned by 'document.fonts'.\n */\nconst setupDocumentFontsMock = () => {\n  // document.fonts isn't available in test environment\n  Object.defineProperty(global.document, 'fonts', {\n    writable: true,\n    configurable: true,\n    value: {\n      ready: Promise.resolve()\n    }\n  });\n};\n\n/**\n * Utility function that mocks the `FontFaceSet` interface of the document.\n * This is returned by 'document.fonts'.\n *\n * TODO: See if we can avoid passing the SVGElement reference.\n * For whatever reason, global.SVGElement is not defined until test runtime (global.HTMLElement is available though).\n */\nconst setupSVGTextElementMethodsMock = (SVGElement: any) => {\n  SVGElement.prototype.getBBox = jest.fn().mockReturnValue({\n    x: 0,\n    y: -15,\n    width: 18,\n    height: 18\n  });\n};\n\n/**\n * Utility function that mocks the dependencies of the useTextDimensions hook.\n *\n * Recommended to execute inside `beforeEach` of tests of components that consume useTextDimensions.\n * @param window The window object at test runtime.\n */\nexport const setupUseTextDimensionsDependenciesMock = (window: typeof globalThis) => {\n  if (!window.document.fonts) {\n    setupDocumentFontsMock();\n  }\n  // If headless, SVGTextElement is not defined and all svg elements are\n  // instances of SVGElement\n  if (!window.SVGTextElement) {\n    setupSVGTextElementMethodsMock(window.SVGElement);\n  }\n};\n"],"names":["window","document","fonts","Object","defineProperty","global","writable","configurable","value","ready","Promise","resolve","SVGTextElement","SVGElement","prototype","getBBox","jest","fn","mockReturnValue","x","y","width","height"],"mappings":"sFAqCuDA,IAChDA,EAAOC,SAASC,OAhCrBC,OAAOC,eAAeC,OAAOJ,SAAU,QAAS,CAC9CK,UAAU,EACVC,cAAc,EACdC,MAAO,CACLC,MAAOC,QAAQC,aAiCdX,EAAOY,iBACqBZ,EAAOa,WArB7BC,UAAUC,QAAUC,KAAKC,KAAKC,gBAAgB,CACvDC,EAAG,EACHC,GAAI,GACJC,MAAO,GACPC,OAAQ,KAkBT"}