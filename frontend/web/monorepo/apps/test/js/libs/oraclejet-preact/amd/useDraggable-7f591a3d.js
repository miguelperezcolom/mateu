define(['exports', 'preact/hooks', './positionUtils-6e4daa31'], (function(e,t,r){"use strict";e.useDraggable=function({isDisabled:e=!1,containerRef:n,onDragMove:o,onDragStart:u,onDragEnd:c}){const s=t.useRef(!1),a=t.useRef(),i=t.useRef({x:0,y:0}),f=t.useRef({x:0,y:0}),g=t.useRef({x:0,y:0,width:0,height:0}),l=t.useCallback(((e,t)=>{const o=n?.current,u={x:e,y:t};if(!o)return u;const c=r.getContainingBlockElem(o),s=c?.getBoundingClientRect(),a=o.getBoundingClientRect(),i=s?s.left:0,f=s?s.top:0,g=s?s.right:window.innerWidth,l=s?s.bottom:window.innerHeight;return u.x<i&&(u.x=i),u.x+a.width>g&&(u.x=g-a.width),u.y<f&&(u.y=f),u.y+a.height>l&&(u.y=l-a.height),u}),[n]),y=t.useCallback((e=>{if(!s.current||!a.current)return;const t=e.pageX-f.current.x,r=e.pageY-f.current.y,n=l(g.current.x+t,g.current.y+r);e.stopPropagation(),e.preventDefault(),o?.({x:n.x,y:n.y})}),[o,l]),d=t.useCallback((e=>{if(!s.current||!a.current)return;s.current=!1;const t=e.pageX-f.current.x,r=e.pageY-f.current.y,n=l(g.current.x+t,g.current.y+r);document.removeEventListener("mousemove",y,!0),document.removeEventListener("mouseup",d,!0),e.preventDefault(),e.stopPropagation(),c?.({x:n.x,y:n.y})}),[c,y,l]),p=t.useCallback((e=>{const t=e.currentTarget;if(!t)return;const r=(e=>{let t=e,r=0,n=0;if(t.offsetParent)do{r+=t.offsetLeft,n+=t.offsetTop}while(t=t.offsetParent);return{left:r,top:n}})(t);s.current=!0,t.style.cursor="move",document.addEventListener("mousemove",y,!0),document.addEventListener("mouseup",d,!0),a.current={x:r.left,y:r.top},i.current.x=e.offsetX,i.current.y=e.offsetY,f.current={x:e.pageX,y:e.pageY},g.current=t.getBoundingClientRect(),u?.({x:g.current.x,y:g.current.y})}),[u,d,y]),x=t.useCallback((t=>{if(e)return;const r=t.currentTarget;r&&(r.style.cursor="move")}),[e]),m=t.useCallback((t=>{if(e)return;const r=t.currentTarget;r&&(r.style.cursor="auto")}),[e]);return{draggableProps:e?{}:{onMouseDown:p,onMouseEnter:x,onMouseLeave:m}}}}));
//# sourceMappingURL=useDraggable-7f591a3d.js.map
