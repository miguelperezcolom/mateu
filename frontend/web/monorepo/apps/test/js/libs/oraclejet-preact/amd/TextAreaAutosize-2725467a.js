define(['exports', 'preact/jsx-runtime', 'preact/compat', './FormContext-6b0879a0', './useFormContext-b8cbbb21', './FormFieldContext-a024b891', 'preact/hooks', './useFocusableTextField-8b755b15', './Label-46fd3625', './keyboardUtils-fb6219eb', './TextFieldInput-eb40adaa', 'css!./ObfuscatedTextFieldInputStyles.styles.css', './ReadonlyTextFieldInput-e5723c48', './StyledTextField-5e554e5b', './TextField-51b63f5f', './MaxLengthLiveRegion-1f30f975', './UNSAFE_TextField/themes/TextFieldStyles.css', 'css!./SkeletonStyles.styles.css', 'css!./TextFieldLoadingStyles.styles.css', 'css!./TextFieldStyles.styles.css', 'module', './UNSAFE_TextField/themes/redwood/TextFieldVariants.css', './useTextField-3ab0a23b', './logger-0f873e29', './TabbableModeContext-a9c97640', './useId-c9578d26', './useTranslationBundle-27bf6340', 'css!./UserAssistanceStyles.styles.css', 'module', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceVariants.css', './InlineUserAssistance-b485c235', './CompactUserAssistance-e2f42bce', './mergeProps-bcfa6a92', './LayerHost-7d4aa6d3', 'css!./TooltipContentStyles.styles.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', './tooltipUtils-3c8a0253', 'preact', 'css!./IconStyle.styles.css', './Popup-062b66ff', 'css!./LabelStyles.styles.css', 'module', './UNSAFE_Label/themes/redwood/LabelVariants.css', './InputGroupContext-372087af', './HiddenAccessible-037ef42d', 'module', './UNSAFE_Popup/themes/redwood/PopupVariants.css', './useLengthFilter-c05fd679', './useCurrentValueReducer-faded381', './useSelectableTextField-900d2860', './formControlUtils-de035f75', './MaxLengthCounter-cadff1c7'], (function(e,s,t,n,a,o,l,i,r,d,c,u,m,x,p,b,h,F,f,g,y,T,A,L,v,R,S,C,U,E,w,I,j,_,P,B,H,V,k,D,N,M,q,W,$,z,G,O,X,J,K,Q,Y){"use strict";const Z=({isReadonly:e,enabledElementRef:s,readonlyElementRef:t,minRows:n=2,maxRows:a,value:o})=>{l.useLayoutEffect((()=>{const o=e?t:s;if(null===o.current)return;if(o.current instanceof HTMLDivElement)return;const l=o.current,i=(e=>{const s=window.getComputedStyle(e),t=s.lineHeight;if("normal"===t)return 1.2*parseFloat(s.fontSize);return parseFloat(t)})(l);l.style.height="0";const{paddingHeight:r,borderHeight:d}=(e=>{const s=window.getComputedStyle(e);return{paddingHeight:parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),borderHeight:parseFloat(s.borderTop)+parseFloat(s.borderBottom)}})(l),c=i*n+r+d,u=l.scrollHeight+d;let m=0;if(void 0===a)m=u<c?c:u;else if(a>n){const e=i*a+r+d;m=u>e?e:u<c?c:u}else m=c;l.style.height=m+.5+"px"}),[o,n,a,e,s,t])},ee=t.forwardRef((({"aria-describedby":e,assistiveText:n,autoComplete:l="off",autoFocus:d=!1,columnSpan:u,helpSourceLink:h,helpSourceText:F,isDisabled:f,isReadonly:g,isRequired:y=!1,isRequiredShown:T,label:L,labelEdge:v,labelStartWidth:C,maxLength:U,maxLengthCounter:E="remaining",maxLengthUnit:_,maxRows:P,messages:B,minRows:H=2,placeholder:V,role:k,textAlign:D,userAssistanceDensity:N,value:M,variant:q="default",onInput:W,onCommit:$,testId:G},O)=>{const ee=S.useTranslationBundle("@oracle/oraclejet-preact"),se=U?ee.formControl_limitReached({CHARACTER_LIMIT:U}):"",{currentCommitValue:te,dispatch:ne}=J.useCurrentValueReducer({value:M}),ae=t.useCallback((e=>{ne({type:"input",payload:e.value}),W?.(e)}),[W,ne]),oe=t.useCallback((e=>{ne({type:"commit",payload:e.value}),$?.(e)}),[$,ne]),{isDisabled:le,isReadonly:ie,labelEdge:re,labelStartWidth:de,textAlign:ce,userAssistanceDensity:ue}=a.useFormContext(),me=f??le,xe=g??ie,pe=v??re,be=C??de,he=D??ce??Q.defaultTextAlignForVariant(q),Fe=N??ue,fe=t.useRef(R.useId()),ge=e?`${e} ${fe.current}`:fe.current,ye=t.useRef(null),Te=t.useRef(null),{focusProps:Ae,isFocused:Le,methods:ve}=i.useFocusableTextField({isDisabled:me,isReadonly:xe,enabledElementRef:ye,readonlyElementRef:Te}),{methods:Re}=K.useSelectableTextField(ye);t.useImperativeHandle(O,(()=>j.mergeProps(ve,Re)),[ve,Re]);const{isMaxLengthExceeded:Se,isMaxLengthReached:Ce,valueLength:Ue,onFilteredInput:Ee}=X.useLengthFilter({maxLength:U,maxLengthUnit:_,value:M,onInput:ae,onCommit:oe}),we=[...B??[],...Ce?[{detail:se,severity:"info"}]:[]],{formFieldContext:Ie,inputProps:je,labelProps:_e,textFieldProps:Pe,userAssistanceProps:Be}=A.useTextField({ariaDescribedBy:xe||me?e:ge,contentVariant:"textarea",helpSourceLink:h,helpSourceText:F,isDisabled:me,isFocused:Le,isReadonly:xe,isRequiredShown:T,labelEdge:pe,messages:we,styleVariant:q,userAssistanceDensity:Fe,value:M}),He=t.useCallback((()=>{const e=ye.current,s=e?e.value.length:null;ye.current?.setSelectionRange(s,s),ye.current?.focus()}),[ye]),Ve="none"!==pe?s.jsx(r.Label,{..._e,children:L}):void 0,ke={label:"none"!==pe?Ve:void 0,labelEdge:"none"!==pe?pe:void 0,labelStartWidth:"none"!==pe?be:void 0,labelText:"inside"!==pe||me?void 0:L},De="none"===pe?L:void 0,Ne="efficient"===Fe||"reflow"===Fe?me?"efficient"!==Fe?void 0:s.jsx(w.InlineUserAssistance,{userAssistanceDensity:Fe,...Be}):xe?s.jsx(w.InlineUserAssistance,{fieldLabel:L,messages:B,userAssistanceDensity:Fe,...Be}):s.jsx(w.InlineUserAssistance,{assistiveText:n,fieldLabel:L,helpSourceLink:h,helpSourceText:F,messages:we,isRequiredShown:T,userAssistanceDensity:Fe,...Be}):void 0,Me=t.useRef(null),qe="compact"===Fe?s.jsx(I.CompactUserAssistance,{anchorRef:Me,messages:we,assistiveText:n,...Be}):void 0;if(Z({isReadonly:xe,enabledElementRef:ye,readonlyElementRef:Te,minRows:H,maxRows:P,value:M}),xe){const e=s.jsx(m.ReadonlyTextFieldInput,{"aria-describedby":je["aria-describedby"],"aria-label":De,"aria-labelledby":_e.id,autoFocus:d,elementRef:Te,formVariant:q,...P?{as:"textarea",rows:H}:{as:"div"},onBlur:je.onBlur,onFocus:je.onFocus,textAlign:he,value:M,variant:"textarea",hasEmptyLabel:""===L&&"none"===pe,hasInsideLabel:void 0!==L&&"inside"===pe});return s.jsx(o.FormFieldContext.Provider,{value:Ie,children:s.jsx(x.ReadonlyTextField,{role:"presentation",columnSpan:u,compactUserAssistance:qe,inlineUserAssistance:Ne,variant:"textarea",mainContent:e,ref:Me,testId:G,...ke})})}const We=void 0!==U,$e=s.jsxs(s.Fragment,{children:[s.jsx(c.TextFieldInput,{as:"textarea","aria-label":De,autoComplete:l,autoFocus:d,currentCommitValue:te,hasEmptyLabel:""===L&&"none"===pe,hasInsideLabel:void 0!==Ve&&"inside"===pe,isRequired:y,inputRef:ye,onCommit:oe,onInput:Ee,placeholder:V,role:k,rows:H,textAlign:he,value:M,...je}),"remaining"===E&&We&&s.jsx(Y.MaxLengthCounter,{maxLength:U,valueLength:Ue,onClick:He}),We&&s.jsx(z.HiddenAccessible,{id:fe.current,children:ee.formControl_maxLength({MAX_LENGTH:`${U}`})}),We&&Le&&s.jsx(b.MaxLengthLiveRegion,{isMaxLengthExceeded:Se,maxLength:U,valueLength:Ue,testId:G?G+"_maxLength":void 0})]});return s.jsx(o.FormFieldContext.Provider,{value:Ie,children:s.jsx(p.TextField,{mainContent:$e,columnSpan:u,compactUserAssistance:qe,inlineUserAssistance:Ne,onBlur:Ae?.onFocusOut,onFocus:Ae?.onFocusIn,mainFieldRef:Me,testId:G,...Pe,...ke})})}));e.TextAreaAutosize=ee}));
//# sourceMappingURL=TextAreaAutosize-2725467a.js.map
