define(['exports', 'preact/jsx-runtime', './Label-46fd3625', 'preact/hooks', './keyboardUtils-fb6219eb', 'preact/compat', './TextFieldInput-eb40adaa', 'css!./ObfuscatedTextFieldInputStyles.styles.css', './ReadonlyTextFieldInput-e5723c48', './StyledTextField-5e554e5b', './LayerHost-7d4aa6d3', './FormContext-6b0879a0', './useFormContext-b8cbbb21', './FormFieldContext-a024b891', 'css!./LabelValueLayoutStyles.styles.css', './logger-0f873e29', './UNSAFE_TextField/themes/TextFieldStyles.css', 'css!./SkeletonStyles.styles.css', 'css!./TextFieldLoadingStyles.styles.css', 'css!./TextFieldStyles.styles.css', 'module', './UNSAFE_TextField/themes/redwood/TextFieldVariants.css', 'css!./LabelStyles.styles.css', 'module', './UNSAFE_Label/themes/redwood/LabelVariants.css', './UNSAFE_TextField/themes/FormLayoutStyles.css', 'module', './Flex-4bc3a394', 'css!./LayoutStyles.styles.css', './InputGroupContext-372087af', 'css!./TooltipContentStyles.styles.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', './tooltipUtils-3c8a0253', './formControlUtils-de035f75', './useTranslationBundle-27bf6340', 'css!./LiveRegionStyles.styles.css', './TabbableModeContext-a9c97640', 'css!./UserAssistanceStyles.styles.css', 'module', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceVariants.css', './InlineUserAssistance-b485c235', './CompactUserAssistance-e2f42bce', 'preact', 'css!./IconStyle.styles.css', './Popup-062b66ff', 'css!./HiddenAccessibleStyles.styles.css', 'module', './UNSAFE_Popup/themes/redwood/PopupVariants.css', './useFocusableTextField-8b755b15', './useLoadingIndicatorTimer-20a3bf5f', './useTextField-3ab0a23b', './Separator-181f7541', './SelectMobileFieldInput-094c2a5e', './useSelectCommon-f04454d2', './useDisplayValue-2d2e6206', './View-5520bcf5', './useEffectEvent-66da1357', './mergeProps-bcfa6a92', './useHiddenTestMethod-2f1d2e7e'], (function(e,s,n,t,o,i,a,l,r,d,c,u,p,h,b,S,y,F,x,m,v,f,A,w,T,R,g,L,D,I,E,C,U,k,j,P,K,V,O,B,_,M,H,N,q,z,G,W,Y,$,Z,J,Q,X,ee,se,ne,te,oe,ie){"use strict";function ae({assistiveText:e,collectionRenderer:n,collectionRendererContext:t,data:o,dropdownId:i,dropdownRef:a,helpSourceLink:l,helpSourceText:r,isAddToListShown:d,isAdvancedSearchShown:c,isDisabled:u,isDropdownAbove:p,isEmptyResults:h,isOpen:b,isReadonly:S,label:y,mainFieldRef:F,onAddToListAction:x,onAdvancedSearchAction:m,onAutoDismiss:v,onPosition:f,userAssistanceDensity:A}){const w=P.useTranslationBundle("@oracle/oraclejet-preact"),T=!b||p||u||S||!e&&!l||"efficient"!==A&&"reflow"!==A?void 0:s.jsx(V.TabbableModeContext.Provider,{value:{isTabbable:!1},children:s.jsx(X.DropdownUserAssistance,{assistiveText:e,fieldLabel:y,helpSourceLink:l,helpSourceText:r,userAssistanceDensity:A})}),R=h?d||c?void 0:s.jsx(ee.EmptyResults,{}):n(t),g=d?s.jsxs(s.Fragment,{children:[!h&&s.jsx("div",{onMouseDown:ee.preventDefault,children:s.jsx(Q.Separator,{})}),s.jsx(X.LinkItem,{isHighlighted:h,onAction:x,children:w.select_addToList()})]}):void 0,L=c?s.jsxs(s.Fragment,{children:[!h&&s.jsx("div",{onMouseDown:ee.preventDefault,children:s.jsx(Q.Separator,{})}),s.jsx(X.LinkItem,{isHighlighted:h,onAction:m,children:w.select_moreSearchOptions()})]}):void 0;return s.jsxs(X.Dropdown,{anchorRef:F,dropdownRef:a,id:i,isOpen:b,onAutoDismiss:v,onPosition:f,children:[s.jsxs(ee.DropdownList,{hasBottomGap:void 0===T,isLoading:null===o,children:[R,g,L]}),T]})}function le({"aria-describedby":e,"aria-label":o,assistiveText:i,clearValue:a,collectionRenderer:l,collectionRendererContext:r,data:d,displayValue:c,dropdownId:u,helpSourceLink:p,helpSourceText:b,isAddToListShown:S,isAdvancedSearchShown:y,isEmptyResults:F,isFocused:x,isLoading:m,isOpen:v=!1,isRequired:f,label:A,liveRegionText:w,mainFieldInputRef:T,onAddToListAction:R,onAdvancedSearchAction:g,onFieldBlur:L,onFieldFocus:D,onFieldInput:I,onFieldKeyDown:E,onFieldKeyUp:C,placeholder:U,propIsLoading:k,setDropdownOpen:j,setUserInput:K,stopFiltering:V,textAlign:O,userAssistanceDensity:B,userInput:_,virtualKeyboard:M}){const H=P.useTranslationBundle("@oracle/oraclejet-preact"),{formFieldContext:N,inputProps:q,labelProps:z,textFieldProps:G,userAssistanceProps:W}=J.useTextField({ariaDescribedBy:e,helpSourceLink:p,helpSourceText:b,isDisabled:!1,isFocused:x,isLoading:m,isReadonly:!1,isRequiredShown:!1,labelEdge:"inside",styleVariant:"default",value:""}),{selectSingleFieldInputProps:Y,selectSingleFieldProps:$}=function({clearValue:e,displayValue:s,inputRef:n,isDropdownOpen:o,userInput:i,setDropdownOpen:a,stopFiltering:l,setUserInput:r}){const d=t.useRef(null),c=t.useCallback((()=>{a(!1),l(),n.current?.focus()}),[n,a,l]),u=t.useCallback((()=>{c()}),[c]),p=t.useCallback((()=>{l(),e(!1),d.current?.focus()}),[e,l]),h=t.useRef(o);t.useEffect((()=>{o&&setTimeout((()=>d.current?.focus()),0),h.current=o}),[o]);const b=t.useRef(!0);return b.current&&(b.current=!1,r(s)),{selectSingleFieldInputProps:{displayValue:i??"",hasEmptyLabel:!1,hasInsideLabel:!0,inputRef:d,isUserFiltering:!0,removeIcon:"always",userInput:i},selectSingleFieldProps:{hasInsideLabel:!0,isBackButtonShown:!0,isClearButtonShown:!ee.isSearchTextEmptyOrUndefined(i)||!ee.isSearchTextEmptyOrUndefined(s),isDropdownArrowShown:!1,styleVariant:"embedded",onBackButtonClick:u,onClearButtonClick:p}}}({clearValue:a,displayValue:c,inputRef:T,isDropdownOpen:v,setDropdownOpen:j,setUserInput:K,stopFiltering:V,userInput:_});N.hasValue=k||N.hasValue;const Z={label:s.jsx(n.Label,{...z,children:A}),labelEdge:"inside"},te=!v||!i&&!p||"efficient"!==B&&"reflow"!==B?void 0:s.jsx(X.DropdownUserAssistance,{assistiveText:i,fieldLabel:A,helpSourceLink:p,helpSourceText:b,userAssistanceDensity:B,...W}),oe=F?S||y?void 0:s.jsx(ee.EmptyResults,{}):l(r),ie=S?s.jsxs(s.Fragment,{children:[s.jsx("div",{onMouseDown:ee.preventDefault,children:s.jsx(Q.Separator,{})}),s.jsx(X.LinkItem,{onAction:R,children:H.select_addToList()})]}):void 0,ae=y?s.jsxs(s.Fragment,{children:[s.jsx("div",{onMouseDown:ee.preventDefault,children:s.jsx(Q.Separator,{})}),s.jsx(X.LinkItem,{onAction:g,children:H.select_moreSearchOptions()})]}):void 0;return s.jsx(X.SelectMobileDropdown,{header:s.jsxs(h.FormFieldContext.Provider,{value:N,children:[s.jsx(ne.View,{children:s.jsx(se.SelectSingleField,{...G,...Z,...$,onFocus:D,onBlur:L,children:s.jsx(se.SelectSingleFieldInput,{...q,...Y,"aria-controls":u,"aria-expanded":v,"aria-label":o,isAddToListShown:S,isAdvancedSearchShown:y,isRequired:f,liveRegionText:w,placeholder:U,textAlign:O,virtualKeyboard:M,onInput:I,onKeyDown:E,onKeyUp:C})})}),te,ie,ae]}),hasHeaderSeparator:!(y&&F),id:u,isOpen:v,labelId:z.id,children:s.jsx(ee.DropdownList,{isLoading:null===d,hasTopGap:!(S||y),children:oe})})}const re=i.forwardRef((({addToList:e="off",advancedSearch:i="off","aria-describedby":a,assistiveText:l,collectionRenderer:c,columnSpan:u,data:b,helpSourceLink:S,helpSourceText:y,isDisabled:F,isLoading:x,isReadonly:m,isRequired:v,isRequiredShown:f,itemRenderer:A,itemText:w,label:T,labelEdge:R,labelStartWidth:g,messages:L,onAddToListAction:D,onAdvancedSearchAction:I,onCommit:E,onFilter:C,onLoadRange:U,placeholder:k,testId:K,textAlign:V,userAssistanceDensity:O,valueItem:B,variant:_="default",virtualKeyboard:q},z)=>{const{isDisabled:G,isReadonly:W,labelEdge:Y,labelStartWidth:Q,textAlign:ne,userAssistanceDensity:re}=p.useFormContext(),de=F??G,ce=m??W,ue=R??Y,pe=g??Q,he=V??ne??j.defaultTextAlignForVariant(_),be=O??re,Se=t.useRef(null),ye=t.useRef(null),{focusProps:Fe,isFocused:xe,methods:me}=$.useFocusableTextField({isDisabled:de,isReadonly:ce,enabledElementRef:Se,readonlyElementRef:ye});t.useImperativeHandle(z,(()=>me),[me]);const{addToListEventHandlers:ve,advancedSearchEventHandlers:fe,clearValue:Ae,collectionRendererContext:we,dropdownArrowEventHandlers:Te,dropdownEventHandlers:Re,dropdownRef:ge,inputEventHandlers:Le,isAddToListShown:De,isAdvancedSearchShown:Ie,isDataFetched:Ee,isDropdownAbove:Ce,isDropdownOpen:Ue,isEmptyResults:ke,isFocused:je,isUserFiltering:Pe,mainFieldRef:Ke,mouseProps:Ve,setDropdownOpen:Oe,setUserInput:Be,stopFiltering:_e,textFieldRef:Me,userInput:He}=function({addToList:e,advancedSearch:s,data:n,inputRef:i,isDisabled:a,isFocused:l,isReadonly:r,onAddToListAction:d,onAdvancedSearchAction:c,onCommit:u,onFilter:p,valueItem:h}){const{currentRowKeyRef:b,currentRowOverride:S,dropdownRef:y,getDropdownTabbableElems:F,handleDropdownArrowClick:x,handleDropdownAutoDismiss:m,handleDropdownPosition:v,handleInput:f,handleMainFieldKeyDown:A,handleMainFieldKeyUp:w,isDropdownAbove:T,isDropdownOpen:R,isFocused:g,isUserFiltering:L,mainFieldRef:D,onCurrentKeyChange:I,onMouseDown:E,searchText:C,setCurrentRowOverride:U,setDropdownOpen:k,setUserInput:j,stopFiltering:P,userInput:K}=ee.useSelectCommon({data:n,inputRef:i,isFocused:l,onFilter:p}),[V,O]=t.useState(),[B,_]=t.useState(!1),[M,H]=t.useState(g),[N,q]=t.useState(!1),z=t.useRef(n),G=t.useRef(R),W=t.useRef(C),Y="on"===s&&L&&null!=C&&C.length>0,$=null!=n&&!ee.isBeforeDataFetch(n),Z=$&&0===n?.totalSize,J="on"===e&&"on"!==s&&L&&null!=C&&C.length>0,Q=t.useCallback((()=>{k(!1),P(),d?.({searchText:L?C:void 0})}),[L,d,C,k,P]),X=t.useCallback((()=>{k(!1),P(),c?.({searchText:L?C:void 0})}),[L,c,C,k,P]),se=t.useCallback((e=>{u?.({value:e,previousValue:void 0!==h?h.key:void 0})}),[u,h]),ne=t.useCallback(((e=!0)=>{e&&k(!1),O(new Set),se(void 0)}),[se,k]),ae=t.useCallback((()=>L&&""===K&&void 0!==h),[L,K,h]),le=t.useCallback((()=>!!ae()&&(ne(),!0)),[ne,ae]);!M||g||N||B||!ae()||_(!0);const re=te.useEffectEvent((()=>{B&&(ne(),_(!1)),N&&q(!1)}));t.useEffect((()=>{g||re()}),[re,g]);const de=t.useRef(null),ce=t.useCallback((e=>r||a?Promise.reject("Component is readonly or disabled"):(se(e),Promise.resolve())),[a,r,se]);ie.useHiddenTestMethod({elementRef:r?D:de,method:ce,name:"_changeValue"});const ue=t.useCallback((()=>{i.current?.focus()}),[i]),pe=t.useCallback((()=>{y.current?.parentElement?.removeChild(y.current)}),[y]),he=t.useCallback((e=>{if(R&&"keydown"===e?.type){const s=e;switch(s.code){case o.KEYS.TAB:{const e=s.shiftKey,t=F();if(t&&t.length>1){const s=t[0],n=t[t.length-1];if(!e&&document.activeElement!==n||e&&document.activeElement!==s)return void k(!0)}void 0!==b.current&&null!=n&&n.data.length>0&&(O(new Set([b.current])),se(b.current),q(!0)),ue(),pe();break}}}}),[b,n,ue,F,R,se,pe,k]),be=t.useCallback((e=>{if(!o.isControlOrFunctionKey(e))switch(e.code){case o.KEYS.TAB:!ae()&&R&&null!=n&&n.data.length>0&&L&&(void 0!==b.current?(O(new Set([b.current])),se(b.current)):se(h?.key??void 0)),pe(),k(!1);break;case o.KEYS.ENTER:if(ee.isPhone())return;if(J&&Z)return void Q();if(Y&&Z)return void X();!le()&&R&&null!=n&&n.data.length>0&&(k(!1),P(),void 0!==b.current?(O(new Set([b.current])),se(b.current)):se(h?.key??void 0))}}),[le,b,n,Q,X,J,Y,ae,R,Z,L,se,pe,k,P,h]);t.useEffect((()=>{O(void 0===h?void 0:new Set([h.key]))}),[h]);const Se=t.useCallback((e=>{ue(),k(!1),P();const s=e.context.key;O(new Set([s])),se(s)}),[ue,se,k,P]);t.useEffect((()=>{n!==z.current&&R&&L&&null!=n&&0===n.offset&&n.data.length>0&&U({rowKey:ee.isSearchTextEmptyOrUndefined(C)?void 0:n.data[0].metadata.key})}),[n,R,L,C,U]),t.useEffect((()=>{R!==G.current&&(!R||L&&void 0!==C&&0!==C.length||U({rowKey:[...V??[void 0]][0]}))}),[R,L,C,V,U]);const ye=t.useMemo((()=>oe.mergeProps({onAutoDismiss:m,onPosition:v},{onAutoDismiss:he})),[m,v,he]),Fe=t.useMemo((()=>oe.mergeProps({onInput:f,onKeyDown:A,onKeyUp:w},{onKeyDown:be})),[A,f,w,be]),xe=ee.useCollectionRenderer({currentKey:S.rowKey,searchText:C,selectedKeys:V,onCurrentKeyChange:I,onItemAction:Se});return g!==M&&H(g),t.useEffect((()=>{z.current=n,G.current=R,W.current=C})),{addToListEventHandlers:{onAction:Q},advancedSearchEventHandlers:{onAction:X},collectionRendererContext:xe,dropdownArrowEventHandlers:{onClick:x},clearValue:ne,dropdownEventHandlers:ye,dropdownRef:y,inputEventHandlers:Fe,inputRef:i,isAddToListShown:J,isAdvancedSearchShown:Y,isDataFetched:$,isDropdownAbove:T,isDropdownOpen:R,isEmptyResults:Z,isFocused:g,isUserFiltering:L,mainFieldRef:D,mouseProps:a||r?{}:{onMouseDown:E},setDropdownOpen:k,setUserInput:j,stopFiltering:P,textFieldRef:de,userInput:K}}({addToList:e,advancedSearch:i,data:b,inputRef:Se,isDisabled:de,isFocused:xe,isReadonly:ce,onAddToListAction:D,onAdvancedSearchAction:I,onCommit:E,onFilter:C,valueItem:B}),Ne=Z.useLoadingIndicatorTimer(x??!1),{baseId:qe,formFieldContext:ze,inputProps:Ge,labelProps:We,textFieldProps:Ye,userAssistanceProps:$e}=J.useTextField({ariaDescribedBy:a,helpSourceLink:S,helpSourceText:y,isDisabled:de,isFocused:je,isLoading:Ne,isReadonly:ce,isRequiredShown:f,labelEdge:ue,messages:L,styleVariant:_,userAssistanceDensity:be,value:void 0!==B||void 0});ze.hasValue=x||ze.hasValue;const Ze=`${qe}-dropdown`,Je=se.useDisplayValue(w,B),Qe="none"!==ue?s.jsx(n.Label,{...We,children:T}):void 0,Xe={label:"none"!==ue?Qe:void 0,labelEdge:"none"!==ue?ue:void 0,labelStartWidth:"none"!==ue?pe:void 0,labelText:"inside"!==ue||de?void 0:T},es="none"===ue?T:void 0,ss="efficient"===be||"reflow"===be?de?"efficient"!==be?void 0:s.jsx(M.InlineUserAssistance,{userAssistanceDensity:be,...$e}):ce?s.jsx(M.InlineUserAssistance,{fieldLabel:T,messages:L,userAssistanceDensity:be,...$e}):s.jsx(M.InlineUserAssistance,{assistiveText:l,fieldLabel:T,helpSourceLink:S,helpSourceText:y,messages:L,isRequiredShown:f,userAssistanceDensity:be,...$e}):void 0,ns="compact"===be?s.jsx(H.CompactUserAssistance,{anchorRef:Ke,messages:L,assistiveText:l,...$e}):void 0,ts=P.useTranslationBundle("@oracle/oraclejet-preact"),os=t.useCallback((({onPersistCurrentRowKey:e,onRowAction:n,selected:t,searchText:o,currentRowKeyOverride:i})=>s.jsx(ee.DefaultList,{"aria-label":T??"",currentItemVariant:"highlight",currentKey:i,data:b,itemRenderer:A,itemText:w,onCurrentKeyChange:e,onItemAction:n,onLoadRange:U,searchText:Pe?o:void 0,selectedKeys:t,selectionMode:"single"})),[b,Pe,A,w,T,U]);if(ce){const e=s.jsx(r.ReadonlyTextFieldInput,{"aria-describedby":Ge["aria-describedby"],"aria-label":es,"aria-labelledby":We.id,as:"div",elementRef:ye,formVariant:_,hasEmptyLabel:""===T&&"none"===ue,hasInsideLabel:void 0!==T&&"inside"===ue,onBlur:Ge.onBlur,onFocus:Ge.onFocus,textAlign:he,value:Je});return s.jsx(h.FormFieldContext.Provider,{value:ze,children:s.jsx(d.ReadonlyTextField,{role:"presentation",columnSpan:u,compactUserAssistance:ns,inlineUserAssistance:ss,onBlur:Fe.onFocusOut,onFocus:Fe.onFocusIn,ref:Ke,mainContent:e,testId:K,...Xe})})}const is=void 0!==Qe&&"inside"===ue,as=Ue&&Ee?0===b?.totalSize?ts.select_noMatchesFound():1===b?.totalSize?ts.select_oneMatchFound():"exact"===b?.sizePrecision?ts.select_sizeMatchesFound({TOTAL_SIZE:`${b?.totalSize}`}):ts.select_sizeOrMoreMatchesFound({TOTAL_SIZE:`${b?.totalSize}`}):"",ls=""===T&&"none"===ue,rs=ee.isPhone()&&!de?s.jsx(X.SelectMobileFieldInput,{"aria-controls":Ze,"aria-describedby":Ge["aria-describedby"],"aria-expanded":Ue,"aria-invalid":Ge["aria-invalid"],"aria-label":es,"aria-labelledby":We.id,displayValue:Je,hasEmptyLabel:ls,hasInsideLabel:is,isRequired:v,onBlur:Ge.onBlur,onFocus:Ge.onFocus,placeholder:k,ref:Se,textAlign:he,variant:Ge.variant}):s.jsx(se.SelectSingleFieldInput,{"aria-controls":Ze,"aria-expanded":Ue,"aria-label":es,displayValue:Je,hasEmptyLabel:""===T&&"none"===ue,hasInsideLabel:is,inputRef:Se,isAddToListShown:De,isAdvancedSearchShown:Ie,isRequired:v,isUserFiltering:Pe,liveRegionText:as,placeholder:k,textAlign:he,userInput:He,virtualKeyboard:ee.isTablet()?q:void 0,...Ge,...Le}),ds=Ue&&void 0!==b&&(null===b||b.totalSize>0||ee.isBeforeDataFetch(b)||ke),cs=ds?ee.isPhone()?s.jsx(le,{"aria-describedby":a,"aria-label":es,assistiveText:l,clearValue:Ae,collectionRenderer:c??os,collectionRendererContext:we,data:b,displayValue:Je,dropdownId:Ze,helpSourceLink:S,helpSourceText:y,isAddToListShown:De,isAdvancedSearchShown:Ie,isEmptyResults:ke,isFocused:je,isLoading:Ne,isOpen:ds,isRequired:v,label:T,liveRegionText:as,mainFieldInputRef:Se,onAddToListAction:ve.onAction,onAdvancedSearchAction:fe.onAction,onFieldBlur:Fe.onFocusOut,onFieldFocus:Fe.onFocusIn,onFieldInput:Le.onInput,onFieldKeyDown:Le.onKeyDown,onFieldKeyUp:Le.onKeyUp,placeholder:k,propIsLoading:x,setDropdownOpen:Oe,stopFiltering:_e,setUserInput:Be,textAlign:he,userAssistanceDensity:be,userInput:He,virtualKeyboard:q}):s.jsx(ae,{...Re,assistiveText:l,collectionRenderer:c??os,collectionRendererContext:we,data:b,dropdownId:Ze,dropdownRef:ge,helpSourceLink:S,helpSourceText:y,isAddToListShown:De,isAdvancedSearchShown:Ie,isDisabled:de,isDropdownAbove:Ce,isEmptyResults:ke,isOpen:ds,isReadonly:ce,label:T,mainFieldRef:Ke,onAddToListAction:ve.onAction,onAdvancedSearchAction:fe.onAction,userAssistanceDensity:be}):null;return s.jsxs(N.Fragment,{children:[s.jsx(h.FormFieldContext.Provider,{value:ze,children:s.jsx(se.SelectSingleField,{columnSpan:u,compactUserAssistance:ns,hasInsideLabel:is,inlineUserAssistance:ss,isDropdownArrowShown:!0,mainFieldRef:Ke,onBlur:Fe?.onFocusOut,onDropdownArrowClick:Te.onClick,onFocus:Fe?.onFocusIn,rootRef:Me,testId:K,...Ye,...Xe,...Ve,children:rs})}),cs]})}));e.SelectSingle=re}));
//# sourceMappingURL=SelectSingle-c336458e.js.map
