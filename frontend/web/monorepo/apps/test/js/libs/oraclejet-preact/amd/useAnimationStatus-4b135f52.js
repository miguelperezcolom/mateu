define(['exports', 'preact/hooks', './useAnimation-5a74955f'], (function(n,i,t){"use strict";n.useAnimationStatus=function({isOpen:n,isAnimatedOnMount:e,animationStates:s,onTransitionEnd:u}){const[o,a]=i.useState(n?"initial":"unmounted"),l=i.useRef(n?"initial":"unmounted"),c=n=>{l.current=n,a(n)},m=i.useRef(null),[d,r]=i.useState(null),{nodeRef:f}=t.useAnimation(o,{animationStates:s,isAnimatedOnMount:e,onAnimationEnd:i.useCallback((()=>{"opening"===o?u?.(!0):n||(Object.assign(d.style,{visibility:null}),c("unmounted"),u?.(!1))}),[o,n,u,d])}),g=i.useCallback((n=>{m.current!==n&&(m.current=n,null!=n&&"initial"==o&&Object.assign(n.style,{visibility:"hidden"}),f(n),r(n))}),[o,f]);return i.useEffect((()=>{if("unmounted"!==o||n){if("unmounted"!==o||!n)return"initial"===o&&n?(c("opening"),void(s.opening||u?.(!0))):void("opening"===o&&n?d&&Object.assign(d.style,{visibility:"visible"}):n||(s.closing?"unmounted"!==l.current&&c("closing"):(d&&Object.assign(d.style,{visibility:null}),c("unmounted"),u?.(!1))));c("initial")}}),[n,d,o,s.opening,s.closing,u]),{status:o,animationElementRef:m,setAnimationElementRef:g}}}));
//# sourceMappingURL=useAnimationStatus-4b135f52.js.map
