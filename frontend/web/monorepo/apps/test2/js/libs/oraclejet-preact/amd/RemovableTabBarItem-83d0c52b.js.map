{"version":3,"file":"RemovableTabBarItem-83d0c52b.js","sources":["../../src/UNSAFE_TabBarCommon/RemovableTabBarItem.tsx"],"sourcesContent":["import { useCallback } from 'preact/hooks';\nimport { useHover } from '../hooks/UNSAFE_useHover';\nimport { EmbeddedIconButton } from '../PRIVATE_EmbeddedIconButton';\nimport { Close } from '../UNSAFE_RedwoodIcons/Close';\nimport { Flex } from '../UNSAFE_Flex';\nimport { mergeInterpolations } from '../utils/UNSAFE_mergeInterpolations';\nimport { flexitemInterpolations } from '../utils/UNSAFE_interpolations/flexitem';\nimport type { FlexitemProps } from '../utils/UNSAFE_interpolations/flexitem';\nimport { useTabBarContext } from './useTabBarContext';\nimport { BaseTabBarItem, BaseTabBarItemProps } from './BaseTabBarItem';\nimport { useTranslationBundle } from '../hooks/UNSAFE_useTranslationBundle';\nimport type { BundleType } from '../resources/nls/bundle';\n\ntype RemovableTabBarItemProps<K extends string | number> = Pick<\n  BaseTabBarItemProps<K>,\n  | 'itemKey'\n  | 'label'\n  | 'icon'\n  | 'badge'\n  | 'metadata'\n  | 'severity'\n  | 'aria-controls'\n  | 'labelMaxWidth'\n>;\n\nexport function RemovableTabBarItem<K extends string | number>({\n  itemKey,\n  label,\n  icon,\n  badge,\n  metadata,\n  severity,\n  labelMaxWidth,\n  'aria-controls': ariaControls\n}: RemovableTabBarItemProps<K>) {\n  const { selection, currentKey, layout, onRemove } = useTabBarContext();\n  const isSelected = selection === itemKey;\n  const isCurrent = currentKey === itemKey;\n\n  const handleRemove = useCallback(() => {\n    onRemove?.({ value: itemKey as K });\n  }, [onRemove, itemKey]);\n\n  const { hoverProps, isHover } = useHover({});\n\n  //instead of specifying flex: '1 0 auto' in cssProps var\n  const styleInterpolations = mergeInterpolations<FlexitemProps>([\n    ...Object.values(flexitemInterpolations)\n  ]);\n  const flexDimensions = styleInterpolations({\n    flex: layout === 'stretch' ? '1 0 auto' : '0 0 auto'\n  });\n\n  const translations = useTranslationBundle<BundleType>('@oracle/oraclejet-preact');\n\n  //TODO: In addition to aria-label a genric instruction is required for keyboard deletion\n  //common to al tabs,after feedback from Curt's investigations.\n  return (\n    <div {...hoverProps} style={flexDimensions}>\n      <Flex>\n        <BaseTabBarItem\n          aria-controls={ariaControls}\n          itemKey={itemKey}\n          label={label}\n          icon={icon}\n          badge={badge}\n          metadata={metadata}\n          severity={severity}\n          labelMaxWidth={labelMaxWidth}\n          removeIcon={\n            <span data-oj-tabbar-item-remove-icon=\"true\">\n              <EmbeddedIconButton\n                aria-label={translations.tabBarNavigationList_removeCueText()}\n                size=\"xs\"\n                onAction={handleRemove}>\n                {(isHover || isSelected || isCurrent) && <Close />}\n              </EmbeddedIconButton>\n            </span>\n          }\n        />\n      </Flex>\n    </div>\n  );\n}\n"],"names":["itemKey","label","icon","badge","metadata","severity","labelMaxWidth","ariaControls","selection","currentKey","layout","onRemove","useTabBarContext","isSelected","isCurrent","handleRemove","useCallback","value","hoverProps","isHover","useHover","flexDimensions","mergeInterpolations","Object","values","flexitemInterpolations","styleInterpolations","flex","translations","useTranslationBundle","_jsx","jsx","style","children","Flex","BaseTabBarItem","removeIcon","EmbeddedIconButton","tabBarNavigationList_removeCueText","size","onAction","Close","SvgClose"],"mappings":"2WAyBM,UAAyDA,QAC7DA,EAAOC,MACPA,EAAKC,KACLA,EAAIC,MACJA,EAAKC,SACLA,EAAQC,SACRA,EAAQC,cACRA,EACA,gBAAiBC,IAEjB,MAAMC,UAAEA,EAASC,WAAEA,EAAUC,OAAEA,EAAMC,SAAEA,GAAaC,EAAAA,mBAC9CC,EAAaL,IAAcR,EAC3Bc,EAAYL,IAAeT,EAE3Be,EAAeC,EAAAA,aAAY,KAC/BL,IAAW,CAAEM,MAAOjB,GAAe,GAClC,CAACW,EAAUX,KAERkB,WAAEA,EAAUC,QAAEA,GAAYC,EAAQA,SAAC,CAAE,GAMrCC,EAHsBC,EAAAA,oBAAmC,IAC1DC,OAAOC,OAAOC,2BAEIC,CAAoB,CACzCC,KAAiB,YAAXjB,EAAuB,WAAa,aAGtCkB,EAAeC,uBAAiC,4BAItD,OACEC,EAASC,IAAA,MAAA,IAAAb,EAAYc,MAAOX,EAAcY,SACxCH,EAAAA,IAACI,EAAAA,eACCJ,EAACC,IAAAI,EAAcA,gCACE5B,EACfP,QAASA,EACTC,MAAOA,EACPC,KAAMA,EACNC,MAAOA,EACPC,SAAUA,EACVC,SAAUA,EACVC,cAAeA,EACf8B,WACEN,EAAsCC,IAAA,OAAA,CAAA,kCAAA,gBACpCD,EAAAA,IAACO,EAAkBA,mBACL,CAAA,aAAAT,EAAaU,qCACzBC,KAAK,KACLC,SAAUzB,YACRI,GAAWN,GAAcC,IAAcgB,EAACC,IAAAU,EAAKC,sBAQ/D"}