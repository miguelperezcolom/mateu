/**
 * @license
 * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("oj-c/hooks/UNSAFE_useMergedFormContext/useMergedFormContext",["require","exports","@oracle/oraclejet-preact/hooks/UNSAFE_useFormContext"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useMergedFormContext=function({propContainerReadonly:e,propLabelWrapping:a,propReadonly:s,propTextAlign:r,propUserAssistanceDensity:n}){const o=(0,t.useFormContext)(),u=n??o.userAssistanceDensity,i=s??o.isReadonly,{isFormLayout:l,isReadonly:d,labelWrapping:c,textAlign:p,...m}=o;return{containerProps:{...m,isFormLayout:void 0!==e||l,isReadonly:e??d,labelWrapping:a??c,textAlign:r??p},readonlyValue:i,uadValue:u}}})),define("oj-c/editable-value/UNSAFE_useAssistiveText/useAssistiveText",["require","exports","preact/hooks"],(function(require,e,t){"use strict";function a(e,t,a,s,r,n){const o="compact"!==n?a?.definition:void 0;return e?.instruction||("none"===r?.validatorHint?void 0:t)||o||("none"===r?.converterHint?void 0:s)}function s(e){if(!e.length)return;return e.map((e=>"function"==typeof e.getHint?e.getHint():void 0)).filter(Boolean).join("\n")}Object.defineProperty(e,"__esModule",{value:!0}),e.useAssistiveText=function({addBusyState:e,converter:r,displayOptions:n,help:o,helpHints:u,userAssistanceDensity:i,validators:l}){const[d,c]=(0,t.useState)(l&&l.length?s(l):void 0),p=(0,t.useRef)();(0,t.useEffect)((()=>{if(!l||!l.length)return void c(void 0);c(s(l));const t=l.map((e=>e.hint)).filter(Boolean),a=p.current=Symbol(),r=e?.("resolving the async validator hints");Promise.allSettled(t).then((e=>{c((t=>{const s=e.map((e=>"fulfilled"===e.status?e.value:void 0)).filter(Boolean);return a===p.current&&s.length?[t,...s].join("\n"):t})),r?.()}))}),[l]);const m="compact"!==i?u?.sourceText:u?.definition||u?.sourceText;return{assistiveText:a(o,d,u,r?.getHint?.()??void 0,n,i),helpSourceLink:u?.source,helpSourceText:m}}})),define("oj-c/hooks/UNSAFE_useEditableValue/utils",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.treatNull=e.normalizeValue=e.isShallowEqual=e.hasErrorMessages=e.getVirtualKeyboardHintFromConverter=e.createMessageFromError=void 0;e.createMessageFromError=e=>"function"==typeof e.getMessage?{severity:"error",detail:e.getMessage().detail}:{severity:"error",detail:e.message};e.treatNull=(e,t)=>null===e?t:e;e.normalizeValue=e=>"string"==typeof e&&""===e?null:e;e.isShallowEqual=(e,t)=>e===t||e.length===t.length&&e.every(((e,a)=>e===t[a]));e.hasErrorMessages=e=>!!e&&e.some((e=>"error"===e.severity));e.getVirtualKeyboardHintFromConverter=e=>{let t;if(e&&e.resolvedOptions){const a=e.resolvedOptions();t=a?.virtualKeyboardHint??"text"}else t="text";return t}})),define("oj-c/hooks/UNSAFE_useEditableValue/converterUtils",["require","exports","./utils"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.format=function(e,a,s){if(function(e){return null===e}(e))return{result:"success",value:a};try{return{result:"success",value:s.format(e)}}catch(e){return{result:"failure",error:(0,t.createMessageFromError)(e)}}},e.parse=function(e,a,s){if(void 0===e)return{result:"success",value:null};if(r=e,""===r||null===r)return{result:"success",value:e};var r;try{return{result:"success",value:a.parse(e)}}catch(e){return{result:"failure",error:s?.(e)??(0,t.createMessageFromError)(e)}}}})),define("oj-c/editable-value/UNSAFE_useStaleIdentity/useStaleIdentity",["require","exports","preact/hooks"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useStaleIdentity=function(){const e=(0,t.useRef)(new Map);return{setStaleIdentity:(0,t.useCallback)((t=>{const a=Symbol();return e.current.set(t,a),{isStale:()=>a!==e.current.get(t)}}),[])}}})),define("oj-c/hooks/UNSAFE_useEditableValue/reducer",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reducer=function(e,t){const a=e.customMessages??[],s=e.hiddenMessages,r=e.componentMessages,n=e.shownMessages;switch(t.type){case"ADD_COMPONENT_MESSAGE":return{...e,componentMessages:[...r,t.payload],shownMessages:[...n,t.payload]};case"ADD_HIDDEN_MESSAGE":return{...e,hiddenMessages:[...s,t.payload]};case"CLEAR_ALL_MESSAGES":return{...e,shownMessages:[],hiddenMessages:[],customMessages:[],componentMessages:[]};case"SHOW_HIDDEN_MESSAGES":return 0===s.length?e:{...e,hiddenMessages:[],shownMessages:[...a,...r,...s]};case"UPDATE_DISPLAY_VALUE":return{...e,displayValue:t.payload};case"UPDATE_VALID":return{...e,valid:t.payload};case"UPDATE_VALUE":return{...e,value:t.payload};case"UPDATE_TRANSIENT_VALUE":return{...e,transientValue:t.payload};case"UPDATE_PREVIOUS_CONVERTER":return{...e,previousConverter:t.payload};case"UPDATE_PREVIOUS_DEFERRED_VALIDATORS":return{...e,previousDeferredValidators:t.payload};case"UPDATE_PREVIOUS_DISABLED":return{...e,previousDisabled:t.payload};case"UPDATE_PREVIOUS_READONLY":return{...e,previousReadonly:t.payload};case"UPDATE_PREVIOUS_VALIDATORS":return{...e,previousValidators:t.payload};case"UPDATE_PREVIOUS_VALUE":return{...e,previousValue:t.payload};case"UPDATE_COMPONENT_MESSAGES":return{...e,componentMessages:t.payload,shownMessages:[...a,...t.payload]};case"UPDATE_HIDDEN_MESSAGES":return{...e,hiddenMessages:t.payload};case"UPDATE_CUSTOM_MESSAGES":return{...e,customMessages:t.payload,shownMessages:[...t.payload,...r]};default:return e}},e.addComponentMessage=function(e,t){e({type:"ADD_COMPONENT_MESSAGE",payload:t})},e.addHiddenMessage=function(e,t){e({type:"ADD_HIDDEN_MESSAGE",payload:t})},e.clearAllMessages=function(e,t,{onMessagesCustomChanged:a}){e({type:"CLEAR_ALL_MESSAGES"}),a?.([])},e.showHiddenMessages=function(e){e({type:"SHOW_HIDDEN_MESSAGES"})},e.updateComponentMessages=function(e,t){e({type:"UPDATE_COMPONENT_MESSAGES",payload:t})},e.updateCustomMessages=function(e,t){e({type:"UPDATE_CUSTOM_MESSAGES",payload:t})},e.updateDisplayValue=function(e,t,{onRawValueChanged:a}){e({type:"UPDATE_DISPLAY_VALUE",payload:t}),a?.(t)},e.updateHiddenMessages=function(e,t){e({type:"UPDATE_HIDDEN_MESSAGES",payload:t})},e.updatePreviousConverter=function(e,t){e({type:"UPDATE_PREVIOUS_CONVERTER",payload:t})},e.updatePreviousDeferredValidators=function(e,t){e({type:"UPDATE_PREVIOUS_DEFERRED_VALIDATORS",payload:t})},e.updatePreviousDisabled=function(e,t){e({type:"UPDATE_PREVIOUS_DISABLED",payload:t})},e.updatePreviousReadonly=function(e,t){e({type:"UPDATE_PREVIOUS_READONLY",payload:t})},e.updatePreviousValidators=function(e,t){e({type:"UPDATE_PREVIOUS_VALIDATORS",payload:t})},e.updatePreviousValue=function(e,t){e({type:"UPDATE_PREVIOUS_VALUE",payload:t})},e.updateTransientValue=function(e,t,{onTransientValueChanged:a}){e({type:"UPDATE_TRANSIENT_VALUE",payload:t}),a?.(t)},e.updateValidStatus=function(e,t,{onValidChanged:a}){e({type:"UPDATE_VALID",payload:t}),a?.(t)},e.updateValue=function(e,t,{onValueChanged:a}){e({type:"UPDATE_VALUE",payload:t}),a?.(t)}})),define("oj-c/hooks/UNSAFE_useEditableValue/validationUtils",["require","exports","./utils"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateAsync=function({validators:e,value:a}){const s=(e,a)=>{try{const s=e.validate(a);if(s instanceof Promise)return s.then((()=>{}),(e=>({message:(0,t.createMessageFromError)(e),messageDisplayStrategy:e?.messageDisplayStrategy})))}catch(e){return{message:(0,t.createMessageFromError)(e),messageDisplayStrategy:e?.messageDisplayStrategy}}},r=[],n=[];for(const t of e){const e=s(t,a);void 0!==e&&(e instanceof Promise?n.push(e):r.push(e))}return{errors:r,maybeErrorPromises:n}},e.validateSync=function({validators:e,value:a}){const s=[];for(const r of e)try{r.validate(a)}catch(e){s.push((0,t.createMessageFromError)(e))}if(s.length)return{result:"failure",errors:s};return{result:"success"}}})),define("oj-c/hooks/UNSAFE_useEditableValue/useEditableValue",["require","exports","preact/hooks","./converterUtils","./utils","oj-c/editable-value/UNSAFE_useStaleIdentity/useStaleIdentity","./reducer","./validationUtils"],(function(require,e,t,a,s,r,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useEditableValue=function({addBusyState:e,ariaDescribedBy:u,converter:i,defaultDisplayValue:l,deferredValidators:d,disabled:c,displayOptions:p,messagesCustom:m,onDisplayValueChanged:v,onMessagesCustomChanged:g,onRawValueChanged:y,onTransientValueChanged:f,onValidChanged:b,onValueChanged:h,translateConverterParseError:S,readonly:V,validators:E,value:M}){const C=(0,t.useRef)(!0),{setStaleIdentity:A}=(0,r.useStaleIdentity)(),[_,D]=(0,t.useReducer)(n.reducer,{shownMessages:[],hiddenMessages:[],customMessages:m,componentMessages:[],value:M,valid:"pending"},(e=>{const t=i?(0,a.format)(M,l,i):{result:"success",value:(0,s.treatNull)(M,l)};return{...e,displayValue:"success"===t.result?t.value:l}})),x=(0,t.useRef)(),P=(0,t.useRef)(!1),w=(0,t.useCallback)((e=>{e!==x.current&&(x.current=e,b?.(e))}),[b]),R=(0,t.useCallback)(((e,t)=>(e(D,t,{onMessagesCustomChanged:g,onRawValueChanged:y,onTransientValueChanged:f,onValidChanged:w,onValueChanged:h}),!0)),[D,g,y,f,w,h]),U=(0,t.useCallback)((e=>{const t="string"==typeof e?e.trim():e;return(0,o.validateSync)({validators:d??[],value:t})}),[d]),N=(0,t.useCallback)((e=>{R(n.updateValue,e)}),[R]),j=(0,t.useCallback)((e=>{R(n.updateDisplayValue,e)}),[R]),T=(0,t.useCallback)((e=>{R(n.updateTransientValue,e)}),[R]),O=(0,t.useCallback)((e=>{let t;if(i){const r=(0,a.format)(e,l,i);"failure"===r.result?(R(n.updateComponentMessages,[r.error]),R(n.updateValidStatus,"invalidShown"),t=(0,s.treatNull)(e,l)):t=r.value}else t=(0,s.treatNull)(e,l);return t}),[i,l,R]),F=(0,t.useCallback)((e=>{const t=O(e);return R(n.updateDisplayValue,t),v?.(),!0}),[R,O,v]),I=(0,t.useCallback)((()=>"invalidShown"!==_.valid?{result:"success",value:_.value}:i?(0,a.parse)((0,s.normalizeValue)(_.displayValue),i,S):{result:"success",value:(0,s.normalizeValue)(_.displayValue)}),[i,_.displayValue,_.valid,_.value,S]),k=(0,t.useCallback)((e=>i?(0,a.parse)((0,s.normalizeValue)(e),i,S):{result:"success",value:(0,s.normalizeValue)(e)}),[i,S]),H=(0,t.useCallback)((e=>{const t=k(e);return"failure"===t.result&&(R(n.updateComponentMessages,[t.error]),R(n.updateValidStatus,"invalidShown")),t}),[R,k]),L=(0,t.useCallback)((async(t,a={})=>{const{doNotClearMessagesCustom:r=!1,forceHiddenMessagesToBeShown:u=!1}=a,i=r&&(0,s.hasErrorMessages)(m);if(r?(R(n.updateComponentMessages,[]),R(n.updateHiddenMessages,[])):R(n.clearAllMessages),!(E&&0!==E.length||d&&0!==d.length))return R(n.updateValidStatus,i?"invalidShown":"valid"),!0;const l=[],c=[],p=U(t);let v;"failure"===p.result&&l.push(...p.errors),null!=t&&(v=(0,o.validateAsync)({validators:E??[],value:t}),v.errors.forEach((({message:e,messageDisplayStrategy:t})=>{"displayOnBlur"!==t||P.current||u?l.push(e):c.push(e)})));const g=v?.maybeErrorPromises??[],y=0!==l.length||0!==c.length;if(!y&&!g.length)return R(n.updateValidStatus,i?"invalidShown":"valid"),!0;if(0!==l.length?(R(n.updateComponentMessages,l),R(n.updateValidStatus,"invalidShown")):0!==c.length&&(R(n.updateHiddenMessages,c),R(n.updateValidStatus,"invalidHidden")),!g.length)return!y;!y&&R(n.updateValidStatus,"pending");const f=e?.("running asynchronous validation"),{isStale:b}=A("useEditableValue-full-validate");let h=!1,S=!1;const V=[];for(const e of g){const t=e.then((e=>{if(e&&!b()){const{messageDisplayStrategy:t,message:a}=e;"displayOnBlur"!==t||P.current||u?(R(n.addComponentMessage,a),h=!0):(R(n.addHiddenMessage,a),S=!0)}}));V.push(t)}await Promise.all(V);const M=S||h,C=S||0!==c.length,_=h||0!==l.length;return b()||(y||M?_?R(n.updateValidStatus,"invalidShown"):C&&R(n.updateValidStatus,i?"invalidShown":"invalidHidden"):R(n.updateValidStatus,i?"invalidShown":"valid")),f?.(),!y&&!M}),[e,R,d,m,A,U,E]),q=async()=>{if(c||V)return;const e=I();if("failure"===e.result)return R(n.updateComponentMessages,[e.error]),void R(n.updateValidStatus,"invalidShown");const t=e.value;await W(t,{doNotClearMessagesCustom:!0})&&R(n.updateValue,t)&&F(t)},B=(0,t.useCallback)((e=>{R(n.clearAllMessages);const t=U(e);return"failure"===t.result&&R(n.updateHiddenMessages,t.errors),R(n.updateValidStatus,"failure"===t.result?"invalidHidden":"valid"),!0}),[R,U]),W=(0,t.useCallback)((async(t,a={})=>{const{isStale:s}=A("useEditableValue-validateValueOnInternalChange"),r=e?.("Running validateValueOnInternalChange"),n=await L(t,a);return r?.(),!s()&&n}),[e,L,A]),G=(0,t.useCallback)((async(e,t=!0)=>{const a=await W(e);return a&&t&&R(n.updateValue,e),a&&(P.current=!0),a}),[R,W]),K=(0,t.useCallback)((async({value:e})=>{const t=H(e);if("failure"===t.result)return!1;const a=t.value,s=await G(a);return s&&F(a),s}),[G,H,F]),z=(0,t.useCallback)((({value:e})=>{R(n.updateDisplayValue,e??l)}),[R,l]),Y=(0,t.useCallback)((async()=>{if(V||c)return"valid";const t=H(_.displayValue);if("failure"===t.result)return"invalid";const a=t.value,s=e?.("Running component method validate"),r=await L(a,{forceHiddenMessagesToBeShown:!0});return s?.(),r?(a!==_.value&&(R(n.updateValue,a),F(a)),"valid"):"invalid"}),[e,c,R,L,H,V,F,_.displayValue,_.value]),$=(0,t.useCallback)((()=>{B(_.value),F(_.value)}),[F,_.value,B]),J=(0,t.useCallback)((()=>{_.hiddenMessages&&_.hiddenMessages.length>0&&(R(n.showHiddenMessages),R(n.updateValidStatus,"invalidShown"))}),[R,_.hiddenMessages]),Q=(0,t.useCallback)((()=>{P.current=!1}),[]),X=(0,t.useCallback)((e=>{R(n.addComponentMessage,e)}),[R]);C.current||_.previousValue===M||(R(n.updatePreviousValue,M),M!==_.value&&(B(M),R(n.updateValue,M),F(M)));C.current||_.previousConverter===i||(R(n.updatePreviousConverter,i),"invalidShown"!==_.valid&&F(M),"invalidShown"===_.valid&&q());C.current||_.previousValidators===E||(R(n.updatePreviousValidators,E),"invalidShown"===_.valid&&q());if(!C.current&&(!_.customMessages&&m||_.customMessages&&!m||_.customMessages&&m&&!(0,s.isShallowEqual)(_.customMessages,m))){const e=_.componentMessages??[],t=_.hiddenMessages??[],a=m??[],r=(0,s.hasErrorMessages)(a),o=t.length>0,u=0===e.length&&0===t.length&&0===a.length;R(n.updateCustomMessages,a),r&&R(n.updateValidStatus,"invalidShown"),!r&&"pending"!==_.valid&&(u&&R(n.updateValidStatus,"valid")||o&&R(n.updateValidStatus,"invalidHidden"))}if(!C.current&&(_.previousDeferredValidators!==d||_.previousDisabled!==c||_.previousReadonly!==V)){const e=0===d?.length;if(_.previousDeferredValidators!==d&&R(n.updatePreviousDeferredValidators,d),_.previousDisabled!==c&&R(n.updatePreviousDisabled,c),_.previousReadonly!==V&&R(n.updatePreviousReadonly,V),e||!V&&!c)switch(_.valid){case"valid":{const e=I();if("failure"===e.result)R(n.updateComponentMessages,[e.error]),R(n.updateValidStatus,"invalidShown");else{const t=U(e.value);"failure"===t.result&&R(n.updateHiddenMessages,t.errors)&&R(n.updateValidStatus,"invalidHidden")}break}case"invalidHidden":0===d?.length&&(R(n.updateValidStatus,"valid"),R(n.updateHiddenMessages,[]));break;case"invalidShown":q()}}if(C.current)if(C.current=!1,R(n.updatePreviousValue,M),R(n.updatePreviousConverter,i),R(n.updatePreviousValidators,E),R(n.updatePreviousDeferredValidators,d),R(n.updatePreviousDisabled,c),R(n.updatePreviousReadonly,V),R(n.updateCustomMessages,m),R(n.updateTransientValue,M),c||V)R(n.updateValidStatus,"valid"),F(M);else{const e=U(M);"failure"===e.result&&R(n.updateHiddenMessages,e.errors)&&R(n.updateValidStatus,(0,s.hasErrorMessages)(m)?"invalidShown":"invalidHidden"),"success"===e.result&&R(n.updateValidStatus,(0,s.hasErrorMessages)(m)?"invalidShown":"valid")&&F(M)}return{value:_.value,addMessage:X,clearInteractionFlags:Q,displayValue:_.displayValue,formatValue:O,methods:{reset:$,showMessages:J,validate:Y},onCommitValue:G,parseValue:H,refreshDisplayValue:F,setDisplayValue:j,setTransientValue:T,setValue:N,textFieldProps:{"aria-describedby":u,messages:"none"!==p?.messages?_.shownMessages:void 0,onCommit:K,onInput:z,value:_.displayValue},validateValueOnExternalChange:B}}})),define("oj-c/hooks/UNSAFE_useEditableValue/index",["require","exports","./utils","./useEditableValue"],(function(require,e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useEditableValue=e.treatNull=e.getVirtualKeyboardHintFromConverter=void 0,Object.defineProperty(e,"getVirtualKeyboardHintFromConverter",{enumerable:!0,get:function(){return t.getVirtualKeyboardHintFromConverter}}),Object.defineProperty(e,"treatNull",{enumerable:!0,get:function(){return t.treatNull}}),Object.defineProperty(e,"useEditableValue",{enumerable:!0,get:function(){return a.useEditableValue}})})),define("oj-c/hooks/UNSAFE_useComponentMessages/useComponentMessages",["require","exports","preact/hooks"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useComponentMessages=function({evMessages:e,messagesCustom:a,readonly:s,readonlyUserAssistanceShown:r}){return(0,t.useMemo)((()=>s?"confirmationAndInfoMessages"===r?a?.filter((e=>"confirmation"===e.severity||"info"===e.severity)):[]:e),[a,s,r,e])}})),define("oj-c/editable-value/UNSAFE_useDeferredValidators/useDeferredValidators",["require","exports","ojs/ojvalidator-required","preact/hooks","@oracle/oraclejet-preact/hooks/UNSAFE_useTranslationBundle"],(function(require,e,t,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useDeferredValidators=function({labelHint:e,required:r,requiredMessageDetail:n}){const o=(0,s.useTranslationBundle)("@oracle/oraclejet-preact"),u=n||o.formControl_requiredMessageDetail(),i=(0,a.useMemo)((()=>r?new t({label:e,messageDetail:u}):null),[r]);return(0,a.useMemo)((()=>[i].filter(Boolean)),[i])}})),define("oj-c/input-number/useImplicitNumberConverter",["require","exports","ojs/ojconverter-nativenumber","preact/hooks"],(function(require,e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useImplicitNumberConverter=function({converter:e}){return(0,a.useMemo)((()=>e??new t.NumberConverter),[e])}})),define("oj-c/input-number/useImplicitNumberRangeValidator",["require","exports","preact/hooks","ojs/ojvalidator-numberrange"],(function(require,e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useImplicitNumberRangeValidator=function({converter:e,max:s,min:r,numberRangeExactMessageDetail:n,numberRangeOverflowMessageDetail:o,numberRangeUnderflowMessageDetail:u}){return(0,t.useMemo)((()=>void 0!==r||void 0!==s?new a({converter:e,max:s,min:r,messageDetail:{exact:n,rangeOverflow:o,rangeUnderflow:u}}):null),[e,r,s,n,o,u])}})),
/**
 * @license
 * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("oj-c/input-number/stepBasisUtils",["require","exports"],(function(require,e){"use strict";function t(e,t,a,s,r,n){let o=null!=n?n:s;null==o&&(o=0);try{a=parseFloat(a.toFixed(0))}catch(e){e instanceof TypeError&&(a=+a)}let u=a-o,i=Math.round(u/t)*t;i=parseFloat(i.toFixed(0));let l;if(i===u?l=a+e:(u=e<0?Math.ceil(u/t)*t:Math.floor(u/t)*t,l=o+u+e),l=parseFloat(l.toFixed(0)),null!=n&&l<n)return n;if(null!=r&&l>r){let e=Math.floor((r-o)/t)*t+o;return e=parseFloat(e.toFixed(0)),e}return l}function a(e){const t=e.toString(),a=t.indexOf(".");return-1===a?0:t.length-a-1}Object.defineProperty(e,"__esModule",{value:!0}),e.determineSteppedValue=function(e,s,r,n,o,u){const i=function(e,t,s){let r=a(e);null!=s&&(r=Math.max(r,a(s)));null!=t&&(r=Math.max(r,a(t)));return r}(s,n,u);if(i>0){const a=Math.pow(10,i),l=void 0!==u?Math.round(u*a):u,d=null!=o?Math.round(o*a):o,c=Math.round(s*a);return t(Math.round(e*a),c,Math.round(r*a),null!=n?Math.round(n*a):n,d,l)/a}return t(e,s,r,n,o,u)}})),define("oj-c/input-number/useNumberInputTextPreact",["require","exports","preact/hooks","oj-c/hooks/UNSAFE_useEditableValue/index","oj-c/hooks/UNSAFE_useComponentMessages/useComponentMessages","oj-c/editable-value/UNSAFE_useDeferredValidators/useDeferredValidators","./useImplicitNumberConverter","./useImplicitNumberRangeValidator","preact/hooks","./stepBasisUtils","@oracle/oraclejet-preact/hooks/UNSAFE_useTranslationBundle","ojs/ojconverter-nativenumber"],(function(require,e,t,a,s,r,n,o,u,i,l,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useNumberInputTextPreact=function({autocomplete:e="on",autofocus:c,converter:p,disabled:m,displayOptions:v,inputPrefix:g,inputSuffix:y,labelEdge:f,labelHint:b,labelStartWidth:h,max:S,messagesCustom:V,min:E,numberRangeExactMessageDetail:M,numberRangeOverflowMessageDetail:C,numberRangeUnderflowMessageDetail:A,placeholder:_,readonly:D,readonlyUserAssistanceShown:x,required:P,requiredMessageDetail:w,step:R,stepperVariant:U,textAlign:N,userAssistanceDensity:j,validators:T,value:O,virtualKeyboard:F,onMessagesCustomChanged:I,onRawValueChanged:k,onTransientValueChanged:H,onValidChanged:L,onValueChanged:q,...B},W){const G=(0,a.treatNull)(E),K=(0,a.treatNull)(S),z=(0,n.useImplicitNumberConverter)({converter:p}),Y=(0,o.useImplicitNumberRangeValidator)({converter:z,max:K,min:G,numberRangeExactMessageDetail:M,numberRangeOverflowMessageDetail:C,numberRangeUnderflowMessageDetail:A}),$=(0,t.useMemo)((()=>[...Y?[Y]:[],...T||[]]),[Y,T]),J=(0,r.useDeferredValidators)({labelHint:b,required:P,requiredMessageDetail:w}),Q=(0,l.useTranslationBundle)("@oracle/oraclejet-preact").inputNumber_converterParseError(),X=(0,u.useCallback)((e=>e?.cause===d.USER_INPUT_ERROR?{severity:"error",detail:Q}:void 0),[Q]),{onCommitValue:Z,formatValue:ee,parseValue:te,methods:ae,textFieldProps:se,value:re,setValue:ne,displayValue:oe,setDisplayValue:ue,setTransientValue:ie}=(0,a.useEditableValue)({addBusyState:W,ariaDescribedBy:B["aria-describedby"],converter:z,defaultDisplayValue:"",deferredValidators:J,disabled:m,displayOptions:v,messagesCustom:V,onMessagesCustomChanged:I,onRawValueChanged:k,onTransientValueChanged:H,onValidChanged:L,onValueChanged:q,readonly:D,translateConverterParseError:X,validators:$,value:O}),{messages:le,...de}=se,ce=(0,s.useComponentMessages)({evMessages:le,messagesCustom:V,readonly:D,readonlyUserAssistanceShown:x}),pe=void 0!==G,me=void 0!==K,ve=(0,u.useRef)(!1),ge=(0,u.useRef)(new Array),ye=(0,u.useRef)(oe),fe=(0,u.useRef)((0,a.treatNull)(O));O!==re&&(fe.current=(0,a.treatNull)(O));const[be,he]=(0,u.useState)((0,a.treatNull)(re)),[Se,Ve]=(0,u.useState)(re);re!==Se&&(Ve(re),he((0,a.treatNull)(re)),ie(re));const[Ee,Me]=(0,u.useState)(!1);ye.current=oe;const Ce=(0,u.useCallback)((async({value:e})=>{Me(!1);const t=te(e);if("failure"===t.result)return void he(void 0);const a=t.value;if(await Z(a)){const e=ee(a);ue(e)}else he(a??void 0)}),[ee,te,Z,ue]),Ae=(0,u.useCallback)((({value:e})=>{ue(e??""),Me(!0)}),[ue]),_e={...de,onCommit:Ce,onInput:Ae},De=(0,u.useCallback)((async(e,t)=>{if(void 0===R||ve.current)return;const a=ye.current||"0",s=te(a);if("failure"===s.result)return;const r=s.value;let n;if(void 0!==e){const t="increase"===e?R:-1*R;n=(0,i.determineSteppedValue)(t,R,r,fe.current,K,G)}else n=r;ve.current=!0;const o=ee(n);ue(o),ye.current=o;const u=await Z(n,t),l=t&&u;!1===t&&u&&ie(n),l||he(n),ve.current=!1}),[ee,K,G,te,Z,ue,ie,R]),xe=(0,u.useCallback)((async e=>{if(await De(e,!0),ge.current.length>0){const e=ge.current.shift();xe(e)}}),[De]),Pe=(0,u.useCallback)((async({direction:e})=>{ve.current?ge.current.push(e):xe(e)}),[xe]),we=(0,u.useCallback)((async({direction:e})=>{ge.current=[],De(e,!1)}),[De]),Re=(0,u.useCallback)((async()=>{const e=te(ye.current);"failure"!==e.result&&await Z(e.value)}),[Z,te]),Ue=(0,u.useRef)(),Ne=(0,u.useRef)(),je=(0,u.useRef)(),Te=(0,u.useRef)();let Oe;Ee!==je.current||oe!==Ne.current||be!==Ue.current?(Oe=function(e,t,a,s){if(!e)return""!==t?t:void 0;let r;a&&(r=s(a));return""===r||null===r?void 0:r}(Ee,oe,be,ee),je.current=Ee,Ne.current=oe,Ue.current=be,Te.current=Oe):Oe=Te.current;const Fe="auto"===F?(0,a.getVirtualKeyboardHintFromConverter)(z):F;return{value:re,setValue:ne,methods:ae,inputNumberProps:{"aria-valuemax":K,"aria-valuemin":G,"aria-valuenow":be??void 0,"aria-valuetext":Oe,autoComplete:e,autoFocus:c,hasSteppers:void 0!==R&&R>0,isDisabled:m,isReadonly:D,isRequired:P,isRequiredShown:P&&("compact"===j||void 0===(0,a.treatNull)(re)),label:b,labelEdge:f,labelStartWidth:h,stepperVariant:U,onSpin:R?we:void 0,onSpinComplete:R?Re:void 0,onStep:R?Pe:void 0,placeholder:_,prefix:g,suffix:y,isStepDownDisabled:m||pe&&(void 0!==be&&be<=G||""===oe&&0===G),isStepUpDisabled:m||me&&(void 0!==be&&be>=K||""===oe&&0===K),messages:ce,textAlign:N,userAssistanceDensity:j,virtualKeyboard:Fe,..._e}}}})),define("oj-c/input-number/input-number",["require","exports","preact/jsx-runtime","@oracle/oraclejet-preact/translationBundle","@oracle/oraclejet-preact/hooks/UNSAFE_useFormContext","oj-c/hooks/UNSAFE_useMergedFormContext/useMergedFormContext","@oracle/oraclejet-preact/hooks/UNSAFE_useFormVariantContext","@oracle/oraclejet-preact/hooks/UNSAFE_useTabbableMode","@oracle/oraclejet-preact/UNSAFE_NumberInputText","oj-c/editable-value/UNSAFE_useAssistiveText/useAssistiveText","ojs/ojcontext","ojs/ojvcomponent","preact/compat","preact/hooks","./useNumberInputTextPreact","@oracle/oraclejet-preact/utils/UNSAFE_classNames","@oracle/oraclejet-preact/utils/UNSAFE_styles/FormControl","@oracle/oraclejet-preact/utils/UNSAFE_styles/Layout","@oracle/oraclejet-preact/UNSAFE_TextField","@oracle/oraclejet-preact/hooks/UNSAFE_useComponentTheme","css!oj-c/input-number/input-number-styles.css"],(function(require,e,t,a,s,r,n,o,u,i,l,d,c,p,m,v,g,y,f,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputNumber=void 0;const h={converterHint:"display",messages:"display",validatorHint:"display"},S={instruction:""},V={definition:"",source:""},E=[],M=[];e.InputNumber=(0,d.registerCustomElement)("oj-c-input-number",(0,c.forwardRef)((({autocomplete:e="on",columnSpan:a=1,converter:o=null,containerReadonly:c,disabled:C=!1,displayOptions:A=h,help:_=S,helpHints:D=V,id:x,labelWrapping:P,messagesCustom:w=E,readonly:R,readonlyUserAssistanceShown:U="none",required:N=!1,stepperVariant:j="directional",textAlign:T,userAssistanceDensity:O,validators:F=M,virtualKeyboard:I="auto",value:k=null,...H},L)=>{const q=(0,p.useRef)(),B=(0,p.useRef)(),W=(0,p.useCallback)(((e="InputNumber: busyState")=>q.current?l.getContext(q.current).getBusyContext().addBusyState({description:`oj-c-input-number id=${x} is ${e}`}):()=>{}),[x]),{containerProps:G,uadValue:K,readonlyValue:z}=(0,r.useMergedFormContext)({propContainerReadonly:c,propLabelWrapping:P,propReadonly:R,propUserAssistanceDensity:O,propTextAlign:T}),{inputNumberProps:Y,methods:$}=(0,m.useNumberInputTextPreact)({autocomplete:e,converter:o,disabled:C,displayOptions:A,messagesCustom:w,readonly:z,readonlyUserAssistanceShown:U,required:N,stepperVariant:j,userAssistanceDensity:K,validators:F,virtualKeyboard:I,value:k,...H},W);(0,p.useImperativeHandle)(L,(()=>({blur:()=>B.current?.blur(),focus:()=>B.current?.focus(),...$})),[$]);const J=(0,i.useAssistiveText)({displayOptions:A,help:_,helpHints:D,userAssistanceDensity:Y.userAssistanceDensity,validators:F}),Q=(0,n.useFormVariantContext)();if(void 0!==H.step&&H.step<0)throw new Error("step must be a positive number");if(null!=H.min&&null!=H.max&&H.max<H.min)throw new Error("max cannot be less than min");const{classes:X}=(0,b.useComponentTheme)(f.TextFieldRedwoodTheme,{maxWidth:"md"===H.maxWidth||"sm"===H.maxWidth?H.maxWidth:"none",width:"md"===H.width||"sm"===H.width?H.width:"none"}),Z=(0,v.classNames)([y.layoutSpanStyles.layoutSpanColumn[a],Q&&["embedded","legacyEmbedded"].includes(Q)&&g.formControlStyles.embeddedRoot,G.isFormLayout&&"in-form-layout",X]),ee={style:{width:"md"===H.width||"sm"===H.width?void 0:H.width,maxWidth:"md"===H.maxWidth||"sm"===H.maxWidth?void 0:H.maxWidth}};return(0,t.jsx)(d.Root,{id:x,ref:q,class:Z,...ee,"data-oj-renders-label":!0,children:(0,t.jsx)(s.FormContext.Provider,{value:G,children:(0,t.jsx)(u.NumberInputText,{ref:B,...J,...Y,columnSpan:a,variant:Q})})})})),"InputNumber",{properties:{autocomplete:{type:"string"},columnSpan:{type:"number"},containerReadonly:{type:"boolean",binding:{consume:{name:"containerReadonly"}}},converter:{type:"object|null"},disabled:{type:"boolean"},displayOptions:{type:"object",properties:{converterHint:{type:"string",enumValues:["none","display"]},messages:{type:"string",enumValues:["none","display"]},validatorHint:{type:"string",enumValues:["none","display"]}}},help:{type:"object",properties:{instruction:{type:"string"}}},helpHints:{type:"object",properties:{definition:{type:"string"},source:{type:"string"},sourceText:{type:"string"}}},inputPrefix:{type:"string"},inputSuffix:{type:"string"},labelEdge:{type:"string",enumValues:["none","start","top","inside"],binding:{consume:{name:"containerLabelEdge"}}},labelHint:{type:"string"},labelStartWidth:{type:"number|string",binding:{consume:{name:"labelWidth"}}},labelWrapping:{type:"string",enumValues:["truncate","wrap"],binding:{consume:{name:"labelWrapping"}}},max:{type:"number|null"},maxWidth:{type:"number|string"},min:{type:"number|null"},messagesCustom:{type:"Array<object>",writeback:!0},numberRangeExactMessageDetail:{type:"string"},numberRangeOverflowMessageDetail:{type:"string"},numberRangeUnderflowMessageDetail:{type:"string"},placeholder:{type:"string"},readonly:{type:"boolean",binding:{consume:{name:"containerReadonly"}}},readonlyUserAssistanceShown:{type:"string",enumValues:["none","confirmationAndInfoMessages"]},required:{type:"boolean"},requiredMessageDetail:{type:"string"},step:{type:"number"},stepperVariant:{type:"string",enumValues:["directional","quantitative"]},textAlign:{type:"string",enumValues:["end","start","right"]},userAssistanceDensity:{type:"string",enumValues:["compact","reflow","efficient"],binding:{consume:{name:"containerUserAssistanceDensity"}}},validators:{type:"Array<object>|null"},value:{type:"number|null",writeback:!0},virtualKeyboard:{type:"string",enumValues:["number","auto","text"]},width:{type:"number|string"},rawValue:{type:"string",readOnly:!0,writeback:!0},transientValue:{type:"number|null",readOnly:!0,writeback:!0},valid:{type:"string",enumValues:["pending","valid","invalidHidden","invalidShown"],readOnly:!0,writeback:!0}},extension:{_WRITEBACK_PROPS:["messagesCustom","rawValue","transientValue","valid","value"],_READ_ONLY_PROPS:["rawValue","transientValue","valid"],_OBSERVED_GLOBAL_PROPS:["aria-describedby","id","autofocus"]},methods:{blur:{},focus:{},showMessages:{},reset:{},validate:{}}},{autocomplete:"on",columnSpan:1,converter:null,disabled:!1,displayOptions:{converterHint:"display",messages:"display",validatorHint:"display"},help:{instruction:""},helpHints:{definition:"",source:""},messagesCustom:[],readonlyUserAssistanceShown:"none",required:!1,stepperVariant:"directional",validators:[],virtualKeyboard:"auto",value:null},{"@oracle/oraclejet-preact":a.default},{consume:[s.FormContext,n.FormVariantContext,o.TabbableModeContext]})})),define("oj-c/input-number",["require","exports","oj-c/input-number/input-number"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputNumber=void 0,Object.defineProperty(e,"InputNumber",{enumerable:!0,get:function(){return t.InputNumber}})}));
//# sourceMappingURL=input-number.js.map