/**
 * @license
 * Copyright (c) 2014, 2025, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define(["exports","preact/jsx-runtime","ojs/ojvcomponent","preact","ojs/ojdomutils","preact/hooks"],function(e,t,s,l,o,r){"use strict";var c=function(e,t,s,l){var o,r=arguments.length,c=r<3?t:null===l?l=Object.getOwnPropertyDescriptor(t,s):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,s,l);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(c=(r<3?o(c):r>3?o(t,s,c):o(t,s))||c);return r>3&&c&&Object.defineProperty(t,s,c),c};e.Selector=class extends l.Component{constructor(e){super(e),this.ref=l.createRef(),this._handleFocusin=e=>{this.setState({focus:!0})},this._handleFocusout=e=>{this.setState({focus:!1})},this._checkboxListener=e=>{const{selectedKeys:t,rowKey:s,selectionMode:l,indeterminate:o}=this.props;let r;null!=t&&(e.target.checked?"multiple"===l?r=t.add([s]):"all"===l?r=t.addAll():"single"!==l||t.has(s)||(r=t.clear().add([s])):r="all"===l?o?t.addAll():t.clear():t.delete([s]),this.props.onSelectedKeysChanged?.(r),this.props.onIndeterminateChanged?.(!1))},this.state={focus:!1}}render(e,l){const{rowKey:c,indeterminate:n}=e,i=this._isSelected(c);let a="oj-selector-wrapper oj-component-icon";n?a+=" oj-indeterminate":i&&(a+=" oj-selected"),l.focus&&!o.recentPointer()&&(a+=" oj-focus-highlight");const d=e["aria-labelledby"]||null,u=e["aria-label"]||null,h=e["aria-describedby"]||null,p=n?"mixed":i;return r.useEffect(()=>{const e=this.ref;e?.current&&(e.current.indeterminate=n)},[this.ref,n]),t.jsx(s.Root,{class:"oj-selector",children:t.jsx("span",{class:a,children:t.jsx("input",{ref:this.ref,type:"checkbox",class:"oj-selectorbox","data-oj-clickthrough":"disabled","aria-label":u,"aria-labelledby":d,"aria-describedby":h,"aria-checked":p,checked:i,onfocusin:this._handleFocusin,onfocusout:this._handleFocusout,onClick:this._checkboxListener})})})}_isSelected(e){const{selectedKeys:t,selectionMode:s}=this.props;return!!t&&("all"===s?t.isAddAll():t.has(e))}},e.Selector.defaultProps={rowKey:null,indeterminate:!1,selectedKeys:null,selectionMode:"multiple"},e.Selector._metadata={properties:{rowKey:{type:"any"},indeterminate:{type:"boolean",writeback:!0},selectedKeys:{type:"object",writeback:!0},selectionMode:{type:"string",enumValues:["all","multiple","single"]}},extension:{_WRITEBACK_PROPS:["selectedKeys","indeterminate"],_READ_ONLY_PROPS:[],_OBSERVED_GLOBAL_PROPS:["aria-label","aria-labelledby","aria-describedby"]}},e.Selector=c([s.customElement("oj-selector")],e.Selector),Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojselector.js.map