{"version":3,"file":"GroupLoadingIndicator-87f32efc.js","sources":["../../src/PRIVATE_List/ListGroupHeader.tsx","../../src/PRIVATE_List/GroupLoadingIndicator.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { ComponentChildren } from 'preact';\nimport { useState } from 'preact/hooks';\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport { Keys, containsKey } from '../utils/UNSAFE_keys';\nimport { useId } from '../hooks/UNSAFE_useId';\nimport { ToggleDetail } from '../UNSAFE_Collection';\nimport { useViewportIntersect, ViewportConfig } from '../hooks/UNSAFE_useViewportIntersect';\nimport { TabbableModeContext } from '../hooks/UNSAFE_useTabbableMode';\nimport { useComponentTheme } from '../hooks/UNSAFE_useComponentTheme';\nimport { useInteractionStyle } from '../hooks/UNSAFE_useInteractionStyle';\nimport { mergeInterpolations } from '../utils/UNSAFE_mergeInterpolations';\nimport { flexitemInterpolations } from '../utils/UNSAFE_interpolations/flexitem';\nimport type { FlexitemProps } from '../utils/UNSAFE_interpolations/flexitem';\nimport { GroupedListStyles } from 'src/UNSAFE_GroupedList/themes/GroupedListStyles.css';\nimport { listGroupHeaderMultiVariantStyles } from './themes/ListStyles.css';\nimport { GroupedListRedwoodTheme } from '../UNSAFE_GroupedList/themes/redwood/GroupedListTheme';\n\n// default style class for items in ListView\nexport const GROUP_SELECTOR = '[data-oj-listview-group]';\nexport const STICKY_SELECTOR = '[data-oj-listview-sticky]';\n\n/**\n * Props for the ListViewItem Component\n */\nexport type Props<K> = {\n  children: ComponentChildren;\n  itemKey: K;\n  itemIndex: number;\n  itemDepth: number;\n  isFocused: boolean;\n  isFocusRingVisible: boolean;\n  isActive: boolean;\n  isGridlineVisible: boolean;\n  isExpandable: boolean;\n  expandedKeys: Keys<K>;\n  ariaDescribedBy?: string;\n  onToggle?: (detail: ToggleDetail<K>) => void;\n  viewportConfig?: ViewportConfig;\n};\n\n/**\n * The internal component used to render a group header in ExpandableList and GroupedList.\n */\nexport function ListGroupHeader<K extends string | number>({\n  ariaDescribedBy,\n  children,\n  itemKey,\n  itemIndex,\n  itemDepth,\n  isFocused,\n  isFocusRingVisible,\n  isActive,\n  isGridlineVisible,\n  isExpandable,\n  expandedKeys,\n  viewportConfig\n}: Props<K>) {\n  const [isStuck, setStuck] = useState(false);\n\n  const { classes: groupedListThemeClasses, styles: groupedListStyles } = useComponentTheme<\n    never,\n    GroupedListStyles\n  >(GroupedListRedwoodTheme);\n\n  const { interactionProps, applyHoverStyle, applyPseudoHoverStyle, applyActiveStyle } =\n    useInteractionStyle();\n\n  const variantClasses = listGroupHeaderMultiVariantStyles({\n    expandable: isExpandable ? 'isExpandable' : 'notExpandable',\n    needsEventsHover: applyHoverStyle ? 'isNeedsEventsHover' : 'notNeedsEventsHover',\n    pseudoHover: applyPseudoHoverStyle ? 'isPseudoHover' : 'notPseudoHover',\n    active: applyActiveStyle || isActive ? 'isActive' : 'notActive',\n    focusRingVisible:\n      isFocusRingVisible && isFocused ? 'isFocusRingVisible' : 'notFocusRingVisible',\n    gridlineTop: itemIndex > 0 ? 'visible' : 'hidden',\n    gridlineBottom: isGridlineVisible ? 'visible' : 'hidden'\n  });\n\n  const baseClasses = [variantClasses];\n  if (isStuck) {\n    baseClasses.push(groupedListThemeClasses);\n    baseClasses.push(groupedListStyles.stuckHeader);\n  }\n\n  const classes = classNames(baseClasses);\n  const styleInterpolations = mergeInterpolations<FlexitemProps>([\n    ...Object.values(flexitemInterpolations)\n  ]);\n  const { class: cls, ...cellStyles } = styleInterpolations({\n    alignSelf: 'center',\n    flex: '1 0 auto'\n  });\n\n  useViewportIntersect(\n    {\n      scroller: () => {\n        if (isExpandable) {\n          return null;\n        }\n        if (viewportConfig == null) {\n          return document.body;\n        }\n        return viewportConfig.scroller();\n      }\n    },\n    0,\n    1,\n    '[data-oj-key=' + itemKey + ']',\n    () => {\n      setStuck(false);\n    },\n    (entry: IntersectionObserverEntry) => {\n      if (entry.boundingClientRect.y !== entry.intersectionRect.y) {\n        setStuck(true);\n      }\n    }\n  );\n  return (\n    <div\n      id={useId()}\n      role=\"row\"\n      aria-rowindex={itemIndex + 1}\n      aria-level={isNaN(itemDepth) ? undefined : itemDepth + 1}\n      data-oj-key={itemKey}\n      data-oj-listview-group=\"\"\n      class={classes}\n      {...(typeof itemKey === 'number' && { 'data-oj-key-type': 'number' })}\n      {...interactionProps}>\n      <div\n        id={useId()}\n        role=\"gridcell\"\n        aria-describedby={ariaDescribedBy}\n        aria-colindex={1}\n        aria-expanded={containsKey(expandedKeys, itemKey)}\n        style={cellStyles}>\n        <TabbableModeContext.Provider value={{ isTabbable: false }}>\n          {children}\n        </TabbableModeContext.Provider>\n      </div>\n    </div>\n  );\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nimport { Flex } from '../UNSAFE_Flex';\nimport { Skeleton } from '../UNSAFE_Skeleton';\nimport { SkeletonContainer } from './SkeletonContainer';\n\nexport const GroupLoadingIndicator = () => (\n  <SkeletonContainer minimumCount={3}>\n    {(index: number) => {\n      const padding = { paddingLeft: index * 10 + 'px' };\n      return (\n        <Flex height=\"12x\" align=\"center\">\n          <span style={padding}></span>\n          <Skeleton height=\"4x\" />\n        </Flex>\n      );\n    }}\n  </SkeletonContainer>\n);\n"],"names":["_jsx","jsx","SkeletonContainer","minimumCount","index","padding","paddingLeft","_jsxs","jsxs","Flex","height","align","children","style","Skeleton","ariaDescribedBy","itemKey","itemIndex","itemDepth","isFocused","isFocusRingVisible","isActive","isGridlineVisible","isExpandable","expandedKeys","viewportConfig","isStuck","setStuck","useState","classes","groupedListThemeClasses","styles","groupedListStyles","useComponentTheme","GroupedListRedwoodTheme","interactionProps","applyHoverStyle","applyPseudoHoverStyle","applyActiveStyle","useInteractionStyle","baseClasses","listGroupHeaderMultiVariantStyles","expandable","needsEventsHover","pseudoHover","active","focusRingVisible","gridlineTop","gridlineBottom","push","stuckHeader","classNames","styleInterpolations","mergeInterpolations","Object","values","flexitemInterpolations","class","cls","cellStyles","alignSelf","flex","useViewportIntersect","scroller","document","body","entry","boundingClientRect","y","intersectionRect","id","useId","role","isNaN","undefined","containsKey","TabbableModeContext","Provider","value","isTabbable"],"mappings":"ihBAyB8B,mDCdO,IACnCA,EAAAC,IAACC,oBAAiB,CAACC,aAAc,WAC7BC,IACA,MAAMC,EAAU,CAAEC,YAAqB,GAARF,EAAa,MAC5C,OACEG,EAACC,KAAAC,OAAK,CAAAC,OAAO,MAAMC,MAAM,SACvBC,SAAA,CAAAZ,MAAA,OAAA,CAAMa,MAAOR,IACbL,MAACc,EAAAA,SAAQ,CAACJ,OAAO,SAEnB,sBD8BF,UAAqDK,gBACzDA,EAAeH,SACfA,EAAQI,QACRA,EAAOC,UACPA,EAASC,UACTA,EAASC,UACTA,EAASC,mBACTA,EAAkBC,SAClBA,EAAQC,kBACRA,EAAiBC,aACjBA,EAAYC,aACZA,EAAYC,eACZA,IAEA,MAAOC,EAASC,GAAYC,EAAQA,UAAC,IAE7BC,QAASC,EAAyBC,OAAQC,GAAsBC,EAAAA,kBAGtEC,EAAAA,0BAEIC,iBAAEA,EAAgBC,gBAAEA,EAAeC,sBAAEA,EAAqBC,iBAAEA,GAChEC,EAAAA,sBAaIC,EAAc,CAXGC,EAAAA,kCAAkC,CACvDC,WAAYnB,EAAe,eAAiB,gBAC5CoB,iBAAkBP,EAAkB,qBAAuB,sBAC3DQ,YAAaP,EAAwB,gBAAkB,iBACvDQ,OAAQP,GAAoBjB,EAAW,WAAa,YACpDyB,iBACE1B,GAAsBD,EAAY,qBAAuB,sBAC3D4B,YAAa9B,EAAY,EAAI,UAAY,SACzC+B,eAAgB1B,EAAoB,UAAY,YAI9CI,IACFc,EAAYS,KAAKnB,GACjBU,EAAYS,KAAKjB,EAAkBkB,cAGrC,MAAMrB,EAAUsB,aAAWX,GACrBY,EAAsBC,EAAAA,oBAAmC,IAC1DC,OAAOC,OAAOC,6BAEXC,MAAOC,KAAQC,GAAeP,EAAoB,CACxDQ,UAAW,SACXC,KAAM,aA2BR,OAxBAC,uBACE,CACEC,SAAU,IACJxC,EACK,KAEa,MAAlBE,EACKuC,SAASC,KAEXxC,EAAesC,YAG1B,EACA,EACA,gBAAkB/C,EAAU,KAC5B,KACEW,GAAS,EAAM,IAEhBuC,IACKA,EAAMC,mBAAmBC,IAAMF,EAAMG,iBAAiBD,GACxDzC,GAAS,EACV,IAIH3B,EAAAA,WACEsE,GAAIC,EAAKA,QACTC,KAAK,sBACUvD,EAAY,EACf,aAAAwD,MAAMvD,QAAawD,EAAYxD,EAAY,gBAC1CF,EAAO,yBACG,GACvByC,MAAO5B,KACiB,iBAAZb,GAAwB,CAAE,mBAAoB,aACtDmB,EACJvB,SAAAZ,EAAAC,IAAA,MAAA,CACEqE,GAAIC,EAAAA,QACJC,KAAK,WAAU,mBACGzD,EACH,gBAAA,kBACA4D,EAAWA,YAACnD,EAAcR,GACzCH,MAAO8C,EACP/C,SAAAZ,EAAAA,IAAC4E,EAAAA,oBAAoBC,UAASC,MAAO,CAAEC,YAAY,GAAOnE,SACvDA,OAKX,oBA1H+B"}