{"version":3,"file":"useDoubleTap-b6bf5458.js","sources":["../../src/hooks/UNSAFE_useDoubleTap/useDoubleTap.ts"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\nimport { useCallback, useRef } from 'preact/hooks';\n\ntype CallbackFunction = (event: Event) => void;\n\ntype UseDoubleTapProps = {\n  isSingleTapImmediate?: boolean;\n  onDoubleTap: CallbackFunction;\n  onSingleTap?: CallbackFunction;\n  threshold?: number;\n};\n\n/**\n * A hook that supports double tap on mobile. You can optionally pass an onSingleTap handler\n * which is called if the user taps once, but doesn't tap again within the threshold waiting\n * period (isSingleTapImmediate = false). If isSingleTapImmediate is true, onSingleTap is\n * invoked immediately after the first tap.\n *\n * If the user taps again within the threshold wait period, then onDoubleTap is called.\n */\nexport function useDoubleTap({\n  isSingleTapImmediate = true,\n  onDoubleTap,\n  onSingleTap,\n  threshold = 400\n}: UseDoubleTapProps) {\n  const timerRef = useRef<ReturnType<typeof setTimeout> | null>(null);\n\n  const handler = useCallback(\n    (event: MouseEvent) => {\n      if (!timerRef.current) {\n        isSingleTapImmediate && onSingleTap?.(event);\n        timerRef.current = setTimeout(() => {\n          !isSingleTapImmediate && onSingleTap?.(event);\n          timerRef.current = null;\n        }, threshold);\n      } else {\n        clearTimeout(timerRef.current);\n        timerRef.current = null;\n        onDoubleTap?.(event);\n      }\n    },\n    [isSingleTapImmediate, onDoubleTap, onSingleTap, threshold]\n  );\n\n  return { onClick: handler };\n}\n"],"names":["isSingleTapImmediate","onDoubleTap","onSingleTap","threshold","timerRef","useRef","onClick","useCallback","event","current","clearTimeout","setTimeout"],"mappings":"6EA2BgB,UAAaA,qBAC3BA,GAAuB,EAAIC,YAC3BA,EAAWC,YACXA,EAAWC,UACXA,EAAY,MAEZ,MAAMC,EAAWC,SAA6C,MAmB9D,MAAO,CAAEC,QAjBOC,eACbC,IACMJ,EAASK,SAOZC,aAAaN,EAASK,SACtBL,EAASK,QAAU,KACnBR,IAAcO,KARdR,GAAwBE,IAAcM,GACtCJ,EAASK,QAAUE,YAAW,MAC3BX,GAAwBE,IAAcM,GACvCJ,EAASK,QAAU,IAAI,GACtBN,GAKJ,GAEH,CAACH,EAAsBC,EAAaC,EAAaC,IAIrD"}