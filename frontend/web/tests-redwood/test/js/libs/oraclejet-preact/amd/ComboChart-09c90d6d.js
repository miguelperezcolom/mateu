define(['exports', 'preact/jsx-runtime', './utils-8ccd1b88', './chartUtils-d0a5aa01', './LineSeries-53e65053', './dataStyleUtils-9895ff76', './useUser-988f7da2', './colorUtils-7aaca9f1', './accUtils-acd70e81', './themeContract.css-2e4b066d', './BarGroup-c171e6cb', './Chart-eda7af0e'], (function(e,t,i,a,r,s,n,o,d,l,c,h){"use strict";function g({width:e,height:d,selectedIds:g=[],hiddenIds:I=[],highlightedIds:x,hideAndShowBehavior:m="none",orientation:u="vertical",yAxis:y,series:S,groups:f,isStacked:A=!1,getDataItem:C,selectionMode:v="none",drilling:b="off",dataItemGaps:T=.5,dataLabelEffect:D="outline",...L}){const{direction:k,forcedColors:R}=n.useUser(),j="active"===R,M=S.filter((e=>"bar"===e.type)),U="rtl"===k,B="log"===y?.scale,P=L.xAxis?.timeAxisType,W=new Set(I),E=new Set(g),G=new Set(x),w="horizontal"===u,z=o.getColorRamp();let F=i.getSeriesData(S.length,f.length,C,W,B);const H=(e,t)=>A?{...C(e,t),value:F[e][t]}:C(e,t),N="number"==typeof L.y2Axis?.split,O=i.getMarkers(),q=[],{hasBar:V,hasCenteredSeries:Y,hasUncenteredSeries:Z,hasArea:J}=S.reduce(((e,t)=>({hasArea:e.hasArea||"area"===t.type||"lineWithArea"===t.type,hasBar:e.hasBar||"bar"===t.type,hasCenteredSeries:e.hasCenteredSeries||"centeredSegmented"===t.lineType||"centeredStepped"===t.lineType,hasUncenteredSeries:e.hasUncenteredSeries||"segmented"===t.lineType||"stepped"===t.lineType})),{hasBar:!1,hasCenteredSeries:!1,hasUncenteredSeries:!1,hasArea:!1});return t.jsx(h.Chart,{width:e,height:d,selectedIds:E,hiddenIds:I,hideAndShowBehavior:m,orientation:u,yAxis:y,series:S,defaultOverviewContentRenderer:()=>t.jsx(p,{groups:f,series:S,getDataItem:C}),groups:f,selectionMode:v,drilling:b,isStacked:A,getDataItem:C,findNearest:(e,t,a)=>i.findNearestDataPoint(S,f,e,t,H,A,(()=>({offset:0,dataWidth:0})),((e,t)=>t.transform(e)),B,0,W,P,a),getDataItemPos:(e,t,i,r,s,n)=>{const o=V?c.getBarPosition(M,f,C,e,t,i,W,T,r,s,n,"log"===y?.scale,A,U,w,N,P):void 0;return(i,r)=>"bar"===S[i].type?o?o(i,r):void 0:a.getLineAreaChartItemPosition(i,r,F,C,f,w,e,t,P)},getMarkerInfo:(e,t)=>({color:s.getItemColor(e,t,S,C),markerType:s.getMarkerType(e,t,C)}),renderGridLinesInFront:J,getNavUtil:(e,t)=>s.getLineAreaChartNavUtil(C,S.length,e,t,A,U,w),getGapRatio:()=>1,getStartAndEndAxesOffset:e=>i.getStartAndEndAxesOffset(Y,Z,w,e,V),isRtl:U,...L,children:({xStartIndex:e,xEndIndex:s,xScale:n,groupsInfo:o,yScale:d,y2Scale:h,activeId:g,focusedItemInfo:p,hoveredItemInfo:I,isPointInsideMarquee:m,getTextDimensions:f,defaultFontSize:k,axisStepWidth:R,averageGroupZ:V,getItemAriaLabel:Y,plotAreaClipPathId:Z})=>{let J=-1;const K=o.map((({item:e})=>e));return F=i.getSeriesData(S.length,K.length,C,W,B),t.jsx(t.Fragment,{children:F.map(((o,Q)=>{const X=S[Q],$="y2"===X.associatedYAxis,_="lineWithArea"===X.type?.2:1,ee="area"===X.type||"lineWithArea"===X.type,te="area"===X.type;if(0===o.length)return;const ie=i.getLineAreaSegments($?h:d,n,o,e,s,B,K,Q,H,P);q[Q]=ie[0];const ae="bar"!==X.type?"curved"===X.lineType&&A&&F.length>1&&Q>0:A&&F.length>1&&Q>0,re=void 0===x||0===G.size||G.has(X.id),se=A&&0!=Q?q.reduce(((e,t,i)=>i>=Q?e:t.length>0?i:e),0):void 0;return"bar"===X.type&&(J+=1),t.jsxs(t.Fragment,{children:["bar"===X.type&&K.slice(e,s+1).map(((a,r)=>t.jsx(c.BarGroup,{plotAreaClipPathId:Z,yScale:d,y2Scale:h,xScale:n,splitDualY:N,groupIndex:r+e,selectedIds:E,hiddenIds:W,highlightedIds:x?G:x,isDrillEnabled:"on"===b,series:M,barGapRatio:i.getBarGapRatio(A,e,s),dataItemGaps:T,isPointInsideMarquee:m,isStacked:A,axisStepWidth:R,averageGroupZ:V,group:K[r],timeAxisType:L.xAxis?.timeAxisType,colors:z,activeId:g,isLog:"log"===y?.scale,orientation:u,getDataItem:C,isSelectionEnabled:"none"!=v,isRtl:U,focusedItemInfo:p,hoveredItemInfo:I,getTextDimensions:f,defaultFontSize:k,seriesIndex:J,getItemAriaLabel:Y}))),ee&&t.jsx(a.AreaSeries,{yScale:$?h:d,plotAreaClipPathId:Z,lineType:X.lineType,color:X.areaColor||z[Q%z.length],isHorizontal:w,areaColorOpacity:_,isBottomSegmentCurved:ae,bottomCoords:void 0!==se&&q[se].some((e=>null!=e))?q[se]:void 0,lineSegments:ie,isLog:B,isHighlighted:re,seriesIndex:Q,groupWidth:R,isRtl:U,timeAxisType:P}),"line"===X.type&&t.jsx(r.LineSeries,{plotAreaClipPathId:Z,lineType:X.lineType,lineColor:te?l.colorSchemeVars.dvt.contrastLine:X.lineColor,lineWidth:te?1.25:X.lineWidth,lineStyle:X.lineStyle||"solid",color:X.lineColor||z[Q%z.length],lineSegmentCoords:ie,isHorizontal:w,isHighlighted:re,seriesIndex:Q,groupWidth:R,isRtl:U,timeAxisType:P}),!A&&("line"===X.type||ee)&&t.jsx(r.MarkersWithLabel,{yScale:$?h:d,xScale:n,groups:K,series:X,timeAxisType:P,color:z[Q%z.length],seriesIndex:Q,startIndex:e,endIndex:s,markerType:O[Q%O.length],orientation:u,isLog:B,activeId:g,getDataItem:C,isPointInsideMarquee:m,selectedIds:E,focusedItemIndex:p.seriesIndex!==Q||!p.isFocusVisible||L.isDataCursorEnabled&&L.dataCursorStyle?.isMarkerDisplayed?void 0:p.groupIndex,hoveredItemIndex:I?.isCurrent&&I.seriesIndex===Q?I.groupIndex:void 0,isSelectionEnabled:"single"===v||"multiple"===v,isDrillEnabled:"on"===b,defaultFontSize:k,dataLabelEffect:D,isHighContrast:j,getItemAriaLabel:Y})]})}))})}})}function p(e){return t.jsx(g,{datatip:()=>({content:""}),zoomAndScroll:"off",plotArea:{yMajorTick:{isRendered:!1},xMajorTick:{}},xAxis:{tickLabel:{autoRotate:!1,isRendered:!!e.xAxis?.timeAxisType}},series:e.series,groups:e.groups,getDataItem:e.getDataItem,yAxis:{tickLabel:{isRendered:!1}},overview:"off"})}e.ComboChart=g}));
//# sourceMappingURL=ComboChart-09c90d6d.js.map
