define(['exports', 'preact/jsx-runtime', 'preact/hooks', './useTranslationBundle-27bf6340', './Help-99314e05', './Popup-062b66ff', './HiddenAccessible-037ef42d', './InlineHelp-1fc7b3a9', './UNSAFE_UserAssistance/themes/UserAssistanceStyles.css', './useComponentTheme-5aa41a8f', './classNames-08d99695', './UNSAFE_Popup/themes/redwood/PopupTheme', './useToggle-a29f97af'], (function(e,s,n,o,a,t,i,c,l,r,u,p,d){"use strict";e.IconUserAssistance=({assistiveText:e,helpSourceLink:h,helpSourceText:f,isTabbable:m=!0,id:b})=>{const{bool:x,setFalse:T,toggle:g}=d.useToggle(!1),A=o.useTranslationBundle("@oracle/oraclejet-preact"),k=A.userAssistance_learnMore(),C=h&&(f||k),j=A.radio_helpForRadio(),U=`${b}-help-string`,H=n.useRef(null),S=n.useCallback((e=>{const s=e?.target;(s instanceof Element||s instanceof Document)&&!H.current?.contains(s)&&x&&T()}),[x,T]),v=n.useCallback((e=>{const{key:s}=e;if(s&&"Enter"!==s)return;const{tagName:n}=e.target;"a"===n?.toLowerCase()&&(T(),setTimeout((()=>H.current?.focus())))}),[T]),E=n.useCallback((e=>{["Tab","Escape"].includes(e.code)&&x&&T(),["Space","Enter"].includes(e.code)&&(e.preventDefault(),g())}),[x,T,g]),F=n.useCallback((e=>{e.preventDefault(),g()}),[g]),{baseTheme:I}=r.useComponentTheme(p.PopupRedwoodTheme),P=u.classNames([I,l.iconUserAssistancePopupFocus]);return h||e?s.jsxs(s.Fragment,{children:[s.jsx("span",{onKeyDown:E,onClick:F,role:"link","aria-describedby":U,"aria-haspopup":"dialog",ref:H,tabIndex:m?0:-1,class:l.iconUserAssistanceIcon,id:`${b}-help-icon`,children:s.jsx(a.SvgHelp,{})}),s.jsx(i.HiddenAccessible,{id:U,isHidden:!0,children:j}),s.jsx(t.Popup,{placement:"top",isOpen:x,anchorRef:H,onClose:T,onClickOutside:S,shiftOptions:{mainAxis:!0,crossAxis:!1},role:"tooltip",maxWidth:"296px",children:s.jsx("div",{id:b,tabIndex:0,class:P,onMouseUp:v,onKeyDown:v,children:s.jsx(c.InlineHelp,{assistiveText:e,sourceLink:h,sourceText:C})})})]}):null}}));
//# sourceMappingURL=IconUserAssistance-af9839fb.js.map
