/**
 * @license
 * Copyright (c) 2014, 2025, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define(["exports","jquery","ojs/ojcore-base","ojs/ojpopupcore","ojs/ojdomutils"],function(t,e,r,n,o){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;const l="aria-readonly",u="data-oj-tabmod",a="data-oj-ariareadonlymod",i='input, select, button, a[href], textarea, object, [tabIndex]:not([tabIndex="-1"]), [tabindex]:not([tabindex="-1"])',s="["+u+"], "+i,p=function(t){return!(0===t.offsetHeight||0===t.offsetWidth||"hidden"===window.getComputedStyle(t).visibility)},d=function(t){var e=[];let r=t.querySelectorAll(s);for(var n=0;n<r.length;n++){var o=r[n];!o.disabled&&p(o)&&e.push(o)}return e},f=function(t,e,n){var o=[],l=r.AgentUtils.getAgentInfo(),u=!0;if(r.AgentUtils.BROWSER.IE===l.browser&&null==t.parentNode&&(u=!1),u){var a=[...t.querySelectorAll(i)];n&&t.matches(i)&&a.push(t);for(var s=a.length,d=0;d<s;d++){var f=a[d];if(!f.disabled&&(e||p(f)))f.tabIndex>=0&&o.push(f)}}return o},c=function(t){var e=t.getAttribute(l);t.setAttribute(a,e),t.removeAttribute(l)},b=function(t){var e=t.tabIndex;t.setAttribute(u,e),t.tabIndex=-1};t.checkVisibility=p,t.disableAllFocusableElements=function(t,e,r,n,o){for(var u=[],a=f(t,!0,n),i=0;i<a.length;i++){const t=a[i];void 0===Array.from(o||[]).find(e=>e.contains(t))&&(e&&a[i]===document.activeElement||(b(a[i]),u.push(a[i])),r&&a[i].hasAttribute(l)&&c(a[i]))}return u},t.disableElement=b,t.enableAllFocusableElements=function(t,e){var r=[...t.querySelectorAll("["+u+"]")];e&&t.matches("["+u+"]")&&r.push(t);for(var n=0;n<r.length;n++){var o=parseInt(r[n].getAttribute(u),10);if(r[n].removeAttribute(u),r[n].tabIndex=o,r[n].hasAttribute(a)){var i=r[n].getAttribute(a);r[n].removeAttribute(a),r[n].setAttribute(l,i)}}return r},t.getActionableElementsInNode=d,t.getAllLogicalChildPopups=function(t){for(var r,l={popups:n.ZOrderUtils.findOpenPopups()},u=function(t){var r,n=[];for(r=0;r<l.popups.length;r++){var u=l.popups[r].firstElementChild,a=o.getLogicalParent(e(u));null!=a&&e(t).has(a.get(0)).length>0&&n.push(u)}return{popups:n}},a=u(t),i=function(t){var e=u(t);for(let t=0;t<e.popups.length;t++)-1===a.popups.indexOf(e.popups[t])&&a.popups.push(e.popups[t])},s=0;s<a.popups.length;){for(r=s;r<a.popups.length;r++)i(a.popups[r]);s=r}return a.popups},t.getFocusableElementsInNode=f,t.getLogicalChildPopup=function(t){for(var r=n.ZOrderUtils.findOpenPopups(),l=0;l<r.length;l++){var u=r[l].firstElementChild,a=o.getLogicalParent(e(u));if(null!=a&&e(t).has(a.get(0)).length>0&&n.ZOrderUtils.getStatus(u)===n.ZOrderUtils.STATUS.OPEN)return u}return null},t.isActionableElement=function(t){var e=t.parentNode;if(null!=e)for(var r=d(e),n=0;n<r.length;n++)if(r[n]===t)return!0;return!1},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojkeyboardfocus-utils.js.map