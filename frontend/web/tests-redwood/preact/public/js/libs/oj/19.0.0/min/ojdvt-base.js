/**
 * @license
 * Copyright (c) 2014, 2025, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define(["ojs/ojdataprovider","ojs/ojcore-base","ojs/ojdvt-toolkit","ojs/ojcontext","ojs/ojconfig","ojs/ojmap","ojs/ojlocaledata","ojs/ojcomponentcore","jquery","ojs/ojkeysetimpl","ojs/ojdomutils","ojs/ojattributegrouphandler","ojs/ojlogger","ojs/ojcustomelement","ojs/ojcustomelement-utils","ojs/ojmetadatautils","ojs/ojthemeutils","ojdnd"],function(e,t,n,i,s,o,r,a,l,h,d,c,_,p,u,m,f,v){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,h=h&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h;const y=function(e,t){this._path=t,this._root=e,this._delimiter="/"};y.prototype._resolveLeafObjectAndProperty=function(e,t,n,i){for(var s={};e&&t.indexOf(n)>-1;){var o=t.substring(0,t.indexOf(n));i&&void 0===e[o]&&(e[o]={}),e=e[o],t=t.substring(t.indexOf(n)+1,t.length)}return e&&(s.object=e,s.parameter=t),s},y.prototype._resolvePath=function(e){if(void 0===this._leaf){var t=this._resolveLeafObjectAndProperty(this._root,this._path,this._delimiter,e);this._leaf=t.object,this._param=t.parameter}},y.prototype.getValue=function(){return this._resolvePath(!1),void 0===this._leaf?void 0:this._leaf[this._param]},y.prototype.setValue=function(e,t){this._resolvePath(!0),!t&&this._leaf[this._param]||(this._leaf[this._param]=e)};const g=function(e){this._styleCache={},this._context=e,this._letterSpacing=null,this._wordSpacing=null,this._fontVariantNumeric=null};g._FONT_WEIGHT="font-weight",g.styleTypes={TEXT:function(e){var t={};return e&&(e.hasClass("oj-gauge-metric-label")?(t["font-size"]=!0,t.color=!0):e.hasClass("oj-treemap-node-header")?t[g._FONT_WEIGHT]=!0:e.hasClass("oj-legend-title")&&(t[g._FONT_FAMILY]=!0)),g._buildTextCssPropertiesObject(e,t)},BACKGROUND:function(e,t,n,i){return g._buildCssBackgroundPropertiesObject(e)},ANIM_DUR:function(e){var t=e.css("animation-duration");if(t)return"ms"===t.slice(-2)?t=parseInt(t.slice(0,-2),10):"s"===t.slice(-1)&&(t=1e3*parseFloat(t.slice(0,-1))),t}},g._INHERITED_FONT_COLOR="rgb(254, 0, 254)",g._INHERITED_FONT_FAMILY="Times",g._INHERITED_FONT_SIZE="1px",g._INHERITED_FONT_WEIGHT="1",g._INHERITED_FONT_STYLE="normal",g._FONT_SIZE_BUFFER=4,g.defaultStyleProcessor=function(e,t){return e.css(t)},g._buildCssBackgroundPropertiesObject=function(e){var t={};return e.css("border-top-color")&&(t.borderColor=e.css("border-top-color")),e.css("border-width")&&e.css("border-style")&&"none"!==e.css("border-style")&&(t.borderWidth=e.css("border-width")),e.css("background-color")&&(t.backgroundColor=e.css("background-color")),t},g._buildTextCssPropertiesObject=function(e,t){var n={},i=e.css("font-family");return i&&i!==g._INHERITED_FONT_FAMILY&&(n.fontFamily=i.replace(/"/g,"'")),!(i=e.css("font-size"))||i.indexOf("px")>-1&&parseFloat(i)<g._FONT_SIZE_BUFFER||t["font-size"]||(n.fontSize=i),(i=e.css(g._FONT_WEIGHT))&&i!==g._INHERITED_FONT_WEIGHT&&!t[g._FONT_WEIGHT]&&(n.fontWeight=i),(i=e.css("color"))&&i!==g._INHERITED_FONT_COLOR&&!t.color&&(n.color=i),(i=e.css("font-style"))&&i!==g._INHERITED_FONT_STYLE&&(n.fontStyle=i),n},g.prototype.processStyles=function(e,t,n,i){var s,o=null,r=null,a=e.data("no-style-cache"),h="";for(s=0;s<n.length;s++)h=h+n[s]+" ";var d,c={},_={},p=Object.keys(i);for(s=0;s<p.length;s++){var u=i[d=p[s]];u instanceof Array||(u=[u]);var m=this._hasUncachedProperty(d,u)||a;r||o||!m||((o=l(document.createElement("div"))).css("display","none"),e.append(o),o.attr("class",h),(r=l(document.createElement("div"))).css("font-size",g._INHERITED_FONT_SIZE),r.css("color",g._INHERITED_FONT_COLOR),r.css(g._FONT_WEIGHT,g._INHERITED_FONT_WEIGHT),r.css("font-style",g._INHERITED_FONT_STYLE),o.append(r)),c[d]=u,m&&(_[d]=this._createStyleDivs(r,d,u))}if(!this._letterSpacing||!this._wordSpacing||!this._fontVariantNumeric){var f=window.getComputedStyle(e[0]);this._context.letterSpacing=f.letterSpacing,this._context.wordSpacing=f.wordSpacing,this._context.fontVariantNumeric=f.fontVariantNumeric,this._letterSpacing=f.letterSpacing,this._wordSpacing=f.wordSpacing,this._fontVariantNumeric=f.fontVariantNumeric}for(s=0;s<p.length;s++)d=p[s],this._processStyle(_[d],t,d,c[d],a);o&&o.remove()},g.prototype._createStyleDivs=function(e,t,n){this._styleCache[t]||(this._styleCache[t]={});for(var i=null,s=0;s<n.length;s++){var o=n[s].property;if(o)void 0===this._styleCache[t][o]&&(i||("oj-dvt-color-ramp"===t?i=c.ColorAttributeGroupHandler.__createAttrDiv():(i=l(document.createElement("div"))).addClass(t),e.append(i)))}return i},g.prototype._processStyle=function(e,t,n,i,s){for(var o=0;o<i.length;o++){var r=i[o],a=r.property;if(a){var l=this._styleCache[n][a];if(void 0===l&&e&&(l="oj-dvt-color-ramp"===n?c.ColorAttributeGroupHandler.__processAttrDiv(e):g._resolveStyle(e,a),s||(this._styleCache[n][a]=l)),null!=l){var h=r.path,d=new y(t,h),_=d.getValue(),p="object"==typeof _&&!Array.isArray(_);if(p&&_)for(var u=Object.keys(l),m=0;m<u.length;m++){var f=u[m];void 0===_[f]&&(_[f]=l[f])}else d.setValue(l,p)}}}},g._resolveStyle=function(e,t){var n=g.styleTypes[t],i=n?n(e):g.defaultStyleProcessor(e,t);return null==i||"string"==typeof i&&""===i.replace(/^\s+/g,"")?null:i},g.prototype._hasUncachedProperty=function(e,t){var n=this._styleCache[e];if(!n)return!0;for(var i=0;i<t.length;i++){var s=t[i].property;if(s)if(void 0===n[s])return!0}return!1},g.populateOptions=function(e,t){for(var n,i=Object.keys(t),s=0;s<i.length;s++){var o=t[i[s]];o instanceof Array||(o=[o]);for(var r=0;r<o.length;r++){var a=(n=o[r]).path,l="TEXT"===n.property||"BACKGROUND"===n.property;if(l||a.indexOf("/")>-1)l||(a=a.substring(0,a.lastIndexOf("/"))),new y(e,a).setValue({})}}},g.prototype.clearCache=function(e){this._styleCache[e]=void 0};const C=function(e,t){this._component=e,this._configMap=t,this._init()};t.Object.createSubclass(C,t.Object,"DataProviderHandler"),C.prototype._init=function(){this._dataProviderEventListeners={},this._keyDataMap={},this._fetchedData={},this._eventListeners=[]},C.prototype._fetchCollection=function(e,t,n,i,s,o){var r=this,a={data:[],keys:[]};if(o<=-1)return Promise.resolve(a);this._clientId=this._clientId||Symbol();var l={clientId:this._clientId,size:-1},h=e.fetchFirst(l)[Symbol.asyncIterator](),d=this.isTreeDataProvider(e),c=function(e){for(var o=[],l=0;l<e.value.data.length;l++){var _=t({data:e.value.data[l],key:e.value.metadata[l].key},s);o.push(_)}return Promise.all(o).then(function(e){for(var t=0;t<e.length;t++){var o=e[t].data,l=e[t].key;a.data.push(o),a.keys.push(l),r._keyDataMap[n].set(d?l.value:l,{data:o,key:l,parentKey:i,depth:s})}}).then(function(){return e.done?Promise.resolve(a):h.next().then(c)})};return h.next().then(c)},C.prototype._getDPPostProcessor=function(e,t,n,i){var s=this,o=this.isTreeDataProvider(e);i=null==i?Number.MAX_VALUE:i;var r=function(o,a){var l={value:o.data},h={value:o.key};if(a<i&&n&&n.has(h.value)){var d=e.getChildDataProvider(h.value);if(d)return s._fetchCollection(d,r,t,h.value,a+1).then(function(e){return l.children=e.data,h.children=e.keys,{data:l,key:h}})}return Promise.resolve({data:l,key:h})};return o?r:function(e){return Promise.resolve(e)}},C.prototype.fetchAllData=function(e,t,n){if(n&&this._fetchedData[t])return Promise.resolve(this._fetchedData[t]);var i=this._configMap[t];return this.clear(t,!0),this._fetchCollection(e,this._getDPPostProcessor(e,t,i.expandedKeySet,i.maxFetchDepth),t,null,0,i.maxFetchDepth).then(function(i){return n&&(this._fetchedData[t]=i,this._addDPEventListeners(e,t)),i}.bind(this))},C.prototype._getDataProviderEventHandler=function(e){var t=this,n=function(e,t,n){if(!t)return[];var i=new h(t),s=new Map,o=function(e){for(var t=0;t<e.length;t++){var r=n?e[t].value:e[t],a=i.get(r);a!==i.NOT_A_KEY&&s.set(a,t),n&&e[t].children&&o(e[t].children)}};o(e.keys);var r=[];return t.forEach(function(e){r.push(s.get(e))}),r},i=function(n){var i=t._component._GetThrottlePromise();Promise.all([n,i]).then(function(n){t._fireEvent("clearState",{dataProperty:e}),t._fetchedData[e]=n[0],t._fireEvent("dataUpdated",{data:n[0]})})};return function(s){t._fireEvent("notReady",{event:s});var o=this,r=t.isTreeDataProvider(o),a=t._keyDataMap[e];if("refresh"===s.type)i(t.fetchAllData(o,e));else if("mutate"===s.type){var l=s.detail.update,d=s.detail.remove,c=s.detail.add,_=t._fetchedData[e];if(d){var p=d.keys;if(c){var u=new h(c.keys);p=new Set([...p].filter(e=>!u.has(e)))}t._fireEvent("removeKeys",{keys:p})}var m,f=function(n,i,s,l){var h=0,d=[],c=1===s&&!l;return i.keys.forEach(function(n){var s,_=l?null:i.data[h];if(r)if(c){var p=a.get(n);p&&(p.data.value=_,s=Promise.resolve({data:p.data,key:a.get(n).key}))}else{var u={value:_},m={value:n},f=o.getChildDataProvider(n);if(f&&!l)s=t.fetchAllData(f,e).then(function(e){return u.children=e.data,m.children=e.keys,{data:u,key:m}});else s=Promise.resolve({data:u,key:m});if(!l){var v=i.parentKeys?i.parentKeys[h]:null;a.set(m.value,{data:u,key:m,parentKey:v})}}else s=Promise.resolve({data:_,key:n}),a.set(n,{data:_,key:n});d.push(s),h+=1}),Promise.all(d).then(function(e){for(var o=0;o<e.length;o++){var h,d,p,u=r?e[o].key.value:e[o].key,m=a.get(u).parentKey;if(m){var f=a.get(m);f.data.children||c||(f.data.children=[],f.key.children=[]),h=f.data.children,d=f.key.children}else h=_.data,d=_.keys;if(l)p=n[o]-o,h.splice(p,s),d.splice(p,s),t._component._getCurrentItem&&i.keys.has(t._component._getCurrentItem())&&t._component._handleRemoveCurrentItem();else{if(c)p=n[o];else p=0===n.length||null==n[o]?h.length:n[o];h.splice(p,s,e[o].data),d.splice(p,s,e[o].key)}}return _})},v=function(e){return o.fetchByKeys({keys:e}).then(function(t){var n=[];return t.results.size>0&&e.forEach(function(e){n.push(t.results.get(e).data)}),n})},y=Promise.resolve();l&&(m=l.indexes||n(_,l.keys,r),y=Array.isArray(l.data)?f(m,l,1):v(l.keys).then(function(e){var t=Object.create(l,{data:{value:e}});return f(m,t,1)})),y.then(function(){return d?(m=d.indexes||n(_,d.keys,r),f(m,d,1,!0)):Promise.resolve()}).then(function(){return c?(m=c.indexes||n(_,c.addBeforeKeys?c.addBeforeKeys:c.afterKeys,r),Array.isArray(c.data)?f(m,c,0):v(c.keys).then(function(e){var t=Object.create(c,{data:{value:e}});return f(m,t,0)})):Promise.resolve()}).then(function(){i(Promise.resolve(_))})}}},C.prototype._addDPEventListeners=function(e,t){if(!this._dataProviderEventListeners[t]||this._dataProviderEventListeners[t].dataProvider!==e){var n=this._getDataProviderEventHandler(t);e.addEventListener("mutate",n),e.addEventListener("refresh",n),this._dataProviderEventListeners[t]={dataProvider:e,listener:n}}},C.prototype.release=function(e){var t=function(e){var t=this._dataProviderEventListeners[e];if(t){var n=t.dataProvider,i=t.listener;n.removeEventListener("mutate",i),n.removeEventListener("refresh",i),this._dataProviderEventListeners[e]=null}}.bind(this);if(e)t(e),this.clear(e);else{for(var n=Object.keys(this._dataProviderEventListeners),i=0;i<n.length;i++)t(n[i]);this.clear()}},C.prototype.fetchChildrenData=function(e,t,n,i){var s=function(t,n,i){this._keyDataMap[e].get(t).data.children=n,this._keyDataMap[e].get(t).key.children=i}.bind(this),o=t.getChildDataProvider(n);if(o){var r=this._configMap[e].maxFetchDepth,a=this._keyDataMap[e].get(n).depth,l=this._getDPPostProcessor(t,e,i,r);return this._fetchCollection(o,l,e,n,a,r).then(function(e){return s(n,e.data,e.keys),e})}return Promise.resolve({data:[],keys:[]})},C.prototype.clear=function(e,t){e&&t?(this._keyDataMap[e]=this._keyDataMap[e]||new o,this._fireEvent("reset",{dataProperty:e})):e?this._fetchedData[e]=null:(this._fetchedData={},this._keyDataMap={})},C.prototype.isDataProvider=function(e){return t.DataProviderFeatureChecker.isDataProvider(e)},C.prototype.isTreeDataProvider=function(e){return t.DataProviderFeatureChecker.isTreeDataProvider(e)},C.prototype.addEventListener=function(e){this._eventListeners.push(e)},C.prototype._fireEvent=function(e,t){for(var n=0;n<this._eventListeners.length;n++)this._eventListeners[n]({type:e,detail:t})};const b=function(e,t,n){this._component=e,this._configMap=t,this._useObjectAssign=n,this._init()};t.Object.createSubclass(b,t.Object,"TemplateHandler"),b.prototype._init=function(){this._templateEnginePromise=null,this._templates=this.getTemplates(),this._templateResults={},this._templateNodeData={},this._componentResults={},this._eventListeners=[],this._queueNextEvent=!0,this._eventUpdates=[],this._templatePropertyMap={},this._propertyValidatorMap={}},b.prototype.getTemplateEngine=function(){return this._templateEnginePromise||(this._templateEnginePromise=new Promise(e=>{const t={customElement:this._component._GetCustomElement(),needsTrackableProperties:this._component._NeedsTrackableProperties};s.__getTemplateEngine(t).then(function(t){e(t)},function(e){throw new Error("Error loading template engine: "+e)})})),this._templateEnginePromise},b.prototype.getDataSet=function(e){var t=this.getTemplate(e);return t&&t.dataset},b.prototype.getTemplate=function(e){return this._templates[e]&&this._templates[e][0]},b.prototype.getDataSetBoolean=function(e,t){var n=this.getDataSet(e),i=u.AttributeUtils.attributeToPropertyName(t),s=n&&n[i];return null!=s&&u.AttributeUtils.coerceBooleanValue(this.getTemplate(e),t,s,"Boolean")},b.prototype.getTemplates=function(){return u.CustomElementUtils.getSlotMap(this._component.element[0])},b.prototype._getPropertyValidator=function(e,n){if(!e)return null;var i=this._propertyValidatorMap[n];if(i)return i;var s=t.CustomElementBridge.getMetadata(n),o=e.content?e.content.children[0]:e.childNodes[1],r={};return i=function(n,i){var a=n.join("."),l=r[a];if(!l){l=s;for(var h=0;h<n.length;h++)l=l.properties[n[h]];r[a]=l}try{m.checkEnumValues(o,a,i,l)}catch(t){throw new u.JetElementError(e,t.message)}null!=i&&t.BaseCustomElementBridge.checkType(o,a,i,l)},this._propertyValidatorMap[n]=i,i},b.prototype._processAliasedPropertyNames=function(e,t,n){var i=this._configMap[e].getAliasedPropertyNames;if(i)for(var s=i(t),o=Object.keys(s),r=0;r<o.length;r++){var a=o[r];n[s[a]]=n[a],n[a]=void 0}return n},b.prototype._getTemplateElementProperties=function(e){var t=this._templatePropertyMap[e];return t||(t=this._component.getElementPropertyNames(e),this._templatePropertyMap[e]=t),t},b.prototype.processNodeTemplate=function(e,n,i,s,r,a,l){var h=i.getAttribute("slot"),d=this._component.options.as,c=this._component.element[0],_=this._getTemplateElementProperties(s),p=this._getPropertyValidator(i,s),u=l?e:h,m=function(n){return function(i){var o=this._processAliasedPropertyNames(e,s,i),r=this._templateNodeData[u];t.CollectionUtils.copyInto(r.get(n).data,o),this._eventUpdates.push({key:a,data:o}),this._queueNextEvent&&(this._fireEvent("notReady"),this._component._GetThrottlePromise().then(function(){this._fireEvent("dataUpdated",{dataProperty:e,templateName:h,data:this._eventUpdates.slice(0)}),this._queueNextEvent=!0,this._eventUpdates=[]}.bind(this))),this._queueNextEvent=!1}.bind(this)}.bind(this),f=n.resolveProperties(c,i,s,_,r,d,p);f.subscribe(m(a));var v={data:this._processAliasedPropertyNames(e,s,f.peek()),node:f,context:r};return this._templateNodeData[u]||(this._templateNodeData[u]=new o),this._templateNodeData[u].set(a,v),v.data},b.prototype.processTemplates=function(e,t,n,i,s,o,r){if(o&&this._templateResults[e])return this._templateResults[e];var a,l,h=this._configMap[e],d=this;if(h){a=[],l=[];var c="string"==typeof h.templateName?function(){return h.templateName}:h.templateName,p="string"==typeof h.templateElementName?function(){return h.templateElementName}:h.templateElementName,u=h.resultPath,m=this._component.element[0],f=h.processChildrenData,v=h.processOptionData||function(e){return e},y=d._templateNodeData[e];if(c&&p&&u){var g,C=function(t,i,s,o,r){var a;try{o?a=d.processNodeTemplate(e,n,o,r,s,i,!0):(d._useObjectAssign?(a=Object.assign({},t),Object.defineProperties(a,{_noTemplate:{value:!0,enumerable:!1},_dvtNoClone:{value:!0,enumerable:!1}})):((a=Object.create(t))._noTemplate=!0,a._dvtNoClone=!0),y.set(i,{data:a,context:s})),a.id=i,a._itemData=t}catch(e){_.error(e)}return a},b=function(e,t,n){for(var s=e.data,o=e.keys,r=[],a=0;a<s.length;a++){var l=i?s[a].value:s[a],h=i?o[a].value:o[a],_={data:l,key:h,index:a,componentElement:m};i&&(_.parentData=t,_.parentKey=n);var v=c(s[a]),y=p(s[a]),g=d.getTemplate(v),D=C(l,h,_,g,y);if(i&&s[a].children){var E=t.slice(0);E.push(l);var P={data:s[a].children,keys:o[a].children},T=b(P,E,h);f?f(D,s[a],T):D[u]=T}r.push(D)}return r};a.push(u),s&&y.has(s)&&(g=y.get(s).context.parentData.concat(y.get(s).context.data));var D=b(t,g||[],s);l.push(v(D))}r&&(y.get(s).data[u]=l[0])}var E={paths:a,values:l};return o&&(this._templateResults[e]=E),E},b.prototype.release=function(e){var t;if(e){var n=this._configMap[e].derivedTemplates;t=n?[e].concat(n):[e]}else t=Object.keys(this._templateNodeData);for(var i=0;i<t.length;i++){var s=this._templateNodeData[t[i]];s&&(s.forEach(function(e){e.node&&e.node.dispose()}),this._templateNodeData[t[i]]=new o)}this.clear(e)},b.prototype.clear=function(e,t){if(e)for(var n,i=this._configMap[e].derivedTemplates,s=i?[e].concat(i):[e],r=0;r<s.length;r++)n=s[r],t?this._templateNodeData[n]=this._templateNodeData[n]||new o:(this._templateResults[n]=null,this._componentResults[n]=null);else this._templateResults={},this._componentResults={},this._templateNodeData={}},b.prototype.getComponentResults=function(e){return this._componentResults[e]},b.prototype.setComponentResults=function(e,t){this._componentResults[e]=t},b.prototype.addEventListener=function(e){this._eventListeners.push(e)},b.prototype._fireEvent=function(e,t){for(var n=0;n<this._eventListeners.length;n++)this._eventListeners[n]({type:e,detail:t})};const D=function(e,t,n,i,s,o){this._componentElement=e,this._getDvtComponent=t,this._getSkeletonMaskStyleClass=n,this._configureCompElemTabIndex=i,this._getOptionsCopy=s,this._isLoadingIndicatorEnabled=!1,this._translations=o,this._isBusy=!1,this._descRegionId=`_dvtLoadingDesc_${Math.floor(1e9*Math.random())}`;const r=e=>{this._isBusy&&e.stopImmediatePropagation()};e.addEventListener("keydown",r),e.addEventListener("keyup",r)};t.Object.createSubclass(D,t.Object,"LoadingIndicatorHandler"),D._SHOW_DELAY_CSS_VAR="--oj-private-core-global-loading-indicator-delay-duration",D._CONTAINER_CLASSNAME="oj-dvt-loading-container",D._SKELETON_CONTAINER_CLASSNAME="oj-dvt-skeleton-container",D._SKELETON_CLASSNAME="oj-dvt-skeleton oj-animation-skeleton",D._HIDDEN_ACCESSIBLE_CLASSNAME="oj-helper-hidden-accessible",D.prototype._getShowDelay=function(){const e=f.getCachedCSSVarValues([D._SHOW_DELAY_CSS_VAR])[0],t=d.getCSSTimeUnitAsMillis(e);return isNaN(t)?0:t},D.prototype._hideVis=function(){const e=this._getDvtComponent();e&&(e.getCtx().getSvgDocument().style.visibility="hidden")},D.prototype._showVis=function(){const e=this._getDvtComponent();e&&e.getCtx().getSvgDocument().style.removeProperty("visibility")},D.prototype._renderLoadingIndicator=function(){this._hideVis(),this._container&&this._container.remove(),this._container=document.createElement("div"),this._container.className=D._CONTAINER_CLASSNAME;const e=document.createElement("div");e.className=`${D._SKELETON_CONTAINER_CLASSNAME} ${this._getSkeletonMaskStyleClass()}`;const t=document.createElement("div");t.className=D._SKELETON_CLASSNAME,e.appendChild(t),this._container.appendChild(e),this._componentElement.appendChild(this._container)},D.prototype._removeLoadingIndicator=function(){this._container&&(this._container.remove(),this._showVis(),this._container=null)},D.prototype._renderLiveRegion=function(){this._liveRegion||(this._liveRegion=document.createElement("div"),this._liveRegion.className=D._HIDDEN_ACCESSIBLE_CLASSNAME,this._liveRegion.setAttribute("aria-live","polite"),this._componentElement.appendChild(this._liveRegion))},D.prototype._updateLiveRegion=function(e){this._liveRegion&&(this._liveRegion.textContent=e)},D.prototype._renderDescriptionRegion=function(){this._descRegion||(this._descRegion=document.createElement("div"),this._descRegion.className=D._HIDDEN_ACCESSIBLE_CLASSNAME,this._descRegion.id=this._descRegionId,this._descRegion.textContent=this._translations.stateLoading,this._componentElement.appendChild(this._descRegion))},D.prototype._removeDescriptionRegion=function(){this._descRegion&&(this._descRegion.remove(),this._descRegion=null)},D.prototype._addToDescribedBy=function(e){const t=this._componentElement.getAttribute("aria-describedby");this._componentElement.setAttribute("aria-describedby",t?[...new Set(t.split(/\s+/).concat(e))].join(" "):e)},D.prototype._removeFromDescribedBy=function(e){const t=this._componentElement.getAttribute("aria-describedby");if(t){const n=t.replace(e,"").split(/\s+/).join(" ");n?this._componentElement.setAttribute("aria-describedby",n):this._componentElement.removeAttribute("aria-describedby")}},D.prototype._setBusy=function(e){if(e||this._isBusy)if(this._isBusy=e,this._componentElement.setAttribute("aria-busy",e),e){this._renderDescriptionRegion();const e=this._getDvtComponent(),t=e?.Options;e&&!t&&(e.SetOptions(this._getOptionsCopy()),e.UpdateAriaAttributes(),e.Options=t),this._configureCompElemTabIndex(),this._addToDescribedBy(this._descRegionId),this._updateLiveRegion(this._translations.stateLoading)}else{this._removeFromDescribedBy(this._descRegionId),this._removeDescriptionRegion();const e=this._componentElement.getAttribute("aria-label");this._updateLiveRegion(e?`${e}, ${this._translations.stateLoaded}`:this._translations.stateLoaded)}},D.prototype.setEnabled=function(e){this._isLoadingIndicatorEnabled=e,e?this._renderLiveRegion():this.hide()},D.prototype.show=function(){this._isLoadingIndicatorEnabled&&!this._showTimeout&&(this._showTimeout=setTimeout(()=>{this._setBusy(!0),this._renderLoadingIndicator(),this._showTimeout=null},this._getShowDelay()))},D.prototype.hide=function(){this._showTimeout&&(clearTimeout(this._showTimeout),this._showTimeout=null),this._removeLoadingIndicator(),this._setBusy(!1)},t.__registerWidget("oj.dvtBaseComponent",l.oj.baseComponent,{options:{trackResize:"on"},_ComponentCreate:function(){this._super(),this._renderCount=0,this._isSubtreeDetached=!1,this._numDeferredObjs=0,this._optionsCopy=null,this._dataValuePromise={},this._templateMap={},this._TemplateHandler=new b(this,this._GetSimpleDataProviderConfigs(),this._UseObjectAssignForShapedData()),this._DataProviderHandler=new C(this,this._GetSimpleDataProviderConfigs()),this._DataProviderHandler.addEventListener(this._GetDPEventHandler()),this._TemplateHandler.addEventListener(this._GetDPEventHandler()),this._LoadingIndicatorHandler=new D(this.element[0],()=>this._component,()=>this._GetLoadingSkeletonMaskStyleClass(),()=>this._configureTabIndex(),()=>n.JsonUtils.clone(this.options,null,this._GetComponentNoClonePaths()),this.options.translations),this._LoadingIndicatorHandler.setEnabled(this._IsLoadingSkeletonSupported());for(var e=this._GetComponentStyleClasses(),i=0;i<e.length;i++)this.element.addClass(e[i]);this._referenceDiv=l(document.createElement("div")),this._referenceDiv.css("visibility","hidden"),this.element.append(this._referenceDiv),n.Agent.setAgentInfo({...t.AgentUtils.getAgentInfo(),isTouchSupported:d.isTouchSupported()});var s=this.element[0].parentElement;s&&s._dvtcontext?this._context=s._dvtcontext:this._context=new n.Context(this.element[0],null,this._referenceDiv[0]);var c=Object.keys(this._GetSimpleDataProviderConfigs()),_={oj:t,KeySetImpl:h,ojMap:o,LocaleData:r,dataProviderProps:c};if(this._context.setJetProperties(_),this._context.setReadingDirection(this._GetReadingDirection()),this._context.setTooltipAttachedCallback(a.subtreeAttached),this._context.setOverlayAttachedCallback(a.subtreeAttached),this._context.setFixContextCallback(this._FixRendererContext.bind(this)),this._context.setCustomElement(this._IsCustomElement()),l(document.body).hasClass("oj-hicontrast")&&n.Agent.setHighContrast(!0),this._component=this._CreateDvtComponent(this._context,this._HandleEvent,this),this._component.setContextMenu(!!this._GetContextMenu()),n.Agent.isEnvironmentTest()){var p=this.element[0].getAttribute("data-oj-dvt-test-id");p&&p.length>0&&this._component.setId(p)}this._context.getStage().addChild(this._component),this._context.setDvtComponent(this._component),this._LoadResources(),this.options._widgetConstructor=a.__GetWidgetConstructor(this.element)},_AfterCreate:function(){this._super(),"off"!==this.options.trackResize&&this._addResizeListener(),this._ProcessOptions(),this._Render()},_SetLocaleHelpers:function(e,t){var n={createNumberConverter:function(t){return new e.IntlNumberConverter(t)},isoToDateConverter:function(e){if("string"==typeof e){var n=t.IntlConverterUtils.isoToDate(e),i=n.toJSON()?t.IntlConverterUtils.dateToLocalIso(n):e;return t.IntlConverterUtils.isoToLocalDate(i)}return e},dateToIsoWithTimeZoneConverter:function(e){if(e instanceof Date){var n=-1*e.getTimezoneOffset(),i=n>=0?"+":"-",s=Math.floor(Math.abs(n)/60),o=Math.abs(n)%60,r=i+(2!==s.toString().length?"0"+s:s)+":"+(2!==o.toString().length?o+"0":o);return t.IntlConverterUtils.dateToLocalIso(e)+r}return e}};this._context.setLocaleHelpers(n)},refresh:function(){this._super(),this._styleProcessor=null,this._context.setReadingDirection(this._GetReadingDirection()),this._Render()},getNodeBySubId:function(e){var t=this._component&&this._component.getAutomation?this._component.getAutomation():null;if(t){var n=this._ConvertLocatorToSubId(e);return t.getDomElementForSubId(n)}return null},getSubIdByNode:function(e){var t=this._component&&this._component.getAutomation?this._component.getAutomation():null;if(t){var n=t.getSubIdForDomElement(e);return n?this._ConvertSubIdToLocator(n):null}return null},_ConvertLocatorToSubId:function(e){return null},_ConvertSubIdToLocator:function(e){return null},_ProcessStyles:function(e){this._styleProcessor=this._styleProcessor?this._styleProcessor:new g(this._component.getCtx()),this._styleProcessor.processStyles(this.element,e,this._GetComponentStyleClasses(),this._GetChildStyleClasses())},_GetComponentStyleClasses:function(){return["oj-dvtbase"]},_GetChildStyleClasses:function(){var e={"oj-dvt-no-data-message":{path:"_statusMessageStyle",property:"TEXT"}};return e},_GetEventTypes:function(){return[]},_VerifyConnectedForSetup:function(){return!0},_ReleaseResources:function(){this._super(),this._renderNeeded=!0,this._context.hideTooltips(),this._context.releaseTooltipResources(),this._removeResizeListener(),this._CleanAllTemplates(),this._MakeReady(),this._DataProviderHandler.release(),this._TemplateHandler.release(),this._LoadingIndicatorHandler.hide(),this._dataValuePromise={}},_destroy:function(){var e=this.element[0].parentElement;e&&e._dvtcontext&&(e._dvtcontext=null),this._component.destroy&&this._component.destroy(),this._component=null,this.element.children().remove(),this.element.removeAttr("role").removeAttr("tabIndex").removeAttr("aria-activedescendant");for(var t=this._GetComponentStyleClasses(),n=0;n<t.length;n++)this.element.removeClass(t[n]);this._super(),this._context.destroy(),this._context=null},_setOptions:function(e,t){this._superApply(arguments),this._OptionChangeHandler(e);var n=this.options.trackResize;if("off"===n&&this._resizeListener?this._removeResizeListener():"off"===n||this._resizeListener||this._addResizeListener(),this._ProcessOptions(),!this._bUserDrivenChange){var i=this._numDeferredObjs>0;if(!i){var s=this._GetEventTypes(),o=this._GetOptimizedOptions();l.each(e,function(e){if(s.indexOf(e)<0&&o.indexOf(e)<0)return i=!0,!1})}i?this._Render():this._UpdateNoRenderOptions(e)}},_GetOptimizedOptions:function(){return["highlightedCategories","selection","dataCursorPosition","scrollPosition"]},_UpdateNoRenderOptions:function(e){void 0!==e.highlightedCategories&&this._component.highlight(e.highlightedCategories),void 0!==e.selection&&this._component.select(e.selection),void 0!==e.dataCursorPosition&&this._component.positionDataCursor&&!this._isSubtreeDetached&&this._component.positionDataCursor(e.dataCursorPosition),void 0!==e.scrollPosition&&this._component.scroll(e.scrollPosition)},_CreateDvtComponent:function(e,t,n){return null},_HandleEvent:function(e){var t=e.type;"selection"===t?this._UserOptionChange("selection",e.selection):"categoryHide"===t||"categoryShow"===t?this._UserOptionChange("hiddenCategories",e.hiddenCategories):"categoryHighlight"===t?this._UserOptionChange("highlightedCategories",e.categories):"optionChange"===t?this._UserOptionChange(e.key,e.value,e.optionMetadata):"touchHoldRelease"===t&&this._GetContextMenu()?this._OpenContextMenu(l.Event(e.nativeEvent),"touch"):"dvtRender"===t?this._Render():"ready"===t&&0===this._numDeferredObjs&&this._MakeReady()},_BeforeResizeRender:function(){},_addResizeListener:function(){if(!this._resizeListener)if(this._resizeListener=this._handleResize.bind(this),this._IsFlowingLayoutSupported())d.addResizeListener(this.element[0],this._resizeListener,250);else{const e=this.element[0],t=e.hasAttribute("data-oj-resize-notify");this._resizeObserver=new ResizeObserver(n=>{const i=n[0].borderBoxSize,s=i?(i[0]||i).inlineSize:e.offsetWidth,o=i?(i[0]||i).blockSize:e.offsetHeight;this._resizeListener(s,o),t&&e.dispatchEvent(new Event("oj-resize"))}),this._resizeObserver.observe(e,{box:"border-box"})}},_removeResizeListener:function(){this._resizeObserver?(this._resizeObserver.disconnect(),this._resizeObserver=null):this._resizeListener&&d.removeResizeListener(this.element[0],this._resizeListener),this._resizeListener=null},_handleResize:function(e,t){var n=this.element.width(),i=this.element.height();(null==this._width||null==this._height||Math.abs(n-this._width)+Math.abs(i-this._height)>=5)&&this._Render(!0)},_LoadResources:function(){},_Render:function(e){this._context.hideTooltips(),this._NotReady(),!this._context.isReadyToRender()||this._renderNeeded&&e?(this._renderNeeded=!0,this._MakeReady()):(this._width=this._IsFlowingLayoutSupported()?null:this.element.width(),this._height=this._IsFlowingLayoutSupported()?null:this.element.height(),this._context.setDefaultFontFamily(this._referenceDiv.css("font-family")),this._context.setDefaultFontSize(this._referenceDiv.css("font-size")),this.options._width=this._width,this.options._height=this._height,this.options._locale=n.Agent.isEnvironmentTest()&&this.options._locale?this.options._locale:s.getLocale(),this._IsDraggable()&&this.element.attr("draggable",!0),g.populateOptions(this.options,this._GetChildStyleClasses()),e?0===this._numDeferredObjs&&(this._renderCount+=1,this._RenderComponent(this._optionsCopy,e)):(this._renderCount+=1,this._resolveDeferredDataItems()&&this._RenderComponent(this._optionsCopy)),this._renderNeeded=!1)},_IsDraggable:function(){return!!this.options.dnd},_NotifyShown:function(){this._super(),this._notifyShownAttached()},_NotifyAttached:function(){this._super(),this._notifyShownAttached()},_NotifyDetached:function(){this._super(),this._notifyHiddenDetached()},_NotifyHidden:function(){this._super(),this._notifyHiddenDetached()},_notifyShownAttached:function(){this._renderNeeded&&this._Render(),this._isSubtreeDetached=!1},_notifyHiddenDetached:function(){this._context.hideTooltips(),this._isSubtreeDetached=!0,this._MakeReady()},_UserOptionChange:function(e,t,n){this._bUserDrivenChange=!0,this.option(e,t,{_context:{writeback:!0,optionMetadata:n,internalSet:!0,skipEvent:"_"===e.charAt(0)}}),this._bUserDrivenChange=!1},_NotifyContextMenuGesture:function(e,t,n){if("touch"!==n)if("keyboard"===n){var i=this.element[0].getBoundingClientRect(),s=this._component.getKeyboardFocus()?this._component.getKeyboardFocus().getBoundingClientRect():null,o=s?"left+"+(s.left+.5*s.width-i.left)+" top+"+(s.top+.5*s.height-i.top):"center";this._OpenContextMenu(t,n,{position:{at:o}})}else this._super(e,t,n)},_GetDvtComponent:function(e){var t=a.__GetWidgetConstructor(e)("instance");return t?t._component:null},_GetStringFromIndexPath:function(e){for(var t="",n=0;n<e.length;n++)t+="["+e[n]+"]";return t},_GetIndexPath:function(e){for(var t=[],n=0;e.indexOf("[",n)>0;){var i=e.indexOf("[",n)+1,s=e.indexOf("]",n);t.push(Number(e.substring(i,s))),n=s+1}return t},_GetFirstIndex:function(e){return Number(this._GetFirstBracketedString(e))},_GetFirstBracketedString:function(e){var t=e.indexOf("[")+1,n=e.indexOf("]");return e.substring(t,n)},_GetComponentDeferredDataPaths:function(){return{}},_GetComponentNoClonePaths:function(){if(!this._noClonePaths){this._noClonePaths={};var e=this,t=this._GetComponentDeferredDataPaths().root;t&&t.forEach(function(t){e._noClonePaths[t]=!0})}return this._noClonePaths},_resolveDocumentFonts:function(){var e=document.fonts;if(e&&"loading"===e.status){this._numDeferredObjs+=1;var t=this._renderCount;e.ready.then(function(){this._renderDeferredData(t,null,[])}.bind(this))}},_resolveDeferredDataItems:function(){this._optionsCopy=n.JsonUtils.clone(this.options,null,this._GetComponentNoClonePaths()),this._ProcessStyles(this._optionsCopy),this._numDeferredObjs=0,this._FixCustomRenderers(this._optionsCopy),this._resolveDocumentFonts(),this._LoadingIndicatorHandler.show();for(var e=this,t=this._GetComponentDeferredDataPaths(),i=Object.keys(t),s=0;s<i.length;s++){var o=i[s];t[o].forEach(function(t){if("root"===o)e._resolveDeferredDataItem.bind(e)(e.options,e._optionsCopy,t);else{var n=e.options[o];if(n&&n instanceof Array)for(var i=0;i<n.length;i++)e._resolveDeferredDataItem.bind(e)(n[i],e._optionsCopy[o][i],t)}})}return 0===this._numDeferredObjs},_resolveDeferredDataItem:function(e,t,n){var i=new y(e,n),s=i.getValue(),o=this;if(s instanceof Function?s=Promise.resolve(s(this._GetDataContext(e))):this._IsCustomElement()&&Array.isArray(s)&&(s=Promise.resolve(s),i.setValue(s,!0)),s&&this._DataProviderHandler.isDataProvider(s)){var r=this._DataProviderHandler.isTreeDataProvider(s);s=o._dataValuePromise[n]||new Promise(function(e){var t=o._TemplateHandler.getTemplateEngine(),i=o._DataProviderHandler.fetchAllData(s,n,!0);Promise.all([t,i]).then(function(t){if(s===o._dataValuePromise[n]){var i=t[0],a=t[1],l=o._ProcessTemplates(n,a,i,r,null,!0);o._dataValuePromise[n]=null,e(l)}},function(){o._dataValuePromise[n]=null})}),o._dataValuePromise[n]=s}if(s instanceof Promise){var a=this._renderCount;s.then(function(e){var i=[n],s=[e];e.paths&&(i=e.paths,s=e.values),o._renderDeferredData(a,t,i,s)},function(){o._renderDeferredData(a,t,[n],[[]])}),this._numDeferredObjs+=1}},_renderDeferredData:function(e,t,n,i){if(this._context&&e===this._renderCount){this._numDeferredObjs-=1;for(var s=0;s<n.length;s++)new y(t,n[s]).setValue(i[s],!0);0===this._numDeferredObjs&&(this._RenderComponent(this._optionsCopy),this._optionsCopy=null)}},_ClearDataProviderState:function(e){this._DataProviderHandler.clear(e),this._TemplateHandler.release(e),this._dataValuePromise[e]=null,this._LoadingIndicatorHandler.setEnabled(this._IsLoadingSkeletonSupported())},_OptionChangeHandler:function(e){for(var t=Object.keys(this._GetSimpleDataProviderConfigs()),n=0;n<t.length;n++){var i=t[n];Object.prototype.hasOwnProperty.call(e,i)&&this._ClearDataProviderState(i)}},_IsLoadingSkeletonSupported:function(){return!1},_GetLoadingSkeletonMaskStyleClass:function(){return""},getElementPropertyNames:function(e){var n=t.CustomElementBridge.getMetadata(e).properties,i=Object.keys(n).filter(function(e){return!n[e]._eventListener}),s=new Set;return i.forEach(function(e){s.add(e)}),s},_ProcessTemplates:function(e,t,n,i,s,o,r){return this._TemplateHandler.processTemplates(e,t,n,i,s,o,r)},_GetSimpleDataProviderConfigs:function(){return{}},_UseObjectAssignForShapedData:function(){return!1},_GetDPEventHandler:function(){return function(e){"notReady"===e.type?this._NotReady():"dataUpdated"===e.type?this._Render():"clearState"===e.type?this._ClearDataProviderState(e.detail.dataProperty):"reset"===e.type?this._TemplateHandler.clear(e.detail.dataProperty,!0):"removeKeys"===e.type&&this._RemoveKeys(e.detail.keys)}.bind(this)},_RemoveKeys:function(e){var t,n,i=this.options.selection,s=new h(e);if(i&&i.length>0){for(var o=(n=i.slice(0)).length-1;o>=0;o--)s.has(n[o])&&(t=!0,n.splice(o,1));t&&this._UserOptionChange("selection",n)}},_getFetchDataHandler:function(e){var t=this._GetSimpleDataProviderConfigs()[e].resultPath;return function(n,i,s,o){var r=this._DataProviderHandler.fetchChildrenData(e,n,o,i),a=this._TemplateHandler.getTemplateEngine();return Promise.all([r,a]).then(function(n){var i=this._ProcessTemplates(e,{data:n[0].data,keys:n[0].keys},n[1],!0,o,!1,!0).values[0];return s&&(s[t]=i),i}.bind(this))}.bind(this)},_configureTabIndex:function(){this.element.attr("role")?this.element[0].hasAttribute("tabindex")||this.element.attr("tabindex",0):this.element.attr("tabindex",null)},_RenderComponent:function(e,t){if(this._context.isReadyToRender()){this._CleanAllTemplates(t);var n=this._IsFlowingLayoutSupported()&&this._resizeListener;n&&this._removeResizeListener(),t&&this._BeforeResizeRender(),this._component.render(t?null:e,this._width,this._height),n&&this._addResizeListener(),this._LoadingIndicatorHandler.hide(),this._LoadingIndicatorHandler.setEnabled(!1),this._configureTabIndex()}else this._renderNeeded=!0,this._MakeReady()},_GetDataContext:function(e){return{}},_IsFlowingLayoutSupported:function(){return!1},whenReady:function(){if(this._ready)return Promise.resolve(!0);if(!this._promise){var e=this;this._promise=new Promise(function(t){e._promiseResolve=t})}return this._promise},_NotReady:function(){if(this._ready=!1,0===this._numDeferredObjs&&!this._readyResolveFunc){var e=i.getContext(this.element[0]).getBusyContext(),t={description:"The component identified by '"+this.element.attr("id")+"' is being loaded."};this._readyResolveFunc=e.addBusyState(t)}},_MakeReady:function(){this._promiseResolve&&(this._promiseResolve(!0),this._promiseResolve=null),this._ready=!0,this._promise=null,this._readyResolveFunc&&(this._readyResolveFunc(),this._readyResolveFunc=null)},_ProcessOptions:function(){n.Agent.isEnvironmentTest()&&(this.options=Object.assign(this.options,this.element[0].__dvtToolkit));var e=this.options.tooltip;e&&e._renderer&&(this.options.tooltip={renderer:this._GetTemplateRenderer(e._renderer,"tooltip")})},_WrapCustomElementRenderer:function(e){var t=this;return e?function(n){n._dvtcontext=t._context;var i=e(n);if(n._templateName&&n._templateCleanup&&(t._AddTemplate(n),"tooltipTemplate"===n._templateName)){const e=t._cleanTooltipTemplate();Object.defineProperty(n,"_tooltipTemplateCleanup",{value:()=>e(n._templateCleanup),enumerable:!1})}if(i&&!0!==i.preventDefault&&i.insert){var s=i.insert;return s.classList&&s.classList.contains("oj-dvtbase")?t._GetDvtComponent(s):s}return null}:null},_FixCustomRenderers:function(e){if(this._IsCustomElement())for(var t=this._GetComponentRendererOptions(),n=0;n<t.length;n++){var i=t[n].path,s=t[n].slot,o=this._TemplateHandler.getTemplates();if(s&&o[s]&&o[s][0])this._ProcessInlineTemplateRenderer(e,i,o[s][0],s);else{var r=new y(e,i),a=r.getValue();a&&r.setValue(this._WrapCustomElementRenderer(a),!0)}}},_GetComponentRendererOptions:function(){return[{path:"tooltip/renderer",slot:"tooltipTemplate"}]},_GetTemplateRenderer:function(e,t){var n=this;return function(i){var s=document.createElement("div");s.style.display="none",e({parentElement:s,context:i});var o=s.children[0];return o?(n._AddTemplate({_templateName:t,_templateCleanup:function(){l(s).remove()}}),s.removeChild(o),l(s).remove(),o):null}},_GetTemplateDataRenderer:function(e,t){var n=this;return function(i){var s=document.createElement("div");s.style.display="none",s._dvtcontext=n._context,n.element.append(s),e({parentElement:s,data:i.data});var o=s.children[0];return o?(n._AddTemplate({_templateName:t,_templateCleanup:function(){l(s).remove()}}),"http://www.w3.org/2000/svg"===o.namespaceURI?(s.removeChild(o),l(s).remove(),o):n._GetDvtComponent(o)):null}},_WrapInlineTemplateRenderer:function(e,t,n){return e},_ProcessInlineTemplateRenderer:function(e,t,n,i){var s=this._renderCount;this._numDeferredObjs+=1,this._TemplateHandler.getTemplateEngine().then(function(o){var r=function(e){return this._TemplateRenderer(e,o,n,i)}.bind(this);r=this._WrapInlineTemplateRenderer(r,i,t),this._renderDeferredData(s,e,[t],[this._WrapCustomElementRenderer(r)])}.bind(this))},_TemplateRenderer:function(e,t,n,i){var s=t.execute(this.element[0],n,e);return s&&s.length>0?(Object.defineProperty(e,"_templateCleanup",{value:()=>{s.forEach(e=>{t.clean(e,this.element[0])})},enumerable:!1}),Object.defineProperty(e,"_templateName",{value:i,enumerable:!1}),{insert:s}):{preventDefault:!0}},_CleanAllTemplates:function(e){for(var t=Object.keys(this._templateMap),n=0;n<t.length;n++){var i=t[n];this._CleanTemplate(i)}},_CleanTemplate:function(e){if(this._templateMap[e]){for(var t=this._templateMap[e].length,n=0;n<t;n++)this._templateMap[e][n]();this._templateMap[e]=[]}},_cleanTooltipTemplate:function(){return e=>{const t=this._templateMap.tooltipTemplate,n=t.findIndex(t=>t===e);-1!==n&&(t[n](),t.splice(n,1))}},_AddTemplate:function(e){var t=e._templateName;this._templateMap[t]||(this._templateMap[t]=[]),this._templateMap[t].push(e._templateCleanup)},_CompareOptionValues:function(e,n,i){switch(e){case"hiddenCategories":case"highlightedCategories":case"selection":return t.Object.compareValues(n,i);default:return this._super(e,n,i)}}},!0),t._registerLegacyNamespaceProp("AttributeGroupHandler",c.AttributeGroupHandler),t._registerLegacyNamespaceProp("ColorAttributeGroupHandler",c.ColorAttributeGroupHandler),t._registerLegacyNamespaceProp("ShapeAttributeGroupHandler",c.ShapeAttributeGroupHandler);const E={_SHAPE_REGEXP:/\d/,_SHAPE_ENUMS:{circle:!0,ellipse:!0,square:!0,rectangle:!0,diamond:!0,triangleUp:!0,triangleDown:!0,plus:!0,human:!0,star:!0},shapeParseFunction:function(e,t){var n=t||E._SHAPE_ENUMS;return function(t,i,s,o){if(e[i]){if(E._SHAPE_REGEXP.test(t))return t;if(n[t])return t;throw new Error("Found: '"+t+"'. Expected one of the following: "+Object.keys(n).toString())}return o(t)}}};return E});
//# sourceMappingURL=ojdvt-base.js.map