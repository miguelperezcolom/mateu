{"version":3,"file":"MessageBannerWebElement.js","sourceRoot":"","sources":["MessageBannerWebElement.ts"],"names":[],"mappings":";;;AAAA,qEAAmE;AACnE,2DAA+C;AAC/C,+EAA4E;AAE5E;;;;GAIG;AACH,MAAa,uBAAwB,SAAQ,yDAA2B;IACtE;;;;;OAKG;IACH,KAAK,CAAC,UAAU,CAAI,cAA0B;QAC5C,MAAM,GAAG,GAAG,cAAc,CAAC,GAAG,CAAC;QAC/B,MAAM,eAAe,GAAG,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;QACrD,MAAM,2BAA2B,GAAG,iCAAiC,CAAC;QAEtE,IAAI,CAAC;YACH,MAAM,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW,CAC/B,uBAAE,CAAC,GAAG,CAAC,GAAG,eAAe,IAAI,2BAA2B,EAAE,CAAC,CAC5D,CAAC;YACF,OAAO,IAAA,+BAAS,EAAC,EAAE,EAAE,IAAI,CAAC,CAAC;QAC7B,CAAC;QAAC,OAAO,CAAC,EAAE,CAAC;YACX,MAAM,IAAI,0BAAK,CAAC,kBAAkB,CAChC,4EAA4E,CAC7E,CAAC;QACJ,CAAC;IACH,CAAC;IAED;;;;OAIG;IACH,KAAK,CAAC,OAAO,CAAI,cAA0B;QACzC,MAAM,GAAG,GAAG,cAAc,CAAC,GAAG,CAAC;QAC/B,MAAM,eAAe,GAAG,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;QACrD,MAAM,mBAAmB,GAAG,uCAAuC,CAAC;QAEpE,IAAI,CAAC;YACH,MAAM,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,uBAAE,CAAC,GAAG,CAAC,GAAG,eAAe,IAAI,mBAAmB,EAAE,CAAC,CAAC,CAAC;YACvF,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC;QACnB,CAAC;QAAC,OAAO,CAAC,EAAE,CAAC;YACX,MAAM,IAAI,0BAAK,CAAC,yBAAyB,CACvC,+DAA+D,CAChE,CAAC;QACJ,CAAC;IACH,CAAC;IAED;;;;;OAKG;IACK,kBAAkB,CAAI,GAAM;QAClC,OAAO,OAAO,GAAG,KAAK,QAAQ;YAC5B,CAAC,CAAC,wBAAwB,GAAG,IAAI;YACjC,CAAC,CAAC,wBAAwB,GAAG,IAAI,CAAC;IACtC,CAAC;CACF;AAvDD,0DAuDC","sourcesContent":["import { SlotProxy, slotProxy } from '@oracle/oraclejet-webdriver';\nimport { By, error } from 'selenium-webdriver';\nimport { MessageBannerWebElementBase } from './MessageBannerWebElementBase';\n\n/**\n * The component WebElement for [oj-c-message-banner](../../jsdocs/oj-c.MessageBanner.html).\n * Do not instantiate this class directly, instead, use\n * [findMessageBanner](../functions/findMessageBanner.html).\n */\nexport class MessageBannerWebElement extends MessageBannerWebElementBase {\n  /**\n   * Retrieve a SlotProxy which represents the detail content of a single message.\n   * @param messageLocator.key The key within the MessageBanner's dataset associated with the individual message.\n   * @throws {Error} when the detail content rendered is not provided by the application\n   * @returns The detail content of the message rendered by the application\n   */\n  async findDetail<K>(messageLocator: { key: K }): Promise<SlotProxy> {\n    const key = messageLocator.key;\n    const messageSelector = this.getMessageSelector(key);\n    const customDetailContentSelector = '[data-oj-message-custom-detail]';\n\n    try {\n      const el = await this.findElement(\n        By.css(`${messageSelector} ${customDetailContentSelector}`)\n      );\n      return slotProxy(el, this);\n    } catch (e) {\n      throw new error.NoSuchElementError(\n        'No corresponding detail template or renderer found for the messageLocator.'\n      );\n    }\n  }\n\n  /**\n   * Closes the message identified by the provided key.\n   * @param messageLocator.key The key within the MessageBanner's dataset associated with the individual message.\n   * @throws {Error} when the specified is not closable (closeAffordance set to \"off\")\n   */\n  async doClose<K>(messageLocator: { key: K }): Promise<void> {\n    const key = messageLocator.key;\n    const messageSelector = this.getMessageSelector(key);\n    const closeButtonSelector = '[data-oj-message-close-button] button';\n\n    try {\n      const el = await this.findElement(By.css(`${messageSelector} ${closeButtonSelector}`));\n      await el.click();\n    } catch (e) {\n      throw new error.UnsupportedOperationError(\n        'The close operation is not applicable for the messageLocator.'\n      );\n    }\n  }\n\n  /**\n   * Creates the CSS selector for the message with the provided key.\n   *\n   * @param key The key of the message\n   * @returns the css selector that can used to fetch the message\n   */\n  private getMessageSelector<K>(key: K) {\n    return typeof key === 'number'\n      ? `[data-oj-key=\"number-${key}\"]`\n      : `[data-oj-key=\"string-${key}\"]`;\n  }\n}\n"]}