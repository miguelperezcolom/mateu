define(['exports', './useDnd-33ec1cdf', './themeContract.css-2e4b066d', './utils-ad4761c9', './PRIVATE_BaseLegend/themes/LegendStyles.css', './eventsUtils-5fb81c3e'], (function(e,t,n,i,r,o){"use strict";function s({event:e,target:t}){const n=document.createElement("div"),{width:i,height:r,x:o,y:s}=t.getBoundingClientRect(),a=t.cloneNode(!0);n.appendChild(a);const l=window.getComputedStyle(t.parentElement);return n.style.fontSize=l.getPropertyValue("font-size"),n.style.fontFamily=l.getPropertyValue("font-family"),n.style.textAnchor=l.getPropertyValue("text-anchor"),n.style.dominantBaseline=l.getPropertyValue("dominant-baseline"),{image:n,offSetX:e.clientX-o,offSetY:e.clientY-s,width:i,height:r}}const a=e=>{const t=e.dataset.ojPrivateItem,n=e.dataset.ojPrivateSection;if(null!=t&&null!=n)return{itemIdx:Number(t),sectionIdx:Number(n)}};function l(e,t){if(t)return 0===t.length||new Set(t).has(e)}function d(e,t){if(t)return new Set(t).has(e)}const c=(e,t,n)=>{if(!e.isFocusVisible)return!1;const{itemIdx:i,sectionIdx:r}=e;return null==n?i===t:i===t&&r===n};const u=[{tokenVar:i.xUnits(1),key:"unit",cssProp:"padding"},{tokenVar:n.dvtVars.label.sm.fontSize,key:"fontSize",cssProp:"font-size"}];e.getAriaProps=function(e,t,n,i,r){return{"aria-label":t,"aria-disabled":e,role:n&&!e?"menu":"application","aria-describedby":i,"aria-labelledby":r}},e.getDatatipText=function(e,t,n,i){const r=i?.isCurrent;return r&&null!=i.itemIdx?t(i,e)?.datatip:n&&n.isCurrent?t(n,e)?.datatip:void 0},e.getGridCellIndices=function(e,t,n,i){let r,o;return n&&i&&e>n&&(r=t%i+1,o=Math.floor(t/i)+1),{gridRow:r,gridCol:o}},e.getGridNums=(e,t,n)=>{let i,r;return"vertical"===n&&(i=1,r=e),t?.isWrapped&&(i=t.itemsPerRow,r=Math.ceil(e/i),i=Math.ceil(e/r)),{itemsPerRow:i,itemsPerCol:r}},e.getIsLegendItemActionable=function(e,t,n){return i=>{let r;return r=n&&null!=i.sectionIdx?e[i.sectionIdx].items[i.itemIdx]:e[i.itemIdx],!t&&"off"!==r?.actionable}},e.getItemInfo=a,e.getItemProps=function(e,t,n,i,r,o,s,a){let u=!1;if(!r){const e=t===i.itemIdx&&n===i.sectionIdx,r=t===o?.itemIdx&&n===o?.sectionIdx;u=!!(e&&i.isCurrent||r&&o?.isCurrent)}return{isCurrent:u,isHighlighted:l(e.id,a),isHidden:d(e.id,s),isFocused:c(i,t,n),key:e.id,...e}},e.getKeyUpHandler=function(e,t,n,i){return r=>{switch(r.code){case"Space":i&&(e(),o.cancelEvent(r));break;case"Enter":e(),o.cancelEvent(r);break;case"Home":t({itemIdx:0,sectionIdx:0,isFocusVisible:!0,isCurrent:!0}),o.cancelEvent(r);break;case"End":t({itemIdx:-1,sectionIdx:-1,isCurrent:!0,isFocusVisible:!0}),o.cancelEvent(r);break;case"Tab":t({...n,isCurrent:!0,isFocusVisible:!0}),o.cancelEvent(r)}}},e.getLegendCurrentItemStyle=function(e,t,n,i,o,s){if(e){if(null==t&&null==o&&"off"!==s)return r.styles.legendItemIsCurrentWithCursor;if(null==t&&"on"===n&&"off"!==s)return r.styles.legendItemIsCurrentWithCursor;if(null==o&&"dim"===i&&"off"!==s)return r.styles.legendItemIsCurrentWithoutCursor}return""},e.getLegendTextStyle=function(e,t){return{fontStyle:e.fontStyle,fontSize:t.fontSize??e.fontSize,fontWeight:e.fontWeight,fontFamily:e.fontFamily}},e.getSectionGridNums=(e,t)=>{let n,i;return t&&(n=t,i=Math.ceil(e/n),n=Math.ceil(e/i)),{itemsPerRow:n,itemsPerCol:i}},e.isEqualItem=(e,t)=>e?.itemIdx===t?.itemIdx&&e?.sectionIdx===t?.sectionIdx,e.legendVars=u,e.useLegendDnd=({onDragStart:e,onDrag:n,onDragEnd:i,onDragEnter:r,onDragLeave:o,onDragOver:l,onDrop:d,items:c,sections:u,itemDraggable:f,setDragOver:g,setDatatipDisabled:m})=>{const I=void 0!==f,{dragProps:p,dropProps:x,content:y}=t.useDnd({onDragStart:e,onDrag:n,onDragEnd:i,onDragEnter:r,onDragLeave:o,onDragOver:l,onDrop:d,getDragContext:function(e,t){const n=a(e)?.itemIdx;let i,r;if(u&&(i=a(e)?.sectionIdx),c){if(r=void 0!==n?c[n]:null,f&&r&&f(r))return{type:"item",data:r,event:t}}else if(r=void 0!==i&&void 0!==n?u[i]?.items[n]:null,f&&r&&f(r))return{type:"item",data:r,event:t,itemIndexPath:[i,n]}},getDropContext:function(e){return{type:"background",event:e}},getDragImage:s,setDatatipDisabled:m,showDropEffect:function(){g(!0)},showRejectedDropEffect:function(){g(!1)},clearDropEffect:function(){g(void 0)}});return{draggable:I,dndProps:I?{...p,...x}:x,dndContent:y}}}));
//# sourceMappingURL=useLegendDnd-daee983e.js.map
